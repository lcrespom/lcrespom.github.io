{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "src/enemies.ts",
    "src/explosion.ts",
    "src/gamelib/game.ts",
    "src/gamelib/keyboard.ts",
    "src/gamelib/shape.ts",
    "src/main.ts",
    "src/shape-wars.ts",
    "src/ship.ts",
    "src/sounds.ts",
    "src/stars.ts",
    "src/static/sounds.ts",
    "src/static/waves.ts",
    "src/status-display.ts",
    "src/wave.ts"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import { Game, GameElement, ElementGroup } from './gamelib/game';\nimport { Shape } from './gamelib/shape';\nimport { ShapeWarsElements } from './shape-wars';\nimport { Explosion } from './explosion';\nimport { Route, Squadron } from './wave';\nimport { initWave } from './static/waves';\n\n\n/** The living set of enemy ships in the game */\nexport class Enemies extends ElementGroup {\n\tendWave = false;\n\twavect = 100;\n\n\tconstructor(public wave: number) {\n\t\tsuper();\n\t\tlet squadrons = initWave(wave);\n\t\tfor (let sq of squadrons)\n\t\t\tthis.add(\n\t\t\t\tnew Squadron(sq.route, sq.shape, sq.ships, sq.steps, sq.delay)\n\t\t\t);\n\t}\n\n\tstep(game: Game) {\n\t\tsuper.step(game);\n\t\tthis.endWave = this.items.length == 0;\n\t\tif (this.wavect > 0)\n\t\t\tthis.wavect--;\n\t}\n}\n\n\nexport class Enemy implements GameElement {\n\tdead = false;\n\n\tconstructor(public route: Route, public shape: Shape) {\n\t}\n\n\tstep(game: Game) {\n\t\tlet elements = game.elements as ShapeWarsElements;\n\t\tif (elements.ship.dead)\n\t\t\tthis.route.ay = -0.2;\n\t\tthis.move(game.canvas);\n\t}\n\n\tdraw(game: Game) {\n\t\tthis.shape.draw(game.gc, this.route.x, this.route.y, this.calcAngle());\n\t}\n\n\tcalcAngle(): number {\n\t\tlet angle = - Math.atan(this.route.speedX / this.route.speedY);\n\t\tif (this.route.speedY < 0)\n\t\t\tangle += Math.PI;\n\t\treturn angle;\n\t}\n\n\tmove(canvas: HTMLCanvasElement) {\n\t\tthis.route.move();\n\t\tif (this.shape.isOutside(canvas, this.route.x, this.route.y)) {\n\t\t\tthis.dead = true;\n\t\t\treturn;\n\t\t}\n\t}\n\n\tisHit(x: number, y: number) {\n\t\treturn this.shape.isPointInside(\n\t\t\tthis.route.x, this.route.y, x, y);\n\t}\n\n\texplode(game: Game) {\n\t\tlet elements = game.elements as ShapeWarsElements;\n\t\telements.explosions.add(new Explosion(\n\t\t\t{ x: this.route.x, y: this.route.y }));\n\t\telements.sounds.enemyExplode();\n\t\tthis.dead = true;\n\t}\n}\n",
    "import { Game, GameElement } from './gamelib/game';\n\n\ninterface ExplosionParams {\n\tx: number;\n\ty: number;\n\tradius?: number;\n\tgrowTicks?: number;\n\tshrinkTicks?: number;\n\tfillStyle?: string;\n\tstrokeStyle?: string;\n\trays?: number;\n}\n\nlet defaultParams: ExplosionParams = {\n\tx: 0, y: 0, radius: 30,\n\tgrowTicks: 12, shrinkTicks: 40,\n\tfillStyle: '', strokeStyle: 'white',\n\trays: 6\n};\n\nexport class Explosion implements GameElement {\n\tstepct = 0;\n\tdead = false;\n\tradius = 0;\n\tparams: ExplosionParams;\n\n\tconstructor(params: ExplosionParams) {\n\t\tthis.params = Object.assign({}, defaultParams, params);\n\t}\n\n\tstep(game: Game) {\n\t\tlet grow = this.params.growTicks;\n\t\tlet shrink = this.params.shrinkTicks;\n\t\tlet r = this.params.radius;\n\t\tif (this.stepct < grow)\n\t\t\tthis.radius += r / grow;\n\t\telse if (this.stepct < grow + shrink)\n\t\t\tthis.radius -= r / shrink;\n\t\telse\n\t\t\tthis.dead = true;\n\t\tthis.stepct++;\n\t}\n\n\tdraw(game: Game) {\n\t\tgame.gc.strokeStyle = this.params.strokeStyle || 'red';\n\t\tgame.gc.translate(this.params.x, this.params.y);\n\t\tlet angle = 2 * Math.PI / this.params.rays;\n\t\tgame.gc.rotate(Math.random());\n\t\tgame.gc.beginPath();\n\t\tfor (let i = 0; i < this.params.rays; i++) {\n\t\t\tgame.gc.moveTo(0, 0);\n\t\t\tgame.gc.lineTo(this.radius * (0.5 + Math.random() / 2), 0);\n\t\t\tgame.gc.rotate(angle);\n\t\t}\n\t\tgame.gc.stroke();\n\t\tgame.gc.setTransform(1, 0, 0, 1, 0, 0);\n\t}\n}\n",
    "export interface GameElement {\n\tstep: (game: Game) => void;\n\tdraw: (game: Game) => void;\n\tdead?: boolean;\n}\n\n\nexport interface GameElements {\n\t[prop: string]: GameElement;\n}\n\n\nexport class Game {\n\tgc: CanvasRenderingContext2D;\n\ttime: number;\n\tfps = 0;\n\tcpu = 0;\n\n\tconstructor(public canvas: HTMLCanvasElement, public elements: GameElements) {\n\t\tlet ctx = this.canvas.getContext('2d');\n\t\tif (!ctx)\n\t\t\tthrow Error('Could not setup canvas');\n\t\tthis.gc = ctx;\n\t\tthis.time = performance.now();\n\t}\n\n\tloop(cb?: () => void) {\n\t\twindow.requestAnimationFrame(_ => {\n\t\t\tlet tBefore = performance.now();\n\t\t\tthis.step();\n\t\t\tthis.draw();\n\t\t\tthis.calcTime(tBefore);\n\t\t\tif (cb) cb();\n\t\t\tthis.loop(cb);\n\t\t});\n\t}\n\n\tstep() {\n\t\tfor (let key of Object.keys(this.elements))\n\t\t\tthis.elements[key].step(this);\n\t}\n\n\tdraw() {\n\t\tthis.gc.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\t\tfor (let key of Object.keys(this.elements))\n\t\t\tthis.elements[key].draw(this);\n\t}\n\n\tcalcTime(tBefore: number) {\n\t\tlet now = performance.now();\n\t\tlet elapsed = now - this.time;\n\t\tthis.time = now;\n\t\tthis.fps = 1000 / elapsed;\n\t\tthis.cpu = (now - tBefore) / elapsed;\n\t}\n}\n\n\nexport class ElementGroup implements GameElement {\n\titems: GameElement[];\n\n\tconstructor() {\n\t\tthis.items = [];\n\t}\n\n\tstep(game: Game) {\n\t\tfor (let item of this.items)\n\t\t\titem.step(game);\n\t}\n\n\tdraw(game: Game) {\n\t\tthis.items = this.items.filter(item => !item.dead);\n\t\tfor (let item of this.items)\n\t\t\titem.draw(game);\n\t}\n\n\tadd(element: GameElement) {\n\t\tthis.items.push(element);\n\t}\n\n\tforEach(cb: (ge: GameElement) => void) {\n\t\tthis.items.forEach(item => {\n\t\t\tif (item instanceof ElementGroup)\n\t\t\t\titem.forEach(cb);\n\t\t\telse cb(item);\n\t\t});\n\t}\n\n\tfind(cb: (ge: GameElement) => boolean): GameElement | undefined {\n\t\tlet ge: GameElement | undefined = undefined;\n\t\tthis.items.some(item => {\n\t\t\tif (item instanceof ElementGroup) {\n\t\t\t\tge = item.find(cb);\n\t\t\t\treturn ge !== undefined;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!cb(item))\n\t\t\t\t\treturn false;\n\t\t\t\tge = item;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t});\n\t\treturn ge;\n\t}\n}\n",
    "const pressedKeys = {};\n\nexport function setupKeyboard(kbTarget = 'body') {\n\t$(kbTarget)\n\t.on('keydown', evt => {\n\t\t// Skip repetitions\n\t\tif (pressedKeys[evt.keyCode]) return;\n\t\t// Skip browser shortcuts\n\t\tif (evt.metaKey || evt.altKey || evt.ctrlKey) return;\n\t\tpressedKeys[evt.keyCode] = true;\n\t})\n\t.on('keyup', evt => {\n\t\tpressedKeys[evt.keyCode] = false;\n\t});\n}\n\nexport function isKeyPressed(keyCode) {\n\treturn pressedKeys[keyCode];\n}\n",
    "export interface Path {\n\tfillStyle: string;\n\tpoints: Point[];\n}\n\nexport interface Point {\n\tx: number;\n\ty: number;\n}\n\nexport class Shape {\n\twidth: number;\n\theight: number;\n\tradius: number;\n\n\tconstructor(public paths: Path[]) {\n\t\tlet { minx, miny } = this.calcWidthHeight(paths);\n\t\tthis.recenter(minx, miny);\n\t\tthis.radius = Math.max(this.width, this.height) / 2;\n\t}\n\n\tcalcWidthHeight(paths: Path[]) {\n\t\tlet { x: minx, y: miny } = paths[0].points.reduce(\n\t\t\t(prev, curr) => ({\n\t\t\t\tx: Math.min(prev.x, curr.x),\n\t\t\t\ty: Math.min(prev.y, curr.y)\n\t\t\t}));\n\t\tlet { x: maxx, y: maxy } = paths[0].points.reduce(\n\t\t\t(prev, curr) => ({\n\t\t\t\tx: Math.max(prev.x, curr.x),\n\t\t\t\ty: Math.max(prev.y, curr.y)\n\t\t\t}));\n\t\tthis.width = maxx - minx;\n\t\tthis.height = maxy - miny;\n\t\treturn { minx, miny };\n\t}\n\n\trecenter(minx: number, miny: number) {\n\t\tthis.paths.forEach(path => path.points.forEach(point => {\n\t\t\tpoint.x -= minx + this.width / 2;\n\t\t\tpoint.y -= miny + this.height / 2;\n\t\t}));\n\t}\n\n\tdraw(gc: CanvasRenderingContext2D, x: number, y: number,\n\t\tangle = 0, scaleX = 1, scaleY = scaleX) {\n\t\tfor (let path of this.paths) {\n\t\t\tgc.beginPath();\n\t\t\tgc.fillStyle = path.fillStyle;\n\t\t\tgc.translate(x, y);\n\t\t\tif (angle) gc.rotate(angle);\n\t\t\tif (scaleX != 1 || scaleY != 1) gc.scale(scaleX, scaleY);\n\t\t\tgc.moveTo(path.points[0].x, path.points[0].y);\n\t\t\tfor (let i = 1; i < path.points.length; i++)\n\t\t\t\tgc.lineTo(path.points[i].x, path.points[i].y);\n\t\t\tgc.closePath();\n\t\t\tgc.fill();\n\t\t\tgc.setTransform(1, 0, 0, 1, 0, 0);\n\t\t}\n\t}\n\n\tisOutside(canvas: HTMLCanvasElement, x: number, y: number) {\n\t\treturn x + this.width < 0\n\t\t\t|| x - this.width > canvas.width\n\t\t\t|| y + this.height < 0\n\t\t\t|| y - this.height > canvas.height;\n\t}\n\n\tisPointInside(sx: number, sy: number, px: number, py: number) {\n\t\tlet sqr = x => x * x;\n\t\tlet dist = Math.sqrt(sqr(sx - px) + sqr(sy - py));\n\t\treturn dist <= this.radius;\n\t}\n}\n",
    "import { setupKeyboard, isKeyPressed } from './gamelib/keyboard';\nimport { ShapeWars } from './shape-wars';\n\nconst RESET_KEY = 82;\n\n\nfunction initGame() {\n\tsetupKeyboard();\n\tlet canvas = $('#game-canvas')[0] as HTMLCanvasElement;\n\tlet shapeWars = new ShapeWars(canvas);\n\treturn shapeWars;\n}\n\nfunction runGame() {\n\tlet fpsct = 0;\n\tlet shapeWars = initGame();\n\tshapeWars.loop(() => {\n\t\tif ((++fpsct) == 30) {\n\t\t\tfpsct = 0;\n\t\t\t$('#fps').text(Math.round(shapeWars.game.fps));\n\t\t\t$('#cpu').text(Math.round(shapeWars.game.cpu * 100));\n\t\t}\n\t\tif (isKeyPressed(RESET_KEY))\n\t\t\tshapeWars.reset();\n\t});\n}\n\n$(function() {\n\trunGame();\n});\n",
    "import { Game, ElementGroup, GameElements } from './gamelib/game';\nimport { Starfield } from './stars';\nimport { StatusDisplay } from './status-display';\nimport { Ship } from './ship';\nimport { Enemies } from './enemies';\nimport { Sounds } from './sounds';\n\n\nexport interface ShapeWarsElements extends GameElements {\n\tstars: Starfield;\n\tstatus: StatusDisplay;\n\tship: Ship;\n\tbullets: ElementGroup;\n\tenemies: Enemies;\n\texplosions: ElementGroup;\n\tsounds: Sounds;\n}\n\n\nexport class ShapeWars {\n\tgame: Game;\n\telements: ShapeWarsElements;\n\tsounds: Sounds;\n\tplayedGameOver = false;\n\twave = 1;\n\n\tconstructor(canvas: HTMLCanvasElement) {\n\t\tthis.sounds = new Sounds();\n\t\tthis.createElements(canvas);\n\t\tthis.game = new Game(canvas, this.elements);\n\t}\n\n\tloop(cb: () => void) {\n\t\tthis.game.loop(() => {\n\t\t\tthis.step();\n\t\t\tif (cb) cb();\n\t\t});\n\t}\n\n\tstep() {\n\t\tif (this.playedGameOver) return;\n\t\tlet ship = this.elements.ship;\n\t\tif (ship.startWave) {\n\t\t\tship.startWave = false;\n\t\t\tthis.startWave();\n\t\t}\n\t\telse if (ship.gameOver) {\n\t\t\tthis.sounds.gameOver();\n\t\t\tthis.playedGameOver = true;\n\t\t}\n\t\telse if (this.elements.enemies.endWave) {\n\t\t\tthis.wave++;\n\t\t\tthis.startWave();\n\t\t}\n\t}\n\n\tstartWave() {\n\t\tthis.sounds.waveStart();\n\t\tthis.elements.enemies = new Enemies(this.wave);\n\t}\n\n\treset() {\n\t\tthis.wave = 1;\n\t\tthis.createElements(this.game.canvas);\n\t\tthis.game.elements = this.elements;\n\t\tthis.playedGameOver = false;\n\t}\n\n\tcreateElements(canvas) {\n\t\tthis.elements = {\n\t\t\tstars: new Starfield(canvas),\n\t\t\tstatus: new StatusDisplay(),\n\t\t\tship: new Ship(canvas),\n\t\t\tbullets: new ElementGroup(),\n\t\t\tenemies: new Enemies(this.wave),\n\t\t\texplosions: new ElementGroup(),\n\t\t\tsounds: this.sounds\n\t\t};\n\t}\n}\n\n",
    "import { Game, GameElement } from './gamelib/game';\nimport { Shape } from './gamelib/shape';\nimport { isKeyPressed } from './gamelib/keyboard';\nimport { ShapeWarsElements } from './shape-wars';\nimport { Enemy } from './enemies';\nimport { Explosion } from './explosion';\n\nconst KEY_LEFT = 90;\nconst KEY_RIGHT = 88;\nconst CURSOR_LEFT = 37;\nconst CURSOR_RIGHT = 39;\nconst KEY_FIRE = 77;\n\nconst BULLET_LENGTH = 6;\nconst BULLET_STROKE_STYLE = 'white';\nconst BULLET_SPEED = 8;\nconst DYING_TICKS = 180;\nconst ENEMY_SCORE = 100;\n\nlet shipPaths = [{\n\tfillStyle: 'rgb(0, 192, 128)',\n\tpoints: [\n\t\t{ x: 0, y: 50 },\n\t\t{ x: 25, y: 0 },\n\t\t{ x: 50, y: 50 }\n\t]\n}];\n\n\nexport class Ship implements GameElement {\n\tspeedY = 1;\n\tspeedX = 3;\n\tx: number;\n\ty: number;\n\tshape: Shape;\n\tcanFire = true;\n\tdead = false;\n\tlives = 3;\n\tdiect: number;\n\tgameOver = false;\n\tstartWave = true;\n\tscore = 0;\n\n\tconstructor(canvas: HTMLCanvasElement) {\n\t\tthis.x = canvas.width / 2;\n\t\tthis.y = canvas.height - 100;\n\t\tthis.shape = new Shape(shipPaths);\n\t}\n\n\tstep(game: Game) {\n\t\tif (this.dead) {\n\t\t\tthis.diect--;\n\t\t\tif (this.diect <= 0) {\n\t\t\t\tif (this.lives <= 0)\n\t\t\t\t\tthis.gameOver = true;\n\t\t\t\telse {\n\t\t\t\t\tthis.dead = false;\n\t\t\t\t\tthis.startWave = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.move(game);\n\t\t\tthis.fire(game);\n\t\t\tif (this.hitByEnemy(game))\n\t\t\t\tthis.die(game);\n\t\t}\n\t}\n\n\tdraw(game: Game) {\n\t\tif (this.dead) return;\n\t\tthis.shape.draw(game.gc, this.x, this.y);\n\t}\n\n\tmove(game: Game) {\n\t\tif ((isKeyPressed(KEY_LEFT) || isKeyPressed(CURSOR_LEFT))\n\t\t\t&& this.x > this.shape.width / 2 + 5)\n\t\t\tthis.x -= this.speedX;\n\t\tif ((isKeyPressed(KEY_RIGHT) || isKeyPressed(CURSOR_RIGHT))\n\t\t\t&& this.x < game.canvas.width - this.shape.width / 2 - 5)\n\t\t\tthis.x += this.speedX;\n\t}\n\n\tfire(game: Game) {\n\t\tif (isKeyPressed(KEY_FIRE)) {\n\t\t\tif (!this.canFire) return;\n\t\t\tthis.canFire = false;\n\t\t\tlet elements = game.elements as ShapeWarsElements;\n\t\t\telements.bullets.add(new Bullet(this.x, this.y - 15));\n\t\t\telements.sounds.pew();\n\t\t}\n\t\telse {\n\t\t\tthis.canFire = true;\n\t\t}\n\t}\n\n\thitByEnemy(game: Game): boolean {\n\t\tlet killed = false;\n\t\tlet elements = game.elements as ShapeWarsElements;\n\t\telements.enemies.find((enemy: Enemy) => {\n\t\t\tif (!near(this.x, this.y, this.shape.radius,\n\t\t\t\tenemy.route.x, enemy.route.y, enemy.shape.radius)) return false;\n\t\t\tfor (let point of this.shape.paths[0].points) {\n\t\t\t\tif (enemy.isHit(this.x + point.x, this.y + point.y)) {\n\t\t\t\t\tkilled = true;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\treturn killed;\n\t}\n\n\tdie(game: Game) {\n\t\tlet elements = game.elements as ShapeWarsElements;\n\t\telements.explosions.add(new Explosion({\n\t\t\tx: this.x, y: this.y, radius: 50\n\t\t}));\n\t\telements.sounds.shipExplode();\n\t\tthis.diect = DYING_TICKS;\n\t\tthis.dead = true;\n\t\tthis.lives--;\n\t}\n}\n\n\nfunction near(x1, y1, r1, x2, y2, r2) {\n\tlet sqr = x => x * x;\n\tlet dist = Math.sqrt(sqr(x1 - x2) + sqr(y1 - y2));\n\treturn dist <= r1 + r2;\n}\n\n\nclass Bullet implements GameElement {\n\tdead = false;\n\n\tconstructor(public x: number, public y: number) { }\n\n\tstep(game: Game) {\n\t\tthis.y -= BULLET_SPEED;\n\t\tif (this.hitEnemy(game) || this.y < 0)\n\t\t\tthis.dead = true;\n\t}\n\n\tdraw(game: Game) {\n\t\tgame.gc.beginPath();\n\t\tgame.gc.strokeStyle = BULLET_STROKE_STYLE;\n\t\tgame.gc.moveTo(this.x, this.y);\n\t\tgame.gc.lineTo(this.x, this.y - BULLET_LENGTH);\n\t\tgame.gc.closePath();\n\t\tgame.gc.stroke();\n\t}\n\n\thitEnemy(game: Game): boolean {\n\t\tlet killed = false;\n\t\tlet elements = game.elements as ShapeWarsElements;\n\t\telements.enemies.find((enemy: Enemy) => {\n\t\t\tif (enemy.isHit(this.x, this.y)) {\n\t\t\t\tenemy.explode(game);\n\t\t\t\telements.ship.score += ENEMY_SCORE;\n\t\t\t\tkilled = true;\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\treturn killed;\n\t}\n}\n",
    "import { Game, GameElement, ElementGroup } from './gamelib/game';\nimport sounds from './static/sounds';\n\n\ninterface Instrument {\n\tnoteOn(midi: number, velocity?: number): void;\n\tnoteOff(midi: number, velocity?: number): void;\n}\n\ndeclare class Window {\n\tAudioContext: any;\n\twebkitAudioContext: any;\n\tModulator: {\n\t\tInstrument: any;\n\t};\n}\n\ndeclare let window: Window;\n\n\nexport class Sounds extends ElementGroup {\n\tiPew: Instrument;\n\tiEnemyExplode: Instrument;\n\tiShipExplode: Instrument;\n\tiGameStart: Instrument;\n\tiGameOver: Instrument;\n\n\tconstructor() {\n\t\tsuper();\n\t\tlet ac = this.createAudioContext();\n\t\tlet MInstrument = window.Modulator.Instrument;\n\t\tthis.iPew = new MInstrument(ac, sounds.pew, 4);\n\t\tthis.iEnemyExplode = new MInstrument(ac, sounds.enemyExplode, 4);\n\t\tthis.iShipExplode = new MInstrument(ac, sounds.shipExplode, 1);\n\t\tthis.iGameStart = new MInstrument(ac, sounds.gameStart, 3);\n\t\tthis.iGameOver = new MInstrument(ac, sounds.gameOver, 3);\n\t}\n\n\tcreateAudioContext(): AudioContext {\n\t\tconst CtxClass: any = window.AudioContext || window.webkitAudioContext;\n\t\treturn new CtxClass();\n\t}\n\n\tsoundNote(instrument: Instrument, note = 57) {\n\t\tinstrument.noteOff(57);\n\t\tinstrument.noteOn(57);\n\t}\n\n\tpew() {\n\t\tthis.soundNote(this.iPew);\n\t}\n\n\tenemyExplode() {\n\t\tthis.soundNote(this.iEnemyExplode);\n\t}\n\n\tshipExplode() {\n\t\tthis.soundNote(this.iShipExplode);\n\t}\n\n\twaveStart() {\n\t\tthis.add(new NoteSequence(this.iGameOver, [\n\t\t\t{ steps: 20, on: 48 },\n\t\t\t{ steps: 20, on: 55 },\n\t\t\t{ steps: 20, on: 60 },\n\t\t\t{ steps: 0, off: 48 },\n\t\t\t{ steps: 0, off: 55 },\n\t\t\t{ steps: 0, off: 60 }\n\t\t]));\n\t}\n\n\tgameOver() {\n\t\tthis.add(new NoteSequence(this.iGameOver, [\n\t\t\t{ steps: 30, on: 47 },\n\t\t\t{ steps: 30, off: 47 },\n\t\t\t{ steps: 30, on: 41 },\n\t\t\t{ steps: 30, off: 41 },\n\t\t\t{ steps: 30, on: 36 },\n\t\t\t{ steps: 0, off: 36 }\n\t\t]));\n\t}\n}\n\n\ninterface NoteData {\n\tsteps: number;\n\ton?: number;\n\toff?: number;\n}\n\n\nclass NoteSequence implements GameElement {\n\tidx = -0;\n\tstepct = 0;\n\tdead = false;\n\n\tconstructor(public instrument, public notes: NoteData[]) {}\n\n\tdraw(game: Game) {}\n\n\tstep(game: Game) {\n\t\tthis.stepct--;\n\t\tif (this.stepct > 0) return;\n\t\tlet note = this.notes[this.idx];\n\t\tif (note.off)\n\t\t\tthis.instrument.noteOff(note.off);\n\t\tif (note.on)\n\t\t\tthis.instrument.noteOn(note.on);\n\t\tthis.stepct = note.steps;\n\t\t// ToDo: if stepct == 0, immediately play next note\n\t\t// ToDo: investigante incorrect notes\n\t\tthis.idx++;\n\t\tif (this.idx >= this.notes.length)\n\t\t\tthis.dead = true;\n\t}\n}\n",
    "import { Game, GameElement } from './gamelib/game';\nimport { ShapeWarsElements } from './shape-wars';\n\nconst NUM_STARS = 200;\n\ninterface Star {\n\tx: number;\n\ty: number;\n\tspeed: number;\n\tfillStyle: string;\n\t// ToDo: twinkle period, twinkle position\n}\n\nexport class Starfield implements GameElement {\n\tstars: Star[];\n\n\tconstructor(canvas: HTMLCanvasElement) {\n\t\tthis.initStars(canvas.width, canvas.height);\n\t}\n\n\tinitStars(w: number, h: number) {\n\t\tthis.stars = [];\n\t\tfor (let i = 0; i < NUM_STARS; i++) {\n\t\t\tthis.stars.push(this.initStar(w, h));\n\t\t}\n\t}\n\n\tinitStar(w: number, h: number, str = { y: 0 }): Star {\n\t\tlet star = str as Star;\n\t\tstar.x = Math.random() * w;\n\t\tstar.y = star.y > 0 ? 0 : Math.random() * h;\n\t\tstar.speed = 0.1 + Math.random() * 0.9;\n\t\tlet randomColor = () => Math.round(128 + 127 * Math.random() * star.speed);\n\t\tlet r = randomColor(), g = randomColor(), b = randomColor();\n\t\tstar.fillStyle = `rgb(${r}, ${g}, ${b})`;\n\t\treturn star;\n\t}\n\n\tdrawStar(gc: CanvasRenderingContext2D, star: Star) {\n\t\tgc.fillStyle = star.fillStyle;\n\t\tgc.fillRect(star.x, star.y, 2, 2);\n\t}\n\n\tstep(game: Game) {\n\t\tfor (let star of this.stars) {\n\t\t\tlet elements = game.elements as ShapeWarsElements;\n\t\t\tstar.y += star.speed * elements.ship.speedY;\n\t\t\tif (star.y > game.canvas.height)\n\t\t\t\tthis.initStar(game.canvas.width, game.canvas.height, star);\n\t\t}\n\t}\n\n\tdraw(game: Game) {\n\t\tfor (let star of this.stars) {\n\t\t\tthis.drawStar(game.gc, star);\n\t\t}\n\t}\n}\n",
    "const pew = {\n\tnodes: [\n\t\t{ id: 0, x: 460, y: 120, name: 'Out', inputs: [5], classes: 'node node-out' },\n\t\t{ id: 1, x: 121, y: 122, name: 'Osc', inputs: [2], classes: 'node node-src' },\n\t\t{ id: 2, x: 116, y: 311, name: 'ADSR', inputs: [], classes: 'node node-ctrl' },\n\t\t{ id: 4, x: 295, y: 322, name: 'ADSR', inputs: [], classes: 'node node-ctrl' },\n\t\t{ id: 5, x: 298, y: 122, name: 'Gain', inputs: [4, 1], classes: 'node node-effect' }\n\t],\n\tnodeData: [\n\t\t{ type: 'out', params: {} },\n\t\t{ type: 'Oscillator', params: { frequency: 1200, detune: 0, type: 'square' } },\n\t\t{ type: 'ADSR',\n\t\t\tparams: { attack: 0, decay: 0.2, sustain: 0, release: 0, depth: 1 },\n\t\t\tcontrolParam: 'frequency', controlParams: ['frequency', 'detune']\n\t\t},\n\t\t{ type: 'ADSR',\n\t\t\tparams: { attack: 0, decay: 0, sustain: 1, release: 0.05, depth: 1 },\n\t\t\tcontrolParam: 'gain', controlParams: ['gain'] },\n\t\t{ type: 'Gain', params: { gain: 1 } }\n\t],\n\tname: 'Pew!',\n\tmodulatorType: 'synth',\n\tkeyboard: {\n\t\tportamento: 0, octave: 4, arpeggio: { bpm: 60, mode: 0, octave: 1 }\n\t}\n};\n\nconst enemyExplode = {\n\tnodes: [\n\t\t{ id: 0, x: 500, y: 120, name: 'Out', inputs: [2], classes: 'node node-out' },\n\t\t{ id: 1, x: 100, y: 120, name: 'Noise', inputs: [], classes: 'node node-src' },\n\t\t{ id: 2, x: 300, y: 120, name: 'Filter', inputs: [1, 5], classes: 'node node-effect' },\n\t\t{ id: 5, x: 302, y: 260, name: 'ADSR', inputs: [], classes: 'node node-ctrl' }\n\t],\n\tnodeData: [\n\t\t{ type: 'out', params: {} },\n\t\t{ type: 'Noise', params: { gain: 0.5 } },\n\t\t{ type: 'Filter', params: { frequency: 2916, Q: 20.82, detune: 0, gain: 0, type: 'lowpass' } },\n\t\t{ type: 'ADSR', params: { attack: 0, decay: 0.3723466750715221, sustain: 0, release: 0, depth: 1 },\n\t\t\tcontrolParam: 'frequency', controlParams: ['frequency', 'Q', 'detune', 'gain']\n\t\t}\n\t],\n\tname: 'enemy-explode',\n\tmodulatorType: 'synth',\n\tkeyboard: { portamento: 0, octave: 3, arpeggio: { bpm: 60, mode: 0, octave: 1 } }\n};\n\nconst shipExplode = {\n\tnodes: [\n\t\t{ id: 0, x: 501, y: 119, name: 'Out', inputs: [2], classes: 'node node-out' },\n\t\t{ id: 1, x: 92, y: 118, name: 'Noise', inputs: [], classes: 'node node-src' },\n\t\t{ id: 2, x: 311, y: 114, name: 'Gain', inputs: [3, 4], classes: 'node node-effect' },\n\t\t{ id: 3, x: 312, y: 267, name: 'ADSR', inputs: [], classes: 'node node-ctrl' },\n\t\t{ id: 4, x: 176, y: 216, name: 'Filter', inputs: [1], classes: 'node node-effect' }\n\t],\n\tnodeData: [\n\t\t{ type: 'out', params: {} },\n\t\t{ type: 'Noise', params: { gain: 1 } },\n\t\t{ type: 'Gain', params: { gain: 10 } },\n\t\t{ type: 'ADSR', params: { attack: 0, decay: 2, sustain: 0, release: 0, depth: 1 }, controlParam: 'gain', controlParams: ['gain'] },\n\t\t{ type: 'Filter', params: { frequency: 322, Q: 3.259, detune: 0, gain: 0, type: 'lowpass' } }\n\t],\n\tname: 'ship-explode',\n\tmodulatorType: 'synth',\n\tkeyboard: {\n\t\tportamento: 0, octave: 3, arpeggio: { bpm: 60, mode: 0, octave: 1 }\n\t}\n};\n\nconst gameStart = {\n\tnodes: [\n\t\t{ id: 0, x: 600, y: 200, name: 'Out', inputs: [4], classes: 'node node-out' },\n\t\t{ id: 1, x: 300, y: 200, name: 'Filter', inputs: [2, 3, 5, 7], classes: 'node node-effect' },\n\t\t{ id: 2, x: 140, y: 160, name: 'Osc', inputs: [], classes: 'node node-src' },\n\t\t{ id: 3, x: 140, y: 260, name: 'Osc', inputs: [], classes: 'node node-src' },\n\t\t{ id: 4, x: 460, y: 200, name: 'Gain', inputs: [1], classes: 'node node-effect' },\n\t\t{ id: 5, x: 300, y: 300, name: 'ADSR', inputs: [], classes: 'node node-ctrl' },\n\t\t{ id: 6, x: 460, y: 60, name: 'Delay', inputs: [4], classes: 'node node-effect' },\n\t\t{ id: 7, x: 300, y: 60, name: 'Pan', inputs: [6, 9], classes: 'node node-effect' },\n\t\t{ id: 9, x: 140, y: 60, name: 'LFO', inputs: [], classes: 'node node-ctrl' }\n\t],\n\tnodeData: [\n\t\t{ type: 'out', params: {} },\n\t\t{ type: 'Filter', params: { frequency: 3500, Q: 7.5, detune: 0, gain: 0, type: 'lowpass' } },\n\t\t{ type: 'Oscillator', params: { frequency: 140, detune: 0, type: 'sawtooth' } },\n\t\t{ type: 'Oscillator', params: { frequency: 140, detune: 10, type: 'sawtooth' } },\n\t\t{ type: 'Gain', params: { gain: 0.32 } },\n\t\t{ type: 'ADSR', params: { attack: 0, decay: 0.5, sustain: 1, release: 2, depth: 0.999 },\n\t\t\tcontrolParam: 'frequency', controlParams: ['frequency', 'Q', 'detune', 'gain'] },\n\t\t{ type: 'Delay', params: { delayTime: 0.05 } },\n\t\t{ type: 'StereoPan', params: { pan: 0 } },\n\t\t{ type: 'LFO', params: { frequency: 0.44422, detune: 0, type: 'sine' }, controlParam: 'pan', controlParams: ['pan'] }\n\t],\n\tname: 'Space',\n\tmodulatorType: 'synth',\n\tkeyboard: { portamento: 0, octave: 3, arpeggio: { bpm: 60, mode: 0, octave: 1 } }\n};\n\nconst gameOver = {\n\tnodes: [\n\t\t{ id: 0, x: 520, y: 160, name: 'Out', inputs: [4], classes: 'node node-out' },\n\t\t{ id: 1, x: 320, y: 160, name: 'Filter', inputs: [2, 3, 5], classes: 'node node-effect' },\n\t\t{ id: 2, x: 140, y: 100, name: 'Osc', inputs: [], classes: 'node node-src' },\n\t\t{ id: 3, x: 140, y: 220, name: 'Osc', inputs: [], classes: 'node node-src' },\n\t\t{ id: 4, x: 420, y: 60, name: 'Gain', inputs: [1], classes: 'node node-effect' },\n\t\t{ id: 5, x: 320, y: 300, name: 'ADSR', inputs: [], classes: 'node node-ctrl' }\n\t],\n\tnodeData: [\n\t\t{ type: 'out', params: {} },\n\t\t{ type: 'Filter', params: { frequency: 3804.4, Q: 9.284, detune: 0, gain: 0, type: 'lowpass' } },\n\t\t{ type: 'Oscillator', params: { frequency: 140, detune: 0, type: 'sawtooth' } },\n\t\t{ type: 'Oscillator', params: { frequency: 140, detune: 10, type: 'sawtooth' } },\n\t\t{ type: 'Gain', params: { gain: 0.68 } },\n\t\t{ type: 'ADSR', params: { attack: 0.4022, decay: 0.5, sustain: 1, release: 1, depth: 0.99 },\n\t\t\tcontrolParam: 'frequency', controlParams: ['frequency', 'Q', 'detune', 'gain'] }\n\t],\n\tname: 'Tesla',\n\tmodulatorType: 'synth',\n\tkeyboard: { portamento: 0, octave: 3, arpeggio: { bpm: 60, mode: 0, octave: 1 } }\n};\n\n\nexport default {\n\tpew, enemyExplode, shipExplode, gameStart, gameOver\n};\n",
    "import { Shape } from '../gamelib/shape';\nimport { Route } from '../wave';\n\n\n// -------------------- Enemy shapes and colors --------------------\n\nlet fillStyles = [\n\t'#FF0040', '#FF0080', '#FF00FF', '#4080FF'\n];\n\nlet enemyPoints = [\n\t{ x: 0, y: 0 },\n\t{ x: 30, y: 0 },\n\t{ x: 20, y: 30 },\n\t{ x: 10, y: 30 }\n];\n\nfunction initShapes(): Shape[] {\n\tlet shapes: Shape[] = [];\n\tfor (let fillStyle of fillStyles) {\n\t\tshapes.push(new Shape([{\n\t\t\tfillStyle,\n\t\t\tpoints: enemyPoints\n\t\t}]));\n\t}\n\treturn shapes;\n}\n\nlet enemyShapes = initShapes();\n\n\n// -------------------- Enemy routes --------------------\n\nlet routeC = new Route(460, -20, -2, 1, [\n\t{ steps: 36, ax: -0.2, ay: 0.1 },\n\t{ steps: 100, ax: 0.2, ay: 0 }\n]);\n\nlet routeD = new Route(20, -20, 2, 1, [\n\t{ steps: 36, ax: 0.2, ay: 0.1 },\n\t{ steps: 100, ax: -0.2, ay: 0 }\n]);\n\nlet routeU = new Route(20, -20, 2, 10, [\n\t{ steps: 1000, ax: 0, ay: -0.12 }\n]);\n\nlet routeV = new Route(460, -20, -2, 10, [\n\t{ steps: 1000, ax: 0, ay: -0.11 }\n]);\n\nlet route = new Route(20, -20, 2, 11, [\n\t{ steps: 110, ax: 0, ay: -0.14 },\n\t{ steps: 500, ax: 0, ay: 0.14 },\n]);\n\nlet routeN = new Route(460, -20, -2, 11, [\n\t{ steps: 110, ax: 0, ay: -0.14 },\n\t{ steps: 500, ax: 0, ay: 0.14 },\n]);\n\nlet routeO = new Route(20, -20, 5.5, 11, [\n\t{ steps: 130, ax: -0.04, ay: -0.13 },\n\t{ steps: 500, ax: -0.06, ay: 0.16 },\n]);\n\nlet routeQ = new Route(460, -20, -5.5, 11, [\n\t{ steps: 130, ax: 0.04, ay: -0.13 },\n\t{ steps: 500, ax: 0.06, ay: 0.16 },\n]);\n\nlet enemyRoutes = [\n\trouteO, routeQ, routeN, route, routeU, routeV, routeC, routeD\n];\n\n\nfunction shuffle(aIn: any[]): any[] {\n\tlet a = [...aIn];\t// Copy array to make function pure\n\tfor (let i = a.length; i; i--) {\n\t\tlet j = Math.floor(Math.random() * i);\n\t\t[a[i - 1], a[j]] = [a[j], a[i - 1]];\n\t}\n\treturn a;\n}\n\nexport function initWave(w: number) {\n\tlet squadrons: any[] = [];\n\tlet shapes = shuffle(enemyShapes);\n\tlet routes = shuffle(enemyRoutes);\n\tlet i = 0;\n\tfor (let route of routes) {\n\t\tsquadrons.push({\n\t\t\troute,\n\t\t\tshape: shapes[i % shapes.length],\n\t\t\tships: 3 + w,\n\t\t\tsteps: 20,\n\t\t\tdelay: 100 + i * 130\n\t\t});\n\t\ti++;\n\t}\n\treturn squadrons;\n}\n",
    "import { Game, GameElement, ElementGroup } from './gamelib/game';\nimport { ShapeWarsElements } from './shape-wars';\n\n/*\nCool fonts:\n\thttps://fonts.google.com/selection?\n\t\tcategory=Display,Monospace&\n\t\tselection.family=Electrolize|Geostar+Fill|Kelly+Slab|Press+Start+2P|Revalia|VT323\n*/\n\nexport class StatusDisplay extends ElementGroup {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.add(new ShipsDisplay());\n\t\tthis.add(new Scoring());\n\t\tthis.add(new Messages());\n\t}\n}\n\n\nclass ShipsDisplay implements GameElement {\n\tstep(game: Game) {}\n\n\tdraw(game: Game) {\n\t\tlet ship = (game.elements as ShapeWarsElements).ship;\n\t\tfor (let i = 0; i < ship.lives; i++) {\n\t\t\tship.shape.draw(game.gc, 30 + i * 30, 30, 0, 0.5);\n\t\t}\n\t}\n}\n\n\nclass Scoring implements GameElement {\n\tstep(game: Game) {}\n\n\tdraw(game: Game) {\n\t\tlet score = (game.elements as ShapeWarsElements).ship.score;\n\t\tlet txt = '' + score;\n\t\tprepareFont(game.gc, 28);\n\t\tlet w = game.gc.measureText(txt).width;\n\t\tgame.gc.fillText(txt, game.gc.canvas.width - w - 20, 40);\n\t}\n}\n\n\nclass Messages implements GameElement {\n\tstep(game: Game) {}\n\n\tdraw(game: Game) {\n\t\tlet elements = game.elements as ShapeWarsElements;\n\t\tlet gameOver = elements.ship.gameOver;\n\t\tif (gameOver)\n\t\t\tthis.centerText(game.gc, 'GAME OVER', 50);\n\t\telse if (elements.enemies.wavect)\n\t\t\tthis.centerText(game.gc, 'WAVE  ' + elements.enemies.wave, 30);\n\t}\n\n\tcenterText(gc: CanvasRenderingContext2D, txt: string, size: number) {\n\t\tprepareFont(gc, size);\n\t\tlet w = gc.measureText(txt).width;\n\t\tlet x = gc.canvas.width / 2 - w / 2;\n\t\tlet y = gc.canvas.height / 2;\n\t\tgc.fillText(txt, x, y);\n\n\t}\n}\n\n\nfunction prepareFont(gc: CanvasRenderingContext2D, size: number) {\n\tgc.font = `${size}px 'Geostar Fill'`;\n\tgc.fillStyle = 'white';\n}\n",
    "import { Game, ElementGroup } from './gamelib/game';\nimport { Shape } from './gamelib/shape';\nimport { Enemy } from './enemies';\n\n\n/** A route is in charge of moving a ship across the canvas, folliwing a\n * given path based on accelleration rules\n */\nexport class Route {\n\tstep = 0;\n\tpart = 0;\n\tax = 0;\n\tay = 0;\n\n\tconstructor(public x: number, public y: number,\n\t\tpublic speedX: number, public speedY: number,\n\t\tpublic parts: { steps: number, ax: number, ay: number }[]) {}\n\n\tclone() {\n\t\treturn new Route(this.x, this.y, this.speedX, this.speedY, this.parts);\n\t}\n\n\tmove() {\n\t\tthis.x += this.speedX;\n\t\tthis.y += this.speedY;\n\t\tif (this.part >= this.parts.length) return;\n\t\tlet segment = this.parts[this.part];\n\t\tthis.speedX += this.ax ? this.ax : segment.ax;\n\t\tthis.speedY += this.ay ? this.ay : segment.ay;\n\t\tthis.step++;\n\t\tif (this.step > segment.steps) {\n\t\t\tthis.step = 0;\n\t\t\tthis.part++;\n\t\t}\n\t}\n}\n\n\n/** A squadron is a group of ships that follow the same route, spaced\n * between each other by a given amount of steps.\n */\nexport class Squadron extends ElementGroup {\n\tstepct: number;\n\tdead = false;\n\n\tconstructor(public route: Route, public shape: Shape,\n\t\tpublic ships: number, public steps: number, delay = 0) {\n\t\tsuper();\n\t\tthis.stepct = steps - delay;\n\t}\n\n\tstep(game: Game) {\n\t\tsuper.step(game);\n\t\tif (this.ships <= 0) {\n\t\t\tthis.dead = this.items.every(e => !!e.dead);\n\t\t\treturn;\n\t\t}\n\t\tthis.stepct++;\n\t\tif (this.stepct >= this.steps) {\n\t\t\tthis.stepct = 0;\n\t\t\tthis.ships--;\n\t\t\tthis.add(new Enemy(this.route.clone(), this.shape));\n\t\t}\n\t}\n}\n"
  ]
}