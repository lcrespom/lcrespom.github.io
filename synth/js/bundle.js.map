{"version":3,"sources":["webpack:///webpack/bootstrap e848eeab71c52bff47cb","webpack:///./ts/main.ts","webpack:///./ts/synthUI/synthUI.ts","webpack:///./ts/synthUI/graph.ts","webpack:///./ts/synth/synth.ts","webpack:///./ts/synth/notes.ts","webpack:///./ts/synth/modern.ts","webpack:///./ts/synth/palette.ts","webpack:///./ts/synth/customNodes.ts","webpack:///./ts/popups.ts","webpack:///./ts/synthUI/paramsUI.ts","webpack:///./ts/synthUI/analyzer.ts","webpack:///./ts/piano/noteInputs.ts","webpack:///./ts/piano/keyboard.ts","webpack:///./ts/piano/piano.ts","webpack:///./ts/piano/arpeggiator.ts","webpack:///./ts/synth/instrument.ts","webpack:///./ts/synthUI/presets.ts","webpack:///./ts/synth/timer.ts","webpack:///./ts/piano/midi.ts"],"names":["createAudioContext","setupPanels","setupPalette","SynthUI","SynthUI.constructor","SynthUI.addOutputNode","SynthUI.registerPaletteHandler","SynthUI.addNode","SynthUI.removeNode","SynthUI.removeNodeData","SynthUI.createNodeData","SynthUI.findFreeSpot","SynthUI.dist2nearestNode","SynthUI.initNodeDimensions","GraphNodeData","GraphNodeData.constructor","GraphNodeData.getInputs","SynthGraphHandler","SynthGraphHandler.constructor","SynthGraphHandler.registerNodeDelete","SynthGraphHandler.getSelectedNode","SynthGraphHandler.hasAudioParams","SynthGraphHandler.canBeSource","SynthGraphHandler.canConnect","SynthGraphHandler.connected","SynthGraphHandler.disconnected","SynthGraphHandler.nodeSelected","SynthGraphHandler.nodeRemoved","SynthGraphHandler.getArrowColor","SynthGraphHandler.data2json","SynthGraphHandler.json2data","SynthGraphHandler.graphLoaded","SynthGraphHandler.graphSaved","getCssFromClass","Graph","Graph.constructor","Graph.addNode","Graph.removeNode","Graph.selectNode","Graph.connect","Graph.disconnect","Graph.draw","Graph.toJSON","Graph.fromJSON","Graph.nodeById","Graph.getAppClasses","Node","Node.constructor","Node.addInput","Node.removeInput","DefaultGraphHandler","DefaultGraphHandler.constructor","DefaultGraphHandler.canBeSource","DefaultGraphHandler.canConnect","DefaultGraphHandler.connected","DefaultGraphHandler.disconnected","DefaultGraphHandler.nodeSelected","DefaultGraphHandler.nodeRemoved","DefaultGraphHandler.getArrowColor","DefaultGraphHandler.data2json","DefaultGraphHandler.json2data","DefaultGraphHandler.graphLoaded","DefaultGraphHandler.graphSaved","GraphInteraction","GraphInteraction.constructor","GraphInteraction.registerNode","GraphInteraction.selectNode","GraphInteraction.setupConnectHandler","GraphInteraction.setGrid","GraphInteraction.connectOrDisconnect","GraphInteraction.getElementUnderMouse","GraphInteraction.registerRubberBanding","GraphInteraction.deregisterRubberBanding","GraphInteraction.getNodeFromDOM","GraphDraw","GraphDraw.constructor","GraphDraw.draw","GraphDraw.clearCanvas","GraphDraw.drawArrow","GraphDraw.drawArrowTip","GraphDraw.getNodeCenter","NodeData","NodeData.constructor","NodeData.getInputs","Portamento","Portamento.constructor","Synth","Synth.constructor","Synth.createAudioNode","Synth.initNodeData","Synth.initOutputNodeData","Synth.removeNodeData","Synth.connectNodes","Synth.disconnectNodes","Synth.json2NodeData","Synth.nodeData2json","Synth.midi2freqRatio","Synth.noteOn","Synth.noteOff","Synth.addNoteHandler","Synth.removeNoteHandler","Synth.initNodeParams","Synth.registerCustomNode","Synth.registerParamHandler","BufferURL","BufferURL.constructor","BufferURL.initialize","BufferURL.renderParam","BufferURL.param2json","BufferURL.json2param","BufferURL.loadBufferParam","BufferURL.loadBuffer","BaseNoteHandler","BaseNoteHandler.constructor","BaseNoteHandler.noteOn","BaseNoteHandler.noteOff","BaseNoteHandler.noteEnd","BaseNoteHandler.clone","BaseNoteHandler.disconnect","BaseNoteHandler.rampParam","OscNoteHandler","OscNoteHandler.constructor","OscNoteHandler.noteOn","OscNoteHandler.noteOff","OscNoteHandler.noteEnd","LFONoteHandler","LFONoteHandler.constructor","LFONoteHandler.rampParam","BufferNoteHandler","BufferNoteHandler.constructor","BufferNoteHandler.noteOn","BufferNoteHandler.noteOff","BufferNoteHandler.noteEnd","ADSRNoteHandler","ADSRNoteHandler.constructor","ADSRNoteHandler.noteOn","ADSRNoteHandler.noteOff","ADSRNoteHandler.setupOtherHandlers","ADSRNoteHandler.loopParams","ADSRNoteHandler.getParamValue","RestartableNoteHandler","RestartableNoteHandler.constructor","RestartableNoteHandler.noteOn","RestartableNoteHandler.noteOff","RestartableNoteHandler.noteEnd","OutputTracker","OutputTracker.constructor","OutputTracker.connect","OutputTracker.disconnect","OutputTracker.onBefore","removeArrayElement","logarithm","linear2log","log2linear","CustomNodeBase","CustomNodeBase.constructor","CustomNodeBase.connect","CustomNodeBase.disconnect","CustomNodeBase.addEventListener","CustomNodeBase.dispatchEvent","CustomNodeBase.removeEventListener","ADSR","ADSR.constructor","ScriptProcessor","ScriptProcessor.constructor","ScriptProcessor.connect","ScriptProcessor.disconnect","ScriptProcessor.start","ScriptProcessor.stop","ScriptProcessor.processAudio","NoiseGenerator","NoiseGenerator.constructor","NoiseGenerator.processAudio","NoiseCtrlGenerator","NoiseCtrlGenerator.constructor","NoiseCtrlGenerator.connect","NoiseCtrlGenerator.processAudio","Detuner","Detuner.constructor","Detuner.processAudio","LineInNode","LineInNode.constructor","LineInNode.connect","LineInNode.disconnect","alert","progress","close","confirm","prompt","renderParams","positionBoxes","renderAudioParam","renderParamControl","renderOtherParam","renderSlider","renderCombo","renderBoolean","param2slider","slider2param","ucfirst","truncateFloat","AudioAnalyzer","AudioAnalyzer.constructor","AudioAnalyzer.createCanvas","AudioAnalyzer.createAnalyzerNode","AudioAnalyzer.analyze","AudioAnalyzer.disconnect","AudioAnalyzer.requestAnimationFrame","AudioAnalyzer.updateCanvas","AudioAnalyzer.drawFFT","AudioAnalyzer.drawOsc","AudioAnalyzer.setupDraw","NoteInputs","NoteInputs.constructor","NoteInputs.setupPCKeyboard","NoteInputs.setupMidiKeyboard","NoteInputs.setupEnvelopeAnimation","NoteInputs.setupArpeggiator","NoteInputs.noteOn","NoteInputs.noteOff","NoteInputs.polyOn","NoteInputs.polyOff","Keyboard","Keyboard.constructor","Keyboard.setupHandler","Keyboard.key2midi","Keyboard.noteOn","Keyboard.noteOff","PianoKeyboard","PianoKeyboard.constructor","PianoKeyboard.createKeys","PianoKeyboard.hasBlack","PianoKeyboard.registerKey","PianoKeyboard.registerButtons","PianoKeyboard.updateOctave","PianoKeyboard.displayKeyDown","PianoKeyboard.displayKeyUp","PianoKeyboard.midi2key","PianoKeyboard.setEnvelope","PianoKeyboard.togglePoly","PianoKeyboard.getPortamento","PianoKeyboard.changeArpeggioMode","PianoKeyboard.changeArpeggioOctave","PianoKeyboard.triggerArpeggioChange","PianoKeyboard.toJSON","PianoKeyboard.fromJSON","PianoKeyboard.noteOn","PianoKeyboard.noteOff","PianoKeyboard.polyOn","PianoKeyboard.polyOff","PianoKeyboard.octaveChanged","PianoKeyboard.arpeggioChanged","Arpeggiator","Arpeggiator.constructor","Arpeggiator.bpm","Arpeggiator.timerCB","Arpeggiator.wrapCounter","Arpeggiator.sendNoteOn","Arpeggiator.sendNoteOff","Arpeggiator.noteOn","Arpeggiator.noteOff","NoteData","NoteData.constructor","NoteTable","NoteTable.constructor","NoteTable.length","NoteTable.get","NoteTable.add","NoteTable.remove","Instrument","Instrument.constructor","Instrument.noteOn","Instrument.noteOff","Instrument.findVoice","Instrument.close","Voice","Voice.constructor","Voice.noteOn","Voice.noteOff","Voice.close","VoiceNodeData","VoiceNodeData.constructor","VoiceNodeData.getInputs","SynthLoader","SynthLoader.constructor","SynthLoader.load","SynthLoader.nodeById","SynthLoader.close","Presets","Presets.constructor","Presets.loadPresets","Presets.getEmptyPreset","Presets.registerListeners","Presets.changePreset","Presets.synth2preset","Presets.preset2synth","Presets.selectBestNode","Presets.loadPreset","Presets.savePreset","Presets.browserSupportsDownload","Presets.beforeSave","Presets.afterLoad","Timer","Timer.constructor","Timer.bpm","Timer.start","Timer.stop","Timer.tick","MidiKeyboard","MidiKeyboard.constructor","MidiKeyboard.midiMessage","MidiKeyboard.noteOn","MidiKeyboard.noteOff"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;;IAEG;AAEH,qCAAwB,CAAmB,CAAC;AAC5C,wCAA2B,EAC3B,CAAC,CAD8C;AAC/C,qCAAwB,EAAmB,CAAC;AAG5C,KAAM,WAAW,GAAsB,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7D,KAAM,OAAO,GAAG,IAAI,iBAAO,CAAC,kBAAkB,EAAE,EAAE,WAAW,EAC5D,CAAC,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,kBAAkB,CAAC,EAAE,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC;AAClE,YAAW,EAAE,CAAC;AAGd;KACCA,IAAMA,QAAQA,GAAQA,MAAMA,CAACA,YAAYA,IAAIA,MAAMA,CAACA,kBAAkBA,CAACA;KACvEA,MAAMA,CAACA,IAAIA,QAAQA,EAAEA,CAACA;AACvBA,EAACA;AAED;KACCC,YAAYA,EAAEA,CAACA;KACfA,IAAMA,MAAMA,GAAGA,IAAIA,uBAAUA,CAACA,OAAOA,CAACA,CAACA;KACvCA,IAAMA,OAAOA,GAAGA,IAAIA,iBAAOA,CAACA,OAAOA,CAACA,CAACA;KACrCA,OAAOA,CAACA,UAAUA,GAAGA,UAACA,IAAIA,IAAKA,QAACA,CAACA,MAAMA,CAACA,IAAIA,EAAEA,EAAEA,QAAQA,EAAEA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,EAAEA,CAACA,EAAnDA,CAAmDA,CAACA;KACnFA,OAAOA,CAACA,SAASA,GAAGA,UAACA,IAAIA,IAAKA,aAAMA,CAACA,KAAKA,CAACA,QAAQA,CAACA,IAAIA,CAACA,QAAQA,CAACA,EAApCA,CAAoCA,CAACA;AACpEA,EAACA;AAGD;KACCC,CAACA,CAACA;SACD,CAAC,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC,EAAE,CAAC;KAC9B,CAAC,CAACA,CAACA;AACJA,EAACA;;;;;;;;;;;;ACjCD,mCAA0C,CAAS,CAAC;AACpD,mCAAgC,CAAgB,CAAC;AAEjD,KAAY,MAAM,uBAAM,CAAW,CAAC;AAEpC;;;IAGG;AACH;KAOCC,iBAAYA,EAAsBA,EAAEA,WAA8BA,EAAEA,QAAgBA,EAAEA,KAAaA,EAAEA,KAAaA;SACjHC,IAAIA,CAACA,EAAEA,GAAGA,IAAIA,aAAKA,CAACA,WAAWA,CAACA,CAACA;SACjCA,IAAIA,CAACA,EAAEA,CAACA,OAAOA,GAAGA,IAAIA,iBAAiBA,CAACA,IAAIA,EAAEA,QAAQA,EAAEA,KAAKA,EAAEA,KAAKA,CAACA,CAACA;SACtEA,IAAIA,CAACA,KAAKA,GAAGA,IAAIA,aAAKA,CAACA,EAAEA,CAACA,CAACA;SACrBA,IAAIA,CAACA,KAAKA,CAACA,aAAcA,CAACA,SAASA,CAACA,MAAMA,GAAGA,MAAMA,CAACA;SAC1DA,IAAIA,CAACA,sBAAsBA,EAAEA,CAACA;SAC9BA,IAAIA,CAACA,aAAaA,EAAEA,CAACA;KACtBA,CAACA;KAEDD,+BAAaA,GAAbA;SACCE,qCAAqCA;SACrCA,IAAMA,GAAGA,GAAGA,IAAIA,YAAIA,CAACA,GAAGA,EAAEA,GAAGA,EAAEA,KAAKA,CAACA,CAACA;SACtCA,GAAGA,CAACA,IAAIA,GAAGA,IAAIA,aAAaA,CAACA,GAAGA,CAACA,CAACA;SAClCA,IAAIA,CAACA,KAAKA,CAACA,kBAAkBA,CAACA,GAAGA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,KAAKA,CAACA,EAAEA,CAACA,WAAWA,CAACA,CAACA;SACnEA,IAAIA,CAACA,OAAOA,GAAGA,GAAGA,CAACA,IAAIA,CAACA,KAAKA,CAACA;SAC9BA,IAAIA,CAACA,EAAEA,CAACA,OAAOA,CAACA,GAAGA,EAAEA,UAAUA,CAACA,CAACA;SACjCA,IAAIA,CAACA,kBAAkBA,CAACA,GAAGA,CAACA,CAACA;KAC9BA,CAACA;KAEDF,wCAAsBA,GAAtBA;SACCG,IAAIA,IAAIA,GAAGA,IAAIA,CAACA,CAACA,uCAAuCA;SACxDA,CAACA,CAACA,gBAAgBA,CAACA,CAACA,KAAKA,CAACA,UAASA,GAAGA;aACrC,IAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;aACrB,IAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,IAAI,MAAM,EAAX,CAAW,CAAC,CAAC;aACzE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,EAClC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,EAAE,EAAE,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;SACrD,CAAC,CAACA,CAACA;KACJA,CAACA;KAEDH,yBAAOA,GAAPA,UAAQA,IAAYA,EAAEA,IAAYA,EAAEA,OAAeA;SAClDI,IAAIA,KAAWA,IAAIA,CAACA,YAAYA,EAAEA,EAA5BA,CAACA,SAAEA,CAACA,OAAwBA,CAACA;SACnCA,IAAMA,CAACA,GAAGA,IAAIA,YAAIA,CAACA,CAACA,EAAEA,CAACA,EAAEA,IAAIA,CAACA,CAACA;SAC/BA,IAAIA,CAACA,cAAcA,CAACA,CAACA,EAAEA,IAAIA,CAACA,CAACA;SAC7BA,IAAIA,CAACA,EAAEA,CAACA,OAAOA,CAACA,CAACA,EAAEA,OAAOA,CAACA,CAACA;SAC5BA,IAAIA,CAACA,EAAEA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;KACvBA,CAACA;KAEDJ,4BAAUA,GAAVA,UAAWA,CAAOA;SACjBK,IAAIA,CAACA,EAAEA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;KACvBA,CAACA;KAEDL,gCAAcA,GAAdA,UAAeA,IAAcA;SAC5BM,IAAIA,CAACA,KAAKA,CAACA,cAAcA,CAACA,IAAIA,CAACA,CAACA;KACjCA,CAACA;KAEDN,gCAAcA,GAAdA,UAAeA,CAAOA,EAAEA,IAAYA;SACnCO,CAACA,CAACA,IAAIA,GAAGA,IAAIA,aAAaA,CAACA,CAACA,CAACA,CAACA;SAC9BA,EAAEA,CAACA,CAACA,IAAIA,IAAIA,KAAKA,CAACA,CAACA,CAACA;aACnBA,IAAIA,CAACA,KAAKA,CAACA,kBAAkBA,CAACA,CAACA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,KAAKA,CAACA,EAAEA,CAACA,WAAWA,CAACA,CAACA;aACjEA,IAAIA,CAACA,OAAOA,GAAGA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA;SAC7BA,CAACA;SACDA,IAAIA;aACHA,IAAIA,CAACA,KAAKA,CAACA,YAAYA,CAACA,CAACA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;KACxCA,CAACA;KAEDP,wEAAwEA;KAExEA,8BAAYA,GAAZA;SACCQ,IAAIA,OAAOA,GAAGA,CAACA,CAACA;SAChBA,IAAMA,OAAOA,GAAGA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,CAACA,KAAKA,CAACA;SACrCA,IAAMA,OAAOA,GAAGA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,CAACA,MAAMA,CAACA;SACtCA,IAAIA,CAACA,GAAGA,OAAOA,GAAGA,CAACA,CAACA;SACpBA,IAAIA,CAACA,GAAGA,OAAOA,GAAGA,CAACA,CAACA;SACpBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,OAAOA,GAAGA,IAAIA,CAACA,EAAEA,EAAEA,EAAEA,IAAIA,EAAEA,EAAEA,CAACA;aACpDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,GAAGA,EAAEA,EAAEA,EAAEA,GAAGA,OAAOA,GAAGA,IAAIA,CAACA,EAAEA,EAAEA,EAAEA,IAAIA,EAAEA,EAAEA,CAACA;iBACpDA,IAAMA,IAAIA,GAAGA,IAAIA,CAACA,gBAAgBA,CAACA,EAAEA,EAAEA,EAAEA,CAACA,CAACA;iBAC3CA,EAAEA,CAACA,CAACA,IAAIA,GAAGA,OAAOA,IAAIA,IAAIA,GAAGA,IAAIA,CAACA,EAAEA,GAAGA,CAACA,CAACA,CAACA,CAACA;qBAC1CA,CAACA,GAAGA,EAAEA,CAACA;qBACPA,CAACA,GAAGA,EAAEA,CAACA;qBACPA,OAAOA,GAAGA,IAAIA,CAACA;iBAChBA,CAACA;aACFA,CAACA;SACFA,CAACA;SACDA,MAAMA,CAACA,EAAEA,IAACA,EAAEA,IAACA,EAAEA,CAACA;KACjBA,CAACA;KAEDR,kCAAgBA,GAAhBA,UAAiBA,CAASA,EAAEA,CAASA;SACpCS,IAAIA,OAAOA,GAAGA,MAAMA,CAACA,SAASA,CAACA;SAC/BA,GAAGA,CAACA,CAAYA,UAAaA,EAAbA,SAAIA,CAACA,EAAEA,CAACA,KAAKA,EAAxBA,cAAOA,EAAPA,IAAwBA,CAACA;aAAzBA,IAAMA,CAACA;aACXA,IAAMA,EAAEA,GAAGA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;aACnBA,IAAMA,EAAEA,GAAGA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA;aACnBA,IAAMA,IAAIA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,EAAEA,GAACA,EAAEA,GAAGA,EAAEA,GAACA,EAAEA,CAACA,CAACA;aACtCA,EAAEA,CAACA,CAACA,IAAIA,GAAGA,OAAOA,CAACA;iBAACA,OAAOA,GAAGA,IAAIA,CAACA;UACnCA;SACDA,MAAMA,CAACA,OAAOA,CAACA;KAChBA,CAACA;KAEDT,oCAAkBA,GAAlBA,UAAmBA,CAACA;SACnBU,IAAIA,CAACA,EAAEA,GAAGA,CAACA,CAACA,OAAOA,CAACA,UAAUA,EAAEA,CAACA;SACjCA,IAAIA,CAACA,EAAEA,GAAGA,CAACA,CAACA,OAAOA,CAACA,WAAWA,EAAEA,CAACA;KACnCA,CAACA;KAEFV,cAACA;AAADA,EAACA,IAAA;AAnGY,gBAAO,UAmGnB;AAMD,sCAA6B,CAAY,CAAC;AAC1C,sCAA8B,EAAY,CAAC;AAG3C;KAA4BW,iCAAQA;KAEnCA,uBAAYA,IAAUA;SACrBC,iBAAOA,CAACA;SACRA,IAAIA,CAACA,IAAIA,GAAGA,IAAIA,CAACA;KAClBA,CAACA;KACDD,iCAASA,GAATA;SACCE,IAAMA,MAAMA,GAAeA,EAAEA,CAACA;SAC9BA,GAAGA,CAACA,CAAcA,UAAgBA,EAAhBA,SAAIA,CAACA,IAAIA,CAACA,MAAMA,EAA7BA,cAASA,EAATA,IAA6BA,CAACA;aAA9BA,IAAMA,GAAGA;aACbA,MAAMA,CAACA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,CAACA;UAAAA;SACvBA,MAAMA,CAACA,MAAMA,CAACA;KACfA,CAACA;KACFF,oBAACA;AAADA,EAACA,EAZ2B,gBAAQ,EAYnC;AAED;KAQCG,2BAAYA,OAAgBA,EAAEA,QAAgBA,EAAEA,KAAaA,EAAEA,KAAaA;SAC3EC,IAAIA,CAACA,OAAOA,GAAGA,OAAOA,CAACA;SACvBA,IAAIA,CAACA,QAAQA,GAAGA,QAAQA,CAACA;SACzBA,IAAIA,CAACA,UAAUA,GAAGA,eAAeA,CAACA,OAAOA,EAAEA,OAAOA,CAACA,CAACA;SACpDA,IAAIA,CAACA,cAAcA,GAAGA,eAAeA,CAACA,YAAYA,EAAEA,OAAOA,CAACA,CAACA;SAC7DA,IAAIA,CAACA,kBAAkBA,EAAEA,CAACA;SAC1BA,IAAIA,CAACA,QAAQA,GAAGA,IAAIA,wBAAaA,CAACA,KAAKA,EAAEA,KAAKA,CAACA,CAACA;KACjDA,CAACA;KAEDD,8CAAkBA,GAAlBA;SAAAE,iBAcCA;SAbAA,CAACA,CAACA,MAAMA,CAACA,CAACA,OAAOA,CAACA,aAAGA;aACpBA,EAAEA,CAACA,CAACA,CAACA,CAACA,GAAGA,CAACA,OAAOA,IAAIA,EAAEA,IAAIA,CAACA,GAAGA,CAACA,OAAOA,IAAIA,CAACA,IAAIA,GAAGA,CAACA,OAAOA,CAACA,CAACA,CAACA;iBAACA,MAAMA,CAACA;aACtEA,EAAEA,CAACA,CAACA,MAAMA,CAACA,MAAMA,CAACA;iBAACA,MAAMA,CAACA;aAC1BA,IAAMA,YAAYA,GAAGA,KAAIA,CAACA,eAAeA,EAAEA,CAACA;aAC5CA,EAAEA,CAACA,CAACA,CAACA,YAAYA,CAACA;iBAACA,MAAMA,CAACA;aAC1BA,EAAEA,CAACA,CAACA,YAAYA,CAACA,IAAIA,CAACA,KAAKA,CAACA;iBAACA,MAAMA,CAACA;aACpCA,MAAMA,CAACA,OAAOA,CAACA,cAAcA,EAC5BA,8BAA8BA,EAAEA,mBAASA;iBACzCA,EAAEA,CAACA,CAACA,CAACA,SAASA,CAACA;qBAACA,MAAMA,CAACA;iBACvBA,KAAIA,CAACA,OAAOA,CAACA,UAAUA,CAACA,YAAYA,CAACA,CAACA;iBACtCA,KAAIA,CAACA,QAAQA,CAACA,KAAKA,EAAEA,CAACA;aACvBA,CAACA,CAACA,CAACA;SACJA,CAACA,CAACA,CAACA;KACJA,CAACA;KAEDF,2CAAeA,GAAfA;SACCG,GAAGA,CAACA,CAAeA,UAAqBA,EAArBA,SAAIA,CAACA,OAAOA,CAACA,EAAEA,CAACA,KAAKA,EAAnCA,cAAUA,EAAVA,IAAmCA,CAACA;aAApCA,IAAMA,IAAIA;aACdA,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,QAAQA,CAACA,UAAUA,CAACA,CAACA;iBAACA,MAAMA,CAACA,IAAIA,CAACA;UAAAA;SACpDA,MAAMA,CAACA,IAAIA,CAACA;KACbA,CAACA;KAEDH,0CAAcA,GAAdA,UAAeA,KAAeA;SAC7BI,IAAMA,OAAOA,GAAGA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,MAAMA,CAACA;cAC/CA,MAAMA,CAACA,eAAKA,IAAIA,YAAKA,CAACA,KAAKA,CAACA,KAAKA,CAACA,YAAYA,UAAUA,EAAxCA,CAAwCA,CAACA,CAACA;SAC5DA,MAAMA,CAACA,OAAOA,CAACA,MAAMA,GAAGA,CAACA,CAACA;KAC3BA,CAACA;KAEDJ,yFAAyFA;KACzFA,uCAAWA,GAAXA,UAAYA,CAAOA;SAClBK,IAAMA,IAAIA,GAAaA,CAACA,CAACA,IAAIA,CAACA;SAC9BA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,IAAIA,IAAIA,CAACA,OAAOA,CAACA,OAAOA,CAACA;KAC3CA,CAACA;KAEDL,sCAAUA,GAAVA,UAAWA,GAASA,EAAEA,GAASA;SAC9BM,IAAMA,OAAOA,GAAaA,GAAGA,CAACA,IAAIA,CAACA;SACnCA,IAAMA,OAAOA,GAAaA,GAAGA,CAACA,IAAIA,CAACA;SACnCA,EAAEA,CAACA,CAACA,OAAOA,CAACA,OAAOA,CAACA,OAAOA,CAACA;aAC3BA,MAAMA,CAACA,IAAIA,CAACA,cAAcA,CAACA,OAAOA,CAACA,CAACA;SACrCA,MAAMA,CAACA,OAAOA,CAACA,KAAKA,CAACA,cAAcA,GAAGA,CAACA,CAACA;KACzCA,CAACA;KAEDN,qCAASA,GAATA,UAAUA,GAASA,EAAEA,GAASA;SAC7BO,IAAIA,CAACA,OAAOA,CAACA,KAAKA,CAACA,YAAYA,CAACA,GAAGA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,IAAIA,CAACA,CAACA;SACpDA,mDAAmDA;KACpDA,CAACA;KAEDP,wCAAYA,GAAZA,UAAaA,GAASA,EAAEA,GAASA;SAChCQ,IAAIA,CAACA,OAAOA,CAACA,KAAKA,CAACA,eAAeA,CAACA,GAAGA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,IAAIA,CAACA,CAACA;KACxDA,CAACA;KAEDR,wCAAYA,GAAZA,UAAaA,CAAOA;SACnBS,IAAMA,IAAIA,GAAaA,CAACA,CAACA,IAAIA,CAACA;SAC9BA,uBAAYA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,QAAQA,CAACA,CAACA;KACnCA,CAACA;KAEDT,uCAAWA,GAAXA,UAAYA,CAAOA;SAClBU,IAAIA,CAACA,OAAOA,CAACA,cAAcA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA;KACrCA,CAACA;KAEDV,yCAAaA,GAAbA,UAAcA,GAASA,EAAEA,GAASA;SACjCW,IAAMA,OAAOA,GAAaA,GAAGA,CAACA,IAAIA,CAACA;SACnCA,MAAMA,CAACA,OAAOA,CAACA,OAAOA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,cAAcA,GAAGA,IAAIA,CAACA,UAAUA,CAACA;KACxEA,CAACA;KAEDX,qCAASA,GAATA,UAAUA,CAAOA;SAChBY,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAACA,KAAKA,CAACA,aAAaA,CAACA,CAACA,CAACA,IAAIA,CAACA,CAACA;KACjDA,CAACA;KAEDZ,qCAASA,GAATA,UAAUA,CAAOA,EAAEA,IAASA;SAC3Ba,IAAIA,CAACA,OAAOA,CAACA,cAAcA,CAACA,CAACA,EAAEA,IAAIA,CAACA,IAAIA,CAACA,CAACA;SAC1CA,IAAIA,CAACA,OAAOA,CAACA,KAAKA,CAACA,aAAaA,CAACA,IAAIA,EAAEA,CAACA,CAACA,IAAIA,CAACA,CAACA;KAChDA,CAACA;KAEDb,uCAAWA,GAAXA;SACCc,IAAIA,CAACA,QAAQA,CAACA,OAAOA,CAACA,IAAIA,CAACA,OAAOA,CAACA,OAAOA,CAACA,CAACA;KAC7CA,CAACA;KAEDd,sCAAUA,GAAVA,cAAce,CAACA;KAChBf,wBAACA;AAADA,EAACA,IAAA;AAGD,0BAAyB,SAAS,EAAE,QAAQ;KAC3CgB,IAAMA,GAAGA,GAAGA,CAACA,CAACA,OAAOA,CAACA,CAACA,QAAQA,CAACA,SAASA,CAACA,CAACA;KAC3CA,CAACA,CAACA,MAAMA,CAACA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;KACtBA,IAAMA,SAASA,GAAGA,GAAGA,CAACA,GAAGA,CAACA,QAAQA,CAACA,CAACA;KACpCA,GAAGA,CAACA,MAAMA,EAAEA,CAACA;KACbA,MAAMA,CAACA,SAASA,CAACA;AAClBA,EAACA;;;;;;;AC7OD,KAAM,SAAS,GAAG,EAAE,CAAC;AACrB,KAAM,SAAS,GAAG,EAAE,CAAC;AAErB;;IAEG;AACH;KAUCC,eAAYA,MAAyBA;SANrCC,UAAKA,GAAWA,EAAEA,CAACA;SAInBA,WAAMA,GAAWA,CAACA,CAACA;SAGlBA,IAAIA,CAACA,UAAUA,GAAGA,CAACA,CAACA,MAAMA,CAACA,aAAaA,CAACA,CAACA;SAC1CA,IAAIA,CAACA,MAAMA,GAAGA,MAAMA,CAACA;SACrBA,IAAMA,EAAEA,GAAGA,MAAMA,CAACA,UAAUA,CAACA,IAAIA,CAACA,CAACA;SACnCA,IAAIA,CAACA,SAASA,GAAGA,IAAIA,SAASA,CAACA,IAAIA,EAAEA,EAAEA,EAAEA,MAAMA,CAACA,CAACA;SACjDA,IAAIA,CAACA,aAAaA,GAAGA,IAAIA,gBAAgBA,CAACA,IAAIA,EAAEA,EAAEA,CAACA,CAACA;SACpDA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,mBAAmBA,EAAEA,CAACA;KAC1CA,CAACA;KAEDD,uBAAOA,GAAPA,UAAQA,CAAOA,EAAEA,OAAgBA;SAChCE,CAACA,CAACA,EAAEA,GAAGA,IAAIA,CAACA,MAAMA,EAAEA,CAACA;SACrBA,CAACA,CAACA,OAAOA,GAAGA,CAACA,CAACA,OAAOA,CAACA;cACpBA,QAAQA,CAACA,MAAMA,CAACA;cAChBA,IAAIA,CAACA,8BAA0BA,CAACA,CAACA,IAAIA,WAAQA,CAACA;cAC9CA,GAAGA,CAACA,EAAEA,IAAIA,EAAEA,CAACA,CAACA,CAACA,EAAEA,GAAGA,EAAEA,CAACA,CAACA,CAACA,EAAEA,MAAMA,EAAEA,SAASA,EAAEA,CAACA,CAACA;SAClDA,EAAEA,CAACA,CAACA,OAAOA,CAACA;aAACA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,OAAOA,CAACA,CAACA;SACzCA,IAAIA,CAACA,UAAUA,CAACA,MAAMA,CAACA,CAACA,CAACA,OAAOA,CAACA,CAACA;SAClCA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;SACnBA,IAAIA,CAACA,aAAaA,CAACA,YAAYA,CAACA,CAACA,CAACA,CAACA;SACnCA,IAAIA,CAACA,IAAIA,EAAEA,CAACA;KACbA,CAACA;KAEDF,0BAAUA,GAAVA,UAAWA,CAAOA;SACjBG,IAAMA,GAAGA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA;SAClCA,EAAEA,CAACA,CAACA,GAAGA,GAAGA,CAACA,CAACA;aACXA,MAAMA,CAACA,OAAOA,CAACA,IAAIA,CAACA,WAASA,CAACA,CAACA,IAAIA,+BAA4BA,CAACA,CAACA;SAClEA,GAAGA,CAACA,CAAaA,UAAUA,EAAVA,SAAIA,CAACA,KAAKA,EAAtBA,cAAQA,EAARA,IAAsBA,CAACA;aAAvBA,IAAMA,EAAEA;aACZA,EAAEA,CAACA,CAACA,CAACA,IAAIA,EAAEA,CAACA;iBAACA,QAAQA,CAACA;aACtBA,IAAIA,CAACA,UAAUA,CAACA,CAACA,EAAEA,EAAEA,CAACA,CAACA;aACvBA,IAAIA,CAACA,UAAUA,CAACA,EAAEA,EAAEA,CAACA,CAACA,CAACA;UACvBA;SACDA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,CAACA,GAAGA,EAAEA,CAACA,CAACA,CAACA;SAC1BA,CAACA,CAACA,OAAOA,CAACA,MAAMA,EAAEA,CAACA;SACnBA,IAAIA,CAACA,OAAOA,CAACA,WAAWA,CAACA,CAACA,CAACA,CAACA;SAC5BA,IAAIA,CAACA,IAAIA,EAAEA,CAACA;KACbA,CAACA;KAEDH,0BAAUA,GAAVA,UAAWA,CAAOA;SACjBI,IAAIA,CAACA,aAAaA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;KAClCA,CAACA;KAEDJ,uBAAOA,GAAPA,UAAQA,IAAUA,EAAEA,IAAUA;SAC7BK,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,WAAWA,CAACA,IAAIA,CAACA,IAAIA,CAACA,IAAIA,CAACA,OAAOA,CAACA,UAAUA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;aAC3EA,MAAMA,CAACA,KAAKA,CAACA;SACdA,IAAIA,CAACA,QAAQA,CAACA,IAAIA,CAACA,CAACA;SACpBA,IAAIA,CAACA,OAAOA,CAACA,SAASA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;SACnCA,MAAMA,CAACA,IAAIA,CAACA;KACbA,CAACA;KAEDL,0BAAUA,GAAVA,UAAWA,IAAUA,EAAEA,IAAUA;SAChCM,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,WAAWA,CAACA,IAAIA,CAACA,CAACA;aAACA,MAAMA,CAACA,KAAKA,CAACA;SAC1CA,IAAIA,CAACA,OAAOA,CAACA,YAAYA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;SACtCA,MAAMA,CAACA,IAAIA,CAACA;KACbA,CAACA;KAEDN,oBAAIA,GAAJA;SACCO,IAAIA,CAACA,SAASA,CAACA,IAAIA,EAAEA,CAACA;KACvBA,CAACA;KAEDP,sBAAMA,GAANA;SACCQ,IAAMA,SAASA,GAAGA,EAAEA,CAACA;SACrBA,IAAMA,YAAYA,GAAGA,EAAEA,CAACA;SACxBA,GAAGA,CAACA,CAAeA,UAAUA,EAAVA,SAAIA,CAACA,KAAKA,EAAxBA,cAAUA,EAAVA,IAAwBA,CAACA;aAAzBA,IAAMA,IAAIA;aACdA,IAAMA,UAAUA,GAAGA,EAAEA,CAACA;aACtBA,GAAGA,CAACA,CAAcA,UAAWA,EAAXA,SAAIA,CAACA,MAAMA,EAAxBA,cAASA,EAATA,IAAwBA,CAACA;iBAAzBA,IAAMA,GAAGA;iBACbA,UAAUA,CAACA,IAAIA,CAACA,GAAGA,CAACA,EAAEA,CAACA,CAACA;cAAAA;aACzBA,SAASA,CAACA,IAAIA,CAACA;iBACdA,EAAEA,EAAEA,IAAIA,CAACA,EAAEA;iBACXA,CAACA,EAAEA,IAAIA,CAACA,CAACA;iBACTA,CAACA,EAAEA,IAAIA,CAACA,CAACA;iBACTA,IAAIA,EAAEA,IAAIA,CAACA,IAAIA;iBACfA,MAAMA,EAAEA,UAAUA;iBAClBA,OAAOA,EAAEA,IAAIA,CAACA,aAAaA,CAACA,IAAIA,CAACA;cACjCA,CAACA,CAACA;aACHA,YAAYA,CAACA,IAAIA,CAACA,IAAIA,CAACA,OAAOA,CAACA,SAASA,CAACA,IAAIA,CAACA,CAACA,CAACA;UAChDA;SACDA,IAAMA,SAASA,GAAGA;aACjBA,KAAKA,EAAEA,SAASA;aAChBA,QAAQA,EAAEA,YAAYA;UACtBA;SACDA,IAAIA,CAACA,OAAOA,CAACA,UAAUA,EAAEA,CAACA;SAC1BA,MAAMA,CAACA,SAASA,CAACA;KAClBA,CAACA;KAEDR,wBAAQA,GAARA,UAASA,IAASA;SACjBS,+BAA+BA;SAC/BA,OAAOA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,GAAGA,CAACA;aAC3BA,IAAIA,CAACA,UAAUA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,CAACA;SAChCA,IAAIA,CAACA,MAAMA,GAAGA,CAACA,CAACA;SAChBA,iBAAiBA;SACjBA,GAAGA,CAACA,CAAaA,UAAUA,EAAVA,SAAIA,CAACA,KAAKA,EAAtBA,cAAQA,EAARA,IAAsBA,CAACA;aAAvBA,IAAMA,EAAEA;aACZA,IAAMA,IAAIA,GAAGA,IAAIA,IAAIA,CAACA,EAAEA,CAACA,CAACA,EAAEA,EAAEA,CAACA,CAACA,EAAEA,EAAEA,CAACA,IAAIA,CAACA,CAACA;aAC3CA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,CAACA,CAACA;aACnBA,IAAIA,CAACA,EAAEA,GAAGA,EAAEA,CAACA,EAAEA,CAACA,CAACA,qDAAqDA;aACtEA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,CAACA,OAAOA,EAAEA,EAAEA,CAACA,OAAOA,CAACA,CAACA;UACvCA;SACDA,oBAAoBA;SACpBA,IAAMA,EAAEA,GAAGA,IAAIA,CAACA,OAAOA,CAACA;SACxBA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,mBAAmBA,EAAEA,CAACA,CAACA,wBAAwBA;SAClEA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;aAC5CA,GAAGA,CAACA,CAAeA,UAAoBA,EAApBA,SAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,MAAMA,EAAlCA,cAAUA,EAAVA,IAAkCA,CAACA;iBAAnCA,IAAMA,IAAIA;iBACdA,IAAMA,GAAGA,GAAGA,IAAIA,CAACA,QAAQA,CAACA,IAAIA,CAACA,CAACA;iBAChCA,IAAIA,CAACA,OAAOA,CAACA,GAAGA,EAAEA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,CAACA;cACjCA;SACFA,CAACA;SACDA,IAAIA,CAACA,OAAOA,GAAGA,EAAEA,CAACA,CAACA,wBAAwBA;SAC3CA,sBAAsBA;SACtBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;aAC5CA,IAAIA,CAACA,OAAOA,CAACA,SAASA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA,CAACA,EAAEA,IAAIA,CAACA,QAAQA,CAACA,CAACA,CAACA,CAACA,CAACA;SACzDA,CAACA;SACDA,qCAAqCA;SACrCA,GAAGA,CAACA,CAAcA,UAAUA,EAAVA,SAAIA,CAACA,KAAKA,EAAvBA,cAASA,EAATA,IAAuBA,CAACA;aAAxBA,IAAMA,GAAGA;aACbA,GAAGA,CAACA,CAAcA,UAAUA,EAAVA,QAAGA,CAACA,MAAMA,EAAvBA,cAASA,EAATA,IAAuBA,CAACA;iBAAxBA,IAAMA,GAAGA;iBACbA,IAAIA,CAACA,OAAOA,CAACA,SAASA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,CAACA;cAAAA;UAAAA;SACnCA,kCAAkCA;SAClCA,IAAIA,CAACA,IAAIA,EAAEA,CAACA;SACZA,IAAIA,CAACA,OAAOA,CAACA,WAAWA,EAAEA,CAACA;KAC5BA,CAACA;KAEDT,wBAAQA,GAARA,UAASA,EAAUA;SAClBU,GAAGA,CAACA,CAAeA,UAAUA,EAAVA,SAAIA,CAACA,KAAKA,EAAxBA,cAAUA,EAAVA,IAAwBA,CAACA;aAAzBA,IAAMA,IAAIA;aACdA,EAAEA,CAACA,CAACA,IAAIA,CAACA,EAAEA,KAAKA,EAAEA,CAACA;iBAACA,MAAMA,CAACA,IAAIA,CAACA;UAAAA;SACjCA,MAAMA,CAACA,IAAIA,CAACA;KACbA,CAACA;KAEDV,6BAAaA,GAAbA,UAAcA,CAAOA;SACpBW,IAAMA,OAAOA,GAAGA,CAACA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA,SAASA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;SACpDA,IAAMA,MAAMA,GAAGA,EAAEA,CAACA;SAClBA,GAAGA,CAACA,CAAgBA,UAAOA,EAAtBA,mBAAWA,EAAXA,IAAsBA,CAACA;aAAvBA,IAAMA,KAAKA,GAAIA,OAAOA,IAAXA;aACfA,EAAEA,CAACA,CAACA,KAAKA,IAAIA,UAAUA,CAACA;iBAACA,QAAQA,CAACA;aAClCA,EAAEA,CAACA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA,EAAEA,CAACA,CAACA,IAAIA,KAAKA,CAACA;iBAACA,QAAQA,CAACA;aAC1CA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;UACnBA;SACDA,MAAMA,CAACA,MAAMA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;KACzBA,CAACA;KACFX,YAACA;AAADA,EAACA,IAAA;AAjJY,cAAK,QAiJjB;AAED;;;IAGG;AACH;KAWCY,cAAYA,CAASA,EAAEA,CAASA,EAAEA,IAAYA;SAN9CC,WAAMA,GAAWA,EAAEA,CAACA;SAOnBA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA;SACXA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA;SACXA,IAAIA,CAACA,IAAIA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,UAAUA,EAAEA,WAACA,IAAIA,QAACA,IAAIA,MAAMA,GAAGA,CAACA,GAAGA,EAAEA,EAApBA,CAAoBA,CAACA,CAACA;KACjEA,CAACA;KAEDD,uBAAQA,GAARA,UAASA,CAAOA;SACfE,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;KACrBA,CAACA;KAEDF,0BAAWA,GAAXA,UAAYA,CAAOA;SAClBG,IAAMA,GAAGA,GAAWA,IAAIA,CAACA,MAAMA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA;SAC3CA,EAAEA,CAACA,CAACA,GAAGA,GAAGA,CAACA,CAACA;aAACA,MAAMA,CAACA,KAAKA,CAACA;SAC1BA,IAAIA,CAACA,MAAMA,CAACA,MAAMA,CAACA,GAAGA,EAAEA,CAACA,CAACA,CAACA;SAC3BA,MAAMA,CAACA,IAAIA,CAACA;KACbA,CAACA;KAEFH,WAACA;AAADA,EAACA,IAAA;AA5BY,aAAI,OA4BhB;AAqBD,+DAA8D;AAE9D,uDAAsD;AACtD;KAAAI;KAYAC,CAACA;KAXAD,yCAAWA,GAAXA,UAAYA,CAAOA,IAAaE,MAAMA,CAACA,IAAIA,CAACA,CAACA,CAACA;KAC9CF,wCAAUA,GAAVA,UAAWA,GAASA,EAAEA,GAASA,IAAaG,MAAMA,CAACA,IAAIA,CAACA,CAACA,CAACA;KAC1DH,uCAASA,GAATA,UAAUA,GAASA,EAAEA,GAASA,IAASI,CAACA;KACxCJ,0CAAYA,GAAZA,UAAaA,GAASA,EAAEA,GAASA,IAAQK,CAACA;KAC1CL,0CAAYA,GAAZA,UAAaA,CAAOA,IAASM,CAACA;KAC9BN,yCAAWA,GAAXA,UAAYA,CAAOA,IAASO,CAACA;KAC7BP,2CAAaA,GAAbA,UAAcA,GAASA,EAAEA,GAASA,IAAYQ,MAAMA,CAACA,OAAOA,CAACA,CAACA,CAACA;KAC/DR,uCAASA,GAATA,UAAUA,CAAOA,IAASS,MAAMA,CAACA,EAAEA,CAACA,CAACA,CAACA;KACtCT,uCAASA,GAATA,UAAUA,CAAOA,EAAEA,IAASA,IAASU,CAACA;KACtCV,yCAAWA,GAAXA,cAAqBW,CAACA;KACtBX,wCAAUA,GAAVA,cAAoBY,CAACA;KACtBZ,0BAACA;AAADA,EAACA,IAAA;AAED;;;IAGG;AACH;KAOCa,0BAAYA,KAAYA,EAAEA,EAA4BA;SAHtDC,aAAQA,GAAGA,KAAKA,CAACA;SAIhBA,IAAIA,CAACA,KAAKA,GAAGA,KAAKA,CAACA;SACnBA,IAAIA,CAACA,EAAEA,GAAGA,EAAEA,CAACA;SACbA,IAAIA,CAACA,mBAAmBA,EAAEA,CAACA;KAC5BA,CAACA;KAEDD,uCAAYA,GAAZA,UAAaA,CAAOA;SAApBE,iBAwBCA;SAvBAA,CAACA,CAACA,OAAOA,CAACA,SAASA,CAACA;aACnBA,WAAWA,EAAEA,QAAQA;aACrBA,QAAQA,EAAEA,CAACA;aACXA,KAAKA,EAAEA,OAAOA;aACdA,IAAIA,EAAEA,UAACA,KAAKA,EAAEA,EAAEA;iBACfA,CAACA,CAACA,CAACA,GAAGA,EAAEA,CAACA,QAAQA,CAACA,IAAIA,CAACA;iBACvBA,CAACA,CAACA,CAACA,GAAGA,EAAEA,CAACA,QAAQA,CAACA,GAAGA,CAACA;iBACtBA,KAAIA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,CAACA;aACnBA,CAACA;aACDA,KAAKA,EAAEA,UAACA,KAAKA,EAAEA,EAAEA;iBAChBA,KAAIA,CAACA,QAAQA,GAAGA,IAAIA,CAACA;iBACrBA,EAAEA,CAACA,MAAMA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,MAAMA,CAACA,CAACA;aACjCA,CAACA;aACDA,IAAIA,EAAEA,UAACA,KAAKA,EAAEA,EAAEA;iBACfA,EAAEA,CAACA,MAAMA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,SAASA,CAACA,CAACA;iBACnCA,KAAIA,CAACA,QAAQA,GAAGA,KAAKA,CAACA;aACvBA,CAACA;UACDA,CAACA,CAACA;SACHA,CAACA,CAACA,OAAOA,CAACA,KAAKA,CAACA,WAACA;aAChBA,EAAEA,CAACA,CAACA,KAAIA,CAACA,QAAQA,CAACA;iBAACA,MAAMA,CAACA;aAC1BA,EAAEA,CAACA,CAACA,KAAIA,CAACA,YAAYA,IAAIA,CAACA,CAACA;iBAACA,MAAMA,CAACA;aACnCA,KAAIA,CAACA,UAAUA,CAACA,CAACA,CAACA,CAACA;SACpBA,CAACA,CAACA,CAACA;KACJA,CAACA;KAEDF,qCAAUA,GAAVA,UAAWA,CAAOA;SACjBG,EAAEA,CAACA,CAACA,IAAIA,CAACA,YAAYA,CAACA;aACrBA,IAAIA,CAACA,YAAYA,CAACA,OAAOA,CAACA,WAAWA,CAACA,UAAUA,CAACA,CAACA;SACnDA,CAACA,CAACA,OAAOA,CAACA,QAAQA,CAACA,UAAUA,CAACA,CAACA;SAC/BA,IAAIA,CAACA,YAAYA,GAAGA,CAACA,CAACA;SACtBA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,YAAYA,CAACA,CAACA,CAACA,CAACA;KACpCA,CAACA;KAEDH,8CAAmBA,GAAnBA;SAAAI,iBAyBCA;SAxBAA,IAAIA,IAAUA,CAACA;SACfA,IAAIA,UAAUA,GAAGA,KAAKA,CAACA;SACvBA,CAACA,CAACA,MAAMA,CAACA,CAACA,OAAOA,CAACA,aAAGA;aACpBA,EAAEA,CAACA,CAACA,GAAGA,CAACA,OAAOA,IAAIA,SAASA,CAACA;iBAACA,MAAMA,CAACA,KAAIA,CAACA,OAAOA,CAACA,CAACA,EAAEA,EAAEA,EAAEA,CAACA,CAACA,CAACA;aAC5DA,EAAEA,CAACA,CAACA,GAAGA,CAACA,OAAOA,IAAIA,SAASA,IAAIA,UAAUA,CAACA;iBAACA,MAAMA,CAACA;aACnDA,IAAIA,GAAGA,KAAIA,CAACA,cAAcA,CAACA,KAAIA,CAACA,oBAAoBA,EAAEA,CAACA,CAACA;aACxDA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA;iBAACA,MAAMA,CAACA;aAClBA,EAAEA,CAACA,CAACA,CAACA,KAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,WAAWA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA;iBAC3CA,IAAIA,CAACA,OAAOA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,aAAaA,CAACA,CAACA;iBAC1CA,MAAMA,CAACA;aACRA,CAACA;aACDA,UAAUA,GAAGA,IAAIA,CAACA;aAClBA,KAAIA,CAACA,qBAAqBA,CAACA,IAAIA,CAACA,CAACA;SAClCA,CAACA,CAACA;cACDA,KAAKA,CAACA,aAAGA;aACTA,EAAEA,CAACA,CAACA,GAAGA,CAACA,OAAOA,IAAIA,SAASA,CAACA;iBAACA,MAAMA,CAACA,KAAIA,CAACA,OAAOA,CAACA,IAAIA,CAACA,CAACA;aACxDA,EAAEA,CAACA,CAACA,GAAGA,CAACA,OAAOA,IAAIA,SAASA,CAACA;iBAACA,MAAMA,CAACA;aACrCA,UAAUA,GAAGA,KAAKA,CAACA;aACnBA,KAAIA,CAACA,uBAAuBA,EAAEA,CAACA;aAC/BA,IAAMA,IAAIA,GAAGA,KAAIA,CAACA,cAAcA,CAACA,KAAIA,CAACA,oBAAoBA,EAAEA,CAACA,CAACA;aAC9DA,EAAEA,CAACA,CAACA,CAACA,IAAIA,IAAIA,IAAIA,IAAIA,IAAIA,CAACA;iBAACA,MAAMA,CAACA;aAClCA,KAAIA,CAACA,mBAAmBA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;aACrCA,KAAIA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,CAACA;SACnBA,CAACA,CAACA,CAACA;KACJA,CAACA;KAEDJ,kCAAOA,GAAPA,UAAQA,IAASA;SAChBK,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,UAAUA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,SAASA,CAAEA,QAAQA,EAAEA,MAAMA,EAAEA,IAAIA,CAACA,CAACA;KAC3EA,CAACA;KAEDL,8CAAmBA,GAAnBA,UAAoBA,IAAUA,EAAEA,IAAUA;SACzCM,EAAEA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,UAAUA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;aAACA,MAAMA,CAACA;SAC9CA,IAAIA;aAACA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;KACrCA,CAACA;KAEDN,+CAAoBA,GAApBA;SACCO,IAAMA,OAAOA,GAAGA,CAACA,CAACA,QAAQA,CAACA,CAACA;SAC5BA,EAAEA,CAACA,CAACA,OAAOA,CAACA,MAAMA,IAAIA,CAACA,CAACA;aAACA,MAAMA,CAACA,IAAIA,CAACA;SACrCA,IAAMA,MAAMA,GAAGA,CAACA,CAACA,OAAOA,CAACA,GAAGA,CAACA,OAAOA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA,CAACA;SAClDA,EAAEA,CAACA,CAACA,MAAMA,CAACA,QAAQA,CAACA,MAAMA,CAACA,CAACA;aAACA,MAAMA,CAACA,MAAMA,CAACA;SAC3CA,EAAEA,CAACA,CAACA,MAAMA,CAACA,MAAMA,EAAEA,CAACA,QAAQA,CAACA,MAAMA,CAACA,CAACA;aAACA,MAAMA,CAACA,MAAMA,CAACA,MAAMA,EAAEA,CAACA;SAC7DA,MAAMA,CAACA,IAAIA,CAACA;KACbA,CAACA;KAEDP,gDAAqBA,GAArBA,UAAsBA,IAAUA;SAAhCQ,iBAoBCA;SAnBAA,IAAMA,GAAGA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,UAAUA,CAACA,MAAMA,EAAEA,CAACA;SAC3CA,IAAMA,IAAIA,GAAGA,IAAIA,IAAIA,CAACA,CAACA,EAAEA,CAACA,EAAEA,EAAEA,CAACA,CAACA;SAChCA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA;SACXA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA;SACXA,CAACA,CAACA,IAAIA,CAACA,KAAKA,CAACA,UAAUA,CAACA,CAACA,EAAEA,CAACA,WAAWA,EAAEA,aAAGA;aAC3CA,IAAIA,CAACA,CAACA,GAAGA,GAAGA,CAACA,OAAOA,GAAGA,GAAGA,CAACA,IAAIA,CAACA;aAChCA,IAAIA,CAACA,CAACA,GAAGA,GAAGA,CAACA,OAAOA,GAAGA,GAAGA,CAACA,GAAGA,GAAGA,CAACA,CAACA,MAAMA,CAACA,CAACA,SAASA,EAAEA,CAACA;aACvDA,KAAIA,CAACA,KAAKA,CAACA,IAAIA,EAAEA,CAACA;aAClBA,KAAIA,CAACA,EAAEA,CAACA,IAAIA,EAAEA,CAACA;aACfA,KAAIA,CAACA,EAAEA,CAACA,WAAWA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;aAC1BA,KAAIA,CAACA,KAAKA,CAACA,SAASA,CAACA,SAASA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;aAC3CA,KAAIA,CAACA,EAAEA,CAACA,OAAOA,EAAEA,CAACA;SACnBA,CAACA,CAACA,CAACA;SACHA,gBAAgBA;SAChBA,IAAIA,CAACA,KAAKA,CAACA,UAAUA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,WAAWA,CAACA,CAACA;SACjDA,IAAIA,CAACA,KAAKA,CAACA,UAAUA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,WAAWA,CAACA,CAACA;SAC/DA,GAAGA,CAACA,CAAYA,UAAgBA,EAAhBA,SAAIA,CAACA,KAAKA,CAACA,KAAKA,EAA3BA,cAAOA,EAAPA,IAA2BA,CAACA;aAA5BA,IAAMA,CAACA;aACXA,EAAEA,CAACA,CAACA,CAACA,IAAIA,IAAIA,IAAIA,CAACA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,UAAUA,CAACA,IAAIA,EAAEA,CAACA,CAACA,CAACA;iBACxDA,CAACA,CAACA,OAAOA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,aAAaA,CAACA,CAACA;UAAAA;KAC1CA,CAACA;KAEDR,kDAAuBA,GAAvBA;SACCS,IAAIA,CAACA,KAAKA,CAACA,UAAUA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,EAAEA,CAACA,CAACA;SACxCA,IAAIA,CAACA,KAAKA,CAACA,UAAUA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,SAASA,CAACA,CAACA;SAC7DA,IAAIA,CAACA,KAAKA,CAACA,UAAUA,CAACA,GAAGA,CAACA,WAAWA,CAACA,CAACA;SACvCA,IAAIA,CAACA,KAAKA,CAACA,SAASA,CAACA,IAAIA,EAAEA,CAACA;KAC7BA,CAACA;KAEDT,yCAAcA,GAAdA,UAAeA,MAAcA;SAC5BU,EAAEA,CAACA,CAACA,CAACA,MAAMA,CAACA;aAACA,MAAMA,CAACA,IAAIA,CAACA;SACzBA,GAAGA,CAACA,CAAYA,UAAgBA,EAAhBA,SAAIA,CAACA,KAAKA,CAACA,KAAKA,EAA3BA,cAAOA,EAAPA,IAA2BA,CAACA;aAA5BA,IAAMA,CAACA;aACXA,EAAEA,CAACA,CAACA,CAACA,CAACA,OAAOA,CAACA,CAACA,CAACA,IAAIA,MAAMA,CAACA,CAACA,CAACA,CAACA;iBAACA,MAAMA,CAACA,CAACA,CAACA;UAAAA;SACzCA,MAAMA,CAACA,IAAIA,CAACA;KACbA,CAACA;KACFV,uBAACA;AAADA,EAACA,IAAA;AASD;;IAEG;AACH;KAQCW,mBAAYA,KAAYA,EAAEA,EAA4BA,EAAEA,MAAyBA;SAHjFC,iBAAYA,GAAGA,EAAEA,CAACA;SAIjBA,IAAIA,CAACA,KAAKA,GAAGA,KAAKA,CAACA;SACnBA,IAAIA,CAACA,EAAEA,GAAGA,EAAEA,CAACA;SACbA,IAAIA,CAACA,MAAMA,GAAGA,MAAMA,CAACA;SACrBA,IAAIA,CAACA,KAAKA,GAAGA,KAAKA,CAACA,KAAKA,CAACA;KAC1BA,CAACA;KAEDD,wBAAIA,GAAJA;SACCE,IAAIA,CAACA,WAAWA,EAAEA,CAACA;SACnBA,IAAIA,CAACA,EAAEA,CAACA,SAASA,GAAGA,CAACA,CAACA;SACtBA,GAAGA,CAACA,CAAeA,UAAUA,EAAVA,SAAIA,CAACA,KAAKA,EAAxBA,cAAUA,EAAVA,IAAwBA,CAACA;aAAzBA,IAAMA,IAAIA;aACdA,GAAGA,CAACA,CAAeA,UAAWA,EAAXA,SAAIA,CAACA,MAAMA,EAAzBA,cAAUA,EAAVA,IAAyBA,CAACA;iBAA1BA,IAAMA,IAAIA;iBACdA,IAAIA,CAACA,SAASA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;cAAAA;UAAAA;KAC9BA,CAACA;KAEDF,+BAAWA,GAAXA;SACCG,IAAIA,CAACA,EAAEA,CAACA,SAASA,CAACA,CAACA,EAAEA,CAACA,EAAEA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,EAAEA,IAAIA,CAACA,MAAMA,CAACA,MAAMA,CAACA,CAACA;KAChEA,CAACA;KAEDH,6BAASA,GAATA,UAAUA,OAAaA,EAAEA,OAAaA;SACrCI,IAAMA,QAAQA,GAAGA,IAAIA,CAACA,aAAaA,CAACA,OAAOA,CAACA,CAACA;SAC7CA,IAAMA,QAAQA,GAAGA,IAAIA,CAACA,aAAaA,CAACA,OAAOA,CAACA,CAACA;SAC7CA,IAAIA,CAACA,EAAEA,CAACA,WAAWA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,aAAaA,CAACA,OAAOA,EAAEA,OAAOA,CAACA,CAACA;SACzEA,IAAIA,CAACA,EAAEA,CAACA,SAASA,EAAEA,CAACA;SACpBA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,CAACA,QAAQA,CAACA,CAACA,EAAEA,QAAQA,CAACA,CAACA,CAACA,CAACA;SACvCA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,CAACA,QAAQA,CAACA,CAACA,EAAEA,QAAQA,CAACA,CAACA,CAACA,CAACA;SACvCA,IAAIA,CAACA,YAAYA,CAACA,QAAQA,EAAEA,QAAQA,CAACA,CAACA;SACtCA,IAAIA,CAACA,EAAEA,CAACA,SAASA,EAAEA,CAACA;SACpBA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,EAAEA,CAACA;KAClBA,CAACA;KAEDJ,gCAAYA,GAAZA,UAAaA,GAAUA,EAAEA,GAAUA;SAClCK,IAAMA,OAAOA,GAAGA,GAAGA,CAACA;SACpBA,IAAMA,EAAEA,GAAGA,GAAGA,CAACA,CAACA,GAAGA,CAACA,GAAGA,CAACA,CAACA,GAAGA,GAAGA,CAACA,CAACA,CAACA,GAAGA,OAAOA,CAACA;SAC7CA,IAAMA,EAAEA,GAAGA,GAAGA,CAACA,CAACA,GAAGA,CAACA,GAAGA,CAACA,CAACA,GAAGA,GAAGA,CAACA,CAACA,CAACA,GAAGA,OAAOA,CAACA;SAC7CA,IAAIA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA,GAAGA,GAAGA,CAACA,CAACA,EAAEA,GAAGA,CAACA,CAACA,GAAGA,GAAGA,CAACA,CAACA,CAACA,CAACA;SACrDA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,CAACA,EAAEA,EAAEA,EAAEA,CAACA,CAACA;SACvBA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,CACbA,EAAEA,GAAGA,IAAIA,CAACA,YAAYA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,EAAEA,GAACA,CAACA,CAACA,EACpDA,EAAEA,GAAGA,IAAIA,CAACA,YAAYA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,EAAEA,GAACA,CAACA,CAACA,CACpDA,CAACA;SACFA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,CAACA,EAAEA,EAAEA,EAAEA,CAACA,CAACA;SACvBA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,CACbA,EAAEA,GAAGA,IAAIA,CAACA,YAAYA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,EAAEA,GAACA,CAACA,CAACA,EACpDA,EAAEA,GAAGA,IAAIA,CAACA,YAAYA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,EAAEA,GAACA,CAACA,CAACA,CACpDA,CAACA;KACHA,CAACA;KAEDL,iCAAaA,GAAbA,UAAcA,CAAOA;SACpBM,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,KAAKA,SAASA,GAAGA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,UAAUA,EAAEA,CAACA;SACvDA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,KAAKA,SAASA,GAAGA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,OAAOA,CAACA,WAAWA,EAAEA,CAACA;SACxDA,MAAMA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA;KAC/CA,CAACA;KACFN,gBAACA;AAADA,EAACA,IAAA;;;;;;;AC3aD,mCAA0C,CAAS,CAAC;AACpD,qCAA4D,CAAW,CAAC;AACxE,oCAAwE,CAAU,CAAC;AACnF,KAAY,MAAM,uBAAM,CAAe,CAAC;AAGxC,KAAM,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAC,EAAE,CAAC,CAAC;AACnC,KAAM,EAAE,GAAG,EAAE,CAAC;AAEd;;IAEG;AACH;KAAAO;SAWCC,qCAAqCA;SACrCA,UAAKA,GAAYA,KAAKA,CAACA;KAOxBA,CAACA;KAJAD,iCAAiCA;KACjCA,4BAASA,GAATA;SACCE,MAAMA,2DAA2DA,CAACA;KACnEA,CAACA;KACFF,eAACA;AAADA,EAACA,IAAA;AAnBY,iBAAQ,WAmBpB;AAED;;IAEG;AACH;KAAAG;SACCC,SAAIA,GAAGA,CAACA,CAACA;SACTA,UAAKA,GAAGA,CAACA,CAACA;KACXA,CAACA;KAADD,iBAACA;AAADA,EAACA,IAAA;AAHY,mBAAU,aAGtB;AAWD;;;;IAIG;AACH;KAQCE,eAAYA,EAAsBA;SANlCC,gBAAWA,GAAgCA,EAAEA,CAACA;SAC9CA,kBAAaA,GAAoCA,EAAEA,CAACA;SAEpDA,iBAAYA,GAAkBA,EAAEA,CAACA;SACjCA,eAAUA,GAAGA,IAAIA,UAAUA,EAAEA,CAACA;SAG7BA,IAAIA,CAACA,EAAEA,GAAGA,EAAEA,CAACA;SACbA,IAAIA,CAACA,OAAOA,GAAGA,iBAAOA,CAACA;SACvBA,IAAIA,CAACA,kBAAkBA,CAACA,YAAYA,EAAEA,MAAMA,CAACA,IAAIA,CAACA,CAACA;SACnDA,IAAIA,CAACA,kBAAkBA,CAACA,aAAaA,EAAEA,MAAMA,CAACA,cAAcA,CAACA,CAACA;SAC9DA,IAAIA,CAACA,kBAAkBA,CAACA,iBAAiBA,EAAEA,MAAMA,CAACA,kBAAkBA,CAACA,CAACA;SACtEA,IAAIA,CAACA,kBAAkBA,CAACA,cAAcA,EAAEA,MAAMA,CAACA,UAAUA,CAACA,CAACA;SAC3DA,IAAIA,CAACA,kBAAkBA,CAACA,eAAeA,EAAEA,MAAMA,CAACA,OAAOA,CAACA,CAACA;SACzDA,IAAIA,CAACA,oBAAoBA,CAACA,WAAWA,EAAEA,IAAIA,SAASA,EAAEA,CAACA,CAACA;KACzDA,CAACA;KAEDD,+BAAeA,GAAfA,UAAgBA,IAAYA;SAC3BE,IAAMA,GAAGA,GAAYA,iBAAOA,CAACA,IAAIA,CAACA,CAACA;SACnCA,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA;aAACA,MAAMA,CAACA,IAAIA,CAACA;SACtBA,IAAMA,OAAOA,GAAGA,GAAGA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,WAAWA,GAAGA,IAAIA,CAACA,EAAEA,CAACA;SACxDA,EAAEA,CAACA,CAACA,CAACA,OAAOA,CAACA,GAAGA,CAACA,WAAWA,CAACA,CAACA;aAACA,MAAMA,CAACA,IAAIA,CAACA;SAC3CA,IAAMA,KAAKA,GAAGA,OAAOA,CAACA,GAAGA,CAACA,WAAWA,CAACA,EAAEA,CAACA;SACzCA,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA,OAAOA,CAACA;aAACA,KAAKA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,EAAEA,CAACA;SAC5CA,IAAIA,CAACA,cAAcA,CAACA,KAAKA,EAAEA,GAAGA,EAAEA,IAAIA,CAACA,CAACA;SACtCA,MAAMA,CAACA,KAAKA,CAACA;KACdA,CAACA;KAEDF,4BAAYA,GAAZA,UAAaA,KAAeA,EAAEA,IAAYA;SACzCG,KAAKA,CAACA,KAAKA,GAAGA,IAAIA,CAACA;SACnBA,KAAKA,CAACA,IAAIA,GAAGA,IAAIA,CAACA;SAClBA,KAAKA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,eAAeA,CAACA,IAAIA,CAACA,CAACA;SACzCA,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA,KAAKA,CAACA;aAChBA,MAAMA,CAACA,OAAOA,CAACA,KAAKA,CAACA,6BAA2BA,IAAIA,MAAGA,CAACA,CAACA;SAC1DA,KAAKA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,CAACA,CAACA;SACnCA,IAAMA,EAAEA,GAAGA,KAAKA,CAACA,OAAOA,CAACA,WAAWA,CAACA;SACrCA,EAAEA,CAACA,CAACA,EAAEA,CAACA,CAACA,CAACA;aACRA,KAAKA,CAACA,WAAWA,GAAGA,IAAIA,oBAAYA,CAACA,EAAEA,CAACA,CAACA,KAAKA,CAACA,CAACA;aAChDA,IAAIA,CAACA,cAAcA,CAACA,KAAKA,CAACA,WAAWA,CAACA,CAACA;SACxCA,CAACA;KACFA,CAACA;KAEDH,kCAAkBA,GAAlBA,UAAmBA,KAAeA,EAAEA,GAAcA;SACjDI,KAAKA,CAACA,KAAKA,GAAGA,IAAIA,CAACA;SACnBA,KAAKA,CAACA,IAAIA,GAAGA,KAAKA,CAACA;SACnBA,KAAKA,CAACA,KAAKA,GAAGA,IAAIA,CAACA,EAAEA,CAACA,UAAUA,EAAEA,CAACA;SACnCA,KAAKA,CAACA,KAAKA,CAACA,OAAOA,CAACA,GAAGA,CAACA,CAACA;SACzBA,KAAKA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,SAASA,CAACA,CAACA;SACxCA,KAAKA,CAACA,KAAKA,GAAGA,IAAIA,CAACA;KACpBA,CAACA;KAEDJ,8BAAcA,GAAdA,UAAeA,IAAcA;SAC5BK,EAAEA,CAACA,CAACA,IAAIA,CAACA,WAAWA,CAACA;aACpBA,IAAIA,CAACA,iBAAiBA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA;KAC3CA,CAACA;KAEDL,4BAAYA,GAAZA,UAAaA,OAAiBA,EAAEA,OAAiBA;SAChDM,EAAEA,CAACA,CAACA,OAAOA,CAACA,OAAOA,CAACA,OAAOA,IAAIA,CAACA,OAAOA,CAACA,OAAOA,CAACA,OAAOA,CAACA,CAACA,CAACA;aACzDA,OAAOA,CAACA,aAAaA,GAAGA,MAAMA,CAACA,IAAIA,CAACA,OAAOA,CAACA,OAAOA,CAACA,MAAMA,CAACA;kBACzDA,MAAMA,CAACA,eAAKA,IAAIA,cAAOA,CAACA,KAAKA,CAACA,KAAKA,CAACA,YAAYA,UAAUA,EAA1CA,CAA0CA,CAACA,CAACA;aAC9DA,OAAOA,CAACA,YAAYA,GAAGA,OAAOA,CAACA,aAAaA,CAACA,CAACA,CAACA,CAACA;aAChDA,OAAOA,CAACA,aAAaA,GAAGA,OAAOA,CAACA,KAAKA,CAACA;aACtCA,OAAOA,CAACA,KAAKA,CAACA,OAAOA,CAACA,OAAOA,CAACA,KAAKA,CAACA,OAAOA,CAACA,YAAYA,CAACA,CAACA,CAACA;SAC5DA,CAACA;SACDA,IAAIA;aAACA,OAAOA,CAACA,KAAKA,CAACA,OAAOA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA;KAC3CA,CAACA;KAEDN,+BAAeA,GAAfA,UAAgBA,OAAiBA,EAAEA,OAAiBA;SACnDO,EAAEA,CAACA,CAACA,OAAOA,CAACA,OAAOA,CAACA,OAAOA,IAAIA,CAACA,OAAOA,CAACA,OAAOA,CAACA,OAAOA,CAACA,CAACA,CAACA;aACzDA,OAAOA,CAACA,aAAaA,GAAGA,IAAIA,CAACA;aAC7BA,OAAOA,CAACA,KAAKA,CAACA,UAAUA,CAACA,OAAOA,CAACA,KAAKA,CAACA,OAAOA,CAACA,YAAYA,CAACA,CAACA,CAACA;SAC/DA,CAACA;SACDA,IAAIA;aACHA,OAAOA,CAACA,KAAKA,CAACA,UAAUA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA;KAC1CA,CAACA;KAEDP,6BAAaA,GAAbA,UAAcA,IAASA,EAAEA,IAAcA;SACtCQ,GAAGA,CAACA,CAAgBA,UAAwBA,EAAxBA,WAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,CAACA,EAAvCA,cAAWA,EAAXA,IAAuCA,CAACA;aAAxCA,IAAMA,KAAKA;aACfA,IAAMA,MAAMA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;aACjCA,IAAMA,EAAEA,GAAGA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA;aAC9BA,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,OAAOA,CAACA;iBACtCA,IAAIA,CAACA,aAAaA,CAACA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,OAAOA,CAACA;sBACpDA,UAAUA,CAACA,IAAIA,CAACA,KAAKA,EAAEA,EAAEA,CAACA,CAACA;aAC9BA,IAAIA,CAACA,EAAEA,CAACA,CAACA,MAAMA,YAAYA,UAAUA,CAACA,CAACA,CAACA;iBACvCA,MAAMA,CAACA,KAAKA,GAAGA,EAAEA,CAACA;iBAClBA,MAAMA,CAACA,QAAQA,CAACA,GAAGA,EAAEA,CAACA;aACvBA,CAACA;aACDA,IAAIA;iBAACA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,GAAGA,EAAEA,CAACA;UAC5BA;KACFA,CAACA;KAEDR,6BAAaA,GAAbA,UAAcA,IAAcA;SAC3BS,IAAMA,MAAMA,GAAGA,EAAEA,CAACA;SAClBA,GAAGA,CAACA,CAAgBA,UAAgCA,EAAhCA,WAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,EAA/CA,cAAWA,EAAXA,IAA+CA,CAACA;aAAhDA,IAAMA,KAAKA;aACfA,IAAMA,MAAMA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;aACjCA,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,OAAOA,CAACA;iBACtCA,MAAMA,CAACA,KAAKA,CAACA,GAAGA,IAAIA,CAACA,aAAaA,CAACA,IAAIA,CAACA,OAAOA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,OAAOA,CAACA;sBACpEA,UAAUA,CAACA,IAAIA,CAACA,KAAKA,CAACA,CAACA;aAC1BA,IAAIA,CAACA,EAAEA,CAACA,CAACA,MAAMA,YAAYA,UAAUA,CAACA;iBACrCA,EAAEA,CAACA,CAACA,MAAMA,CAACA,QAAQA,CAACA,KAAKA,SAASA,CAACA;qBAACA,MAAMA,CAACA,KAAKA,CAACA,GAAGA,MAAMA,CAACA,KAAKA,CAACA;iBACjEA,IAAIA;qBAACA,MAAMA,CAACA,KAAKA,CAACA,GAAGA,MAAMA,CAACA,QAAQA,CAACA,CAACA;aACvCA,IAAIA;iBAACA,MAAMA,CAACA,KAAKA,CAACA,GAAGA,MAAMA,CAACA;UAC5BA;SACDA,MAAMA,CAACA;aACNA,IAAIA,EAAEA,IAAIA,CAACA,IAAIA;aACfA,cAAMA;aACNA,YAAYA,EAAEA,IAAIA,CAACA,YAAYA;aAC/BA,aAAaA,EAAEA,IAAIA,CAACA,aAAaA;UACjCA;KACFA,CAACA;KAEDT,8BAAcA,GAAdA,UAAeA,IAAYA;SAC1BU,MAAMA,CAACA,IAAIA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,IAAIA,GAAGA,EAAEA,CAACA,CAACA;KACtCA,CAACA;KAEDV,sBAAMA,GAANA,UAAOA,IAAYA,EAAEA,IAAYA,EAAEA,IAAaA;SAC/CW,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA;aAACA,IAAIA,GAAGA,IAAIA,CAACA,EAAEA,CAACA,WAAWA,CAACA;SACtCA,IAAMA,KAAKA,GAAGA,IAAIA,CAACA,cAAcA,CAACA,IAAIA,CAACA,CAACA;SACxCA,GAAGA,CAACA,CAAaA,UAAiBA,EAAjBA,SAAIA,CAACA,YAAYA,EAA7BA,cAAQA,EAARA,IAA6BA,CAACA;aAA9BA,IAAMA,EAAEA;aACZA,EAAEA,CAACA,CAACA,EAAEA,CAACA,SAASA,CAACA;iBAACA,EAAEA,CAACA,QAAQA,GAAGA,IAAIA,CAACA,YAAYA,CAACA;aAClDA,EAAEA,CAACA,MAAMA,CAACA,IAAIA,EAAEA,IAAIA,EAAEA,KAAKA,EAAEA,IAAIA,CAACA,CAACA;UACnCA;SACDA,IAAIA,CAACA,UAAUA,CAACA,KAAKA,GAAGA,KAAKA,CAACA;KAC/BA,CAACA;KAEDX,uBAAOA,GAAPA,UAAQA,IAAYA,EAAEA,IAAYA,EAAEA,IAAaA;SAChDY,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA;aAACA,IAAIA,GAAGA,IAAIA,CAACA,EAAEA,CAACA,WAAWA,CAACA;SACtCA,GAAGA,CAACA,CAAaA,UAAiBA,EAAjBA,SAAIA,CAACA,YAAYA,EAA7BA,cAAQA,EAARA,IAA6BA,CAACA;aAA9BA,IAAMA,EAAEA;aACZA,EAAEA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;UAAAA;KAC/BA,CAACA;KAEDZ,8BAAcA,GAAdA,UAAeA,EAAeA;SAC7Ba,IAAIA,CAACA,YAAYA,CAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA;KAC5BA,CAACA;KAEDb,iCAAiBA,GAAjBA,UAAkBA,EAAeA;SAChCc,2BAAkBA,CAACA,IAAIA,CAACA,YAAYA,EAAEA,EAAEA,CAACA;KAC1CA,CAACA;KAEDd,8BAAcA,GAAdA,UAAeA,KAAgBA,EAAEA,GAAYA,EAAEA,IAAYA;SAC1De,GAAGA,CAACA,CAAgBA,UAA6BA,EAA7BA,WAAMA,CAACA,IAAIA,CAACA,GAAGA,CAACA,MAAMA,IAAIA,EAAEA,CAACA,EAA5CA,cAAWA,EAAXA,IAA4CA,CAACA;aAA7CA,IAAMA,KAAKA;aACfA,EAAEA,CAACA,CAACA,KAAKA,CAACA,KAAKA,CAACA,KAAKA,SAASA,CAACA;iBAC9BA,OAAOA,CAACA,IAAIA,CAACA,gBAAcA,KAAKA,8BAAyBA,IAAIA,MAAGA,CAACA;aAClEA,IAAIA,CAACA,EAAEA,CAACA,CAACA,KAAKA,CAACA,KAAKA,CAACA,YAAYA,UAAUA,CAACA;iBAC3CA,KAAKA,CAACA,KAAKA,CAACA,CAACA,KAAKA,GAAGA,GAAGA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,OAAOA,CAACA;aAChDA,IAAIA,CAACA,EAAEA,CAACA,CAACA,GAAGA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,OAAOA,CAACA,CAACA,CAACA;iBACpCA,GAAGA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,QAAQA,GAAGA,IAAIA,CAACA,aAAaA,CAACA,GAAGA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,OAAOA,CAACA,CAACA;iBAC3EA,GAAGA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,QAAQA,CAACA,UAAUA,CAACA,KAAKA,EAAEA,GAAGA,CAACA,CAACA;aACnDA,CAACA;aACDA,IAAIA;iBACHA,KAAKA,CAACA,KAAKA,CAACA,GAAGA,GAAGA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,OAAOA,CAACA;UAAAA;KAC5CA,CAACA;KAEDf,kCAAkBA,GAAlBA,UAAmBA,eAAuBA,EAAEA,SAAcA;SAA1DgB,iBAECA;SADAA,IAAIA,CAACA,WAAWA,CAACA,eAAeA,CAACA,GAAGA,cAAMA,WAAIA,SAASA,CAACA,KAAIA,CAACA,EAAEA,CAACA,EAAtBA,CAAsBA,CAACA;KAClEA,CAACA;KAEDhB,oCAAoBA,GAApBA,UAAqBA,KAAaA,EAAEA,OAAqBA;SACxDiB,IAAIA,CAACA,aAAaA,CAACA,KAAKA,CAACA,GAAGA,OAAOA,CAACA;KACrCA,CAACA;KAEFjB,YAACA;AAADA,EAACA,IAAA;AAnKY,cAAK,QAmKjB;AAID,+DAA8D;AAE9D;KAAAkB;KAoEAC,CAACA;KAjEAD,8BAAUA,GAAVA,UAAWA,KAAgBA,EAAEA,GAAYA;SACxCE,IAAMA,IAAIA,GAAiDA,KAAKA,CAACA;SACjEA,IAAMA,GAAGA,GAAmBA,GAAGA,CAACA,MAAMA,CAACA,QAAQA,CAACA,CAACA,OAAOA,CAACA;SACzDA,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA;aAACA,MAAMA,CAACA;SACjBA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,MAAMA,CAACA;aAACA,IAAIA,CAACA,MAAMA,GAAGA;iBAC/BA,MAAMA,EAAEA,cAAOA,CAACA;iBAChBA,KAAKA,EAAEA,cAAOA,CAACA;iBACfA,QAAQA,EAAEA,cAAOA,CAACA;cAClBA,CAACA;SACFA,IAAIA,CAACA,eAAeA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;KACjCA,CAACA;KAEDF,+BAAWA,GAAXA,UAAYA,KAAaA,EAAEA,IAAkBA,EAC5CA,KAAgBA,EAAEA,KAAaA,EAAEA,KAAaA;SAD/CG,iBAeCA;SAbAA,IAAMA,GAAGA,GAAGA,CAACA,CAACA,0BAA0BA,CAACA,CAACA;SAC1CA,IAAMA,MAAMA,GAAGA,CAACA,CAACA,8CAA8CA,CAACA,CAACA;SACjEA,GAAGA,CAACA,MAAMA,CAACA,MAAMA,CAACA,CAACA;SACnBA,MAAMA,CAACA,KAAKA,CAACA,YAAYA,GAAGA,KAAKA,CAACA,CAACA;SACnCA,KAAKA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;SAClBA,MAAMA,CAACA,KAAKA,CAACA,WAACA;aACbA,KAAIA,CAACA,MAAMA,CAACA,MAAMA,CAACA,mBAAmBA,EAAEA,oBAAoBA,EAAEA,IAAIA,EAAEA,aAAGA;iBACtEA,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA;qBAACA,MAAMA,CAACA;iBACjBA,IAAMA,IAAIA,GAAiDA,KAAKA,CAACA;iBACjEA,KAAIA,CAACA,eAAeA,CAACA,IAAIA,EAAEA,GAAGA,CAACA,CAACA;aACjCA,CAACA,CAACA,CAACA;SACJA,CAACA,CAACA,CAACA;SACHA,MAAMA,CAACA,GAAGA,CAACA;KACZA,CAACA;KAEDH,8BAAUA,GAAVA,UAAWA,KAAgBA;SAC1BI,MAAMA,CAACA,KAAKA,CAACA,MAAMA,CAACA,CAACA;KACtBA,CAACA;KAEDJ,8BAAUA,GAAVA,UAAWA,KAAgBA,EAAEA,IAASA;SACrCK,IAAIA,CAACA,eAAeA,CAAwBA,KAAKA,EAAEA,IAAIA,CAACA,CAACA;KAC1DA,CAACA;KAEDL,mCAAeA,GAAfA,UAAgBA,IAA2BA,EAAEA,GAAWA;SACvDM,IAAIA,CAACA,UAAUA,CAACA,IAAIA,CAACA,OAAOA,EAAEA,GAAGA,EAAEA,gBAAMA;aACxCA,IAAIA,CAACA,SAASA,CAACA,GAAGA,MAAMA,CAACA;aACzBA,IAAIA,CAACA,MAAMA,CAACA,GAAGA,GAAGA,CAACA;SACpBA,CAACA,CAACA,CAACA;KACJA,CAACA;KAEDN,8BAAUA,GAAVA,UAAWA,EAAgBA,EAAEA,GAAWA,EAAEA,EAAiCA;SAA3EO,iBAoBCA;SAnBAA,IAAMA,CAACA,GAAQA,MAAMA,CAACA;SACtBA,CAACA,CAACA,gBAAgBA,GAAGA,CAACA,CAACA,gBAAgBA,IAAIA,EAAEA,CAACA;SAC9CA,EAAEA,CAACA,CAACA,CAACA,CAACA,gBAAgBA,CAACA,GAAGA,CAACA,CAACA;aAC3BA,MAAMA,CAACA,EAAEA,CAACA,CAACA,CAACA,gBAAgBA,CAACA,GAAGA,CAACA,CAACA,CAACA;SACpCA,IAAMA,GAAGA,GAAGA,IAAIA,cAAcA,EAAEA,CAACA;SACjCA,GAAGA,CAACA,IAAIA,CAACA,KAAKA,EAAEA,GAAGA,EAAEA,IAAIA,CAACA,CAACA;SAC3BA,GAAGA,CAACA,YAAYA,GAAGA,aAAaA,CAACA;SACjCA,GAAGA,CAACA,MAAMA,GAAGA,WAACA;aACbA,KAAIA,CAACA,MAAMA,CAACA,KAAKA,EAAEA,CAACA;aACpBA,EAAEA,CAACA,eAAeA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,gBAAMA;iBACtCA,CAACA,CAACA,gBAAgBA,CAACA,GAAGA,CAACA,GAAGA,MAAMA,CAACA;iBACjCA,EAAEA,CAACA,MAAMA,CAACA,CAACA;aACZA,CAACA,CAACA,CAACA;SACJA,CAACA,CAACA;SACFA,GAAGA,CAACA,IAAIA,EAAEA,CAACA;SACXA,UAAUA,CAACA,WAACA;aACXA,EAAEA,CAACA,CAACA,GAAGA,CAACA,UAAUA,IAAIA,GAAGA,CAACA,IAAIA,CAACA;iBAC9BA,KAAIA,CAACA,MAAMA,CAACA,QAAQA,CAACA,UAAUA,GAAGA,GAAGA,GAAGA,KAAKA,CAACA,CAACA;SACjDA,CAACA,EAAEA,GAAGA,CAACA,CAACA;KACTA,CAACA;KACFP,gBAACA;AAADA,EAACA,IAAA;;;;;;;;;;;;AClSD,oCAAoD,CAAU,CAAC;AAgB/D;;IAEG;AACH;KAOCQ,yBAAYA,KAAeA;SAJ3BC,cAASA,GAAGA,KAAKA,CAACA;SAClBA,qBAAgBA,GAAGA,KAAKA,CAACA;SACzBA,aAAQA,GAAGA,IAAIA,CAACA;SAGfA,IAAIA,CAACA,KAAKA,GAAGA,KAAKA,CAACA;SACnBA,IAAIA,CAACA,UAAUA,GAAGA,IAAIA,aAAaA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;KAClDA,CAACA;KAEDD,gCAAMA,GAANA,UAAOA,IAAYA,EAAEA,IAAYA,EAAEA,KAAaA,EAAEA,IAAYA,IAAQE,CAACA;KACvEF,iCAAOA,GAAPA,UAAQA,IAAYA,EAAEA,IAAYA,EAAEA,IAAYA,IAASG,CAACA;KAC1DH,iCAAOA,GAAPA,UAAQA,IAAYA,EAAEA,IAAYA,IAASI,CAACA;KAE5CJ,+BAAKA,GAALA;SACCK,eAAeA;SACfA,IAAMA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,WAAWA,CAACA,EAAEA,CAACA;SACzEA,kBAAkBA;SAClBA,GAAGA,CAACA,CAAgBA,UAAsCA,EAAtCA,WAAMA,CAACA,IAAIA,CAACA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,MAAMA,CAACA,EAArDA,cAAWA,EAAXA,IAAqDA,CAACA;aAAtDA,IAAMA,KAAKA;aACfA,IAAMA,KAAKA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;aACtCA,EAAEA,CAACA,CAACA,KAAKA,YAAYA,UAAUA,CAACA;iBAC/BA,KAAKA,CAACA,KAAKA,CAACA,CAACA,KAAKA,GAAGA,KAAKA,CAACA,KAAKA,CAACA;aAClCA,IAAIA,CAACA,EAAEA,CAACA,CAACA,KAAKA,KAAKA,IAAIA,IAAIA,KAAKA,KAAKA,SAASA,CAACA;iBAC9CA,KAAKA,CAACA,KAAKA,CAACA,GAAGA,KAAKA,CAACA;UACtBA;SACDA,0BAA0BA;SAC1BA,GAAGA,CAACA,CAAcA,UAAuBA,EAAvBA,SAAIA,CAACA,UAAUA,CAACA,OAAOA,EAApCA,cAASA,EAATA,IAAoCA,CAACA;aAArCA,IAAMA,GAAGA;aACbA,IAAIA,EAAEA,GAAQA,GAAGA,CAACA;aAClBA,EAAEA,CAACA,CAACA,EAAEA,CAACA,MAAMA,IAAIA,EAAEA,CAACA,KAAKA,CAACA;iBAACA,EAAEA,GAAGA,EAAEA,CAACA,KAAKA,CAACA;aACzCA,KAAKA,CAACA,OAAOA,CAACA,EAAEA,CAACA,CAACA;UAClBA;SACDA,iCAAiCA;SACjCA,GAAGA,CAACA,CAAiBA,UAAsBA,EAAtBA,SAAIA,CAACA,KAAKA,CAACA,SAASA,EAAEA,EAAtCA,cAAYA,EAAZA,IAAsCA,CAACA;aAAvCA,IAAMA,MAAMA;aAChBA,MAAMA,CAACA,KAAKA,CAACA,OAAOA,CAACA,KAAKA,CAACA,MAAMA,CAACA,YAAYA,CAACA,CAACA,CAACA;UACjDA;SACDA,yDAAyDA;SACzDA,yDAAyDA;SACzDA,MAAMA,CAACA,KAAKA,CAACA;KACdA,CAACA;KAEDL,oCAAUA,GAAVA,UAAWA,KAAsBA;SAChCM,qBAAqBA;SACrBA,GAAGA,CAACA,CAAcA,UAAuBA,EAAvBA,SAAIA,CAACA,UAAUA,CAACA,OAAOA,EAApCA,cAASA,EAATA,IAAoCA,CAACA;aAArCA,IAAMA,GAAGA;aACbA,KAAKA,CAACA,UAAUA,CAACA,GAAGA,CAACA,CAACA;UAAAA;SACvBA,4BAA4BA;SAC5BA,GAAGA,CAACA,CAAiBA,UAAsBA,EAAtBA,SAAIA,CAACA,KAAKA,CAACA,SAASA,EAAEA,EAAtCA,cAAYA,EAAZA,IAAsCA,CAACA;aAAvCA,IAAMA,MAAMA;aAChBA,MAAMA,CAACA,KAAKA,CAACA,UAAUA,CAACA,KAAKA,CAACA,MAAMA,CAACA,YAAYA,CAACA,CAACA,CAACA;UACpDA;KACFA,CAACA;KAEDN,mCAASA,GAATA,UAAUA,KAAiBA,EAAEA,KAAaA,EAAEA,IAAYA;SACvDO,IAAMA,UAAUA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,UAAUA,CAACA;SAC/CA,IAAMA,IAAIA,GAAGA,KAAKA,CAACA,KAAKA,GAAGA,KAAKA,CAACA;SACjCA,KAAKA,CAACA,QAAQA,CAACA,GAAGA,IAAIA,CAACA,CAACA,iDAAiDA;SACzEA,EAAEA,CAACA,CAACA,UAAUA,CAACA,IAAIA,GAAGA,CAACA,IAAIA,UAAUA,CAACA,KAAKA,GAAGA,CAACA,CAACA,CAACA,CAACA;aACjDA,IAAMA,IAAIA,GAAGA,KAAKA,CAACA,KAAKA,GAAGA,UAAUA,CAACA,KAAKA,CAACA;aAC5CA,KAAKA,CAACA,qBAAqBA,CAACA,IAAIA,CAACA,CAACA;aAClCA,KAAKA,CAACA,uBAAuBA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;aAC1CA,KAAKA,CAACA,4BAA4BA,CAACA,IAAIA,EAAEA,IAAIA,GAAGA,UAAUA,CAACA,IAAIA,CAACA,CAACA;SAClEA,CAACA;SACDA,IAAIA;aAACA,KAAKA,CAACA,cAAcA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;KACvCA,CAACA;KACFP,sBAACA;AAADA,EAACA,IAAA;AAED;;IAEG;AACH;KAA6BQ,kCAAeA;KAA5CA;SAA6BC,8BAAeA;SAG3CA,YAAOA,GAAGA,KAAKA,CAACA;KAyBjBA,CAACA;KAvBAD,+BAAMA,GAANA,UAAOA,IAAYA,EAAEA,IAAYA,EAAEA,KAAaA,EAAEA,IAAYA;SAC7DE,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA;aAACA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA,CAACA,6BAA6BA;SACzEA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA;SACpBA,IAAIA,CAACA,QAAQA,GAAmBA,IAAIA,CAACA,KAAKA,EAAEA,CAACA;SAC7CA,IAAIA,CAACA,SAASA,CAACA,IAAIA,CAACA,QAAQA,CAACA,SAASA,EAAEA,KAAKA,EAAEA,IAAIA,CAACA,CAACA;SACrDA,IAAIA,CAACA,QAAQA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA;SAC1BA,IAAIA,CAACA,QAAQA,GAAGA,IAAIA,CAACA;KACtBA,CAACA;KAEDF,gCAAOA,GAAPA,UAAQA,IAAYA,EAAEA,IAAYA,EAAEA,IAAYA;SAC/CG,EAAEA,CAACA,CAACA,IAAIA,IAAIA,IAAIA,CAACA,QAAQA,CAACA;aAACA,MAAMA,CAACA;SAClCA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA;aAACA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;KACtDA,CAACA;KAEDH,gCAAOA,GAAPA,UAAQA,IAAYA,EAAEA,IAAYA;SACjCI,sBAAsBA;SACtBA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA;aAACA,MAAMA,CAACA;SAC1BA,IAAIA,CAACA,OAAOA,GAAGA,KAAKA,CAACA;SACrBA,IAAIA,CAACA,QAAQA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;SACzBA,kEAAkEA;SAClEA,kCAAkCA;SAClCA,wBAAwBA;KACzBA,CAACA;KACFJ,qBAACA;AAADA,EAACA,EA5B4B,eAAe,EA4B3C;AAED;;;IAGG;AACH;KAA6BK,kCAAcA;KAA3CA;SAA6BC,8BAAcA;KAK3CA,CAACA;KAJAD,kCAASA,GAATA,UAAUA,KAAiBA,EAAEA,KAAaA,EAAEA,IAAYA;SACvDE,6BAA6BA;SAC7BA,KAAKA,CAACA,cAAcA,CAACA,KAAKA,CAACA,KAAKA,EAAEA,IAAIA,CAACA,CAACA;KACzCA,CAACA;KACFF,qBAACA;AAADA,EAACA,EAL4B,cAAc,EAK1C;AAED;;IAEG;AACH;KAAgCG,qCAAeA;KAA/CA;SAAgCC,8BAAeA;SAG9CA,YAAOA,GAAGA,KAAKA,CAACA;KA+BjBA,CAACA;KA7BAD,kCAAMA,GAANA,UAAOA,IAAYA,EAAEA,IAAYA,EAAEA,KAAaA,EAAEA,IAAYA;SAC7DE,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA;aAACA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;SAC3CA,IAAMA,GAAGA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA,SAASA,CAACA,CAACA;SACxCA,EAAEA,CAACA,CAACA,CAACA,GAAGA,CAACA;aAACA,MAAMA,CAACA,CAACA,iCAAiCA;SACnDA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA;SACpBA,IAAIA,CAACA,IAAIA,GAA0BA,IAAIA,CAACA,KAAKA,EAAEA,CAACA;SAChDA,IAAIA,CAACA,IAAIA,CAACA,MAAMA,GAAGA,GAAGA,CAACA;SACvBA,IAAMA,GAAGA,GAAGA,IAAIA,CAACA,IAAIA,CAACA,YAAYA,CAACA;SACnCA,IAAMA,OAAOA,GAAGA,GAAGA,CAACA,KAAKA,GAAGA,KAAKA,CAACA;SAClCA,IAAIA,CAACA,SAASA,CAACA,GAAGA,EAAEA,GAAGA,CAACA,KAAKA,GAAGA,KAAKA,EAAEA,IAAIA,CAACA,CAACA;SAC7CA,IAAIA,CAACA,IAAIA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA;SACtBA,IAAIA,CAACA,QAAQA,GAAGA,IAAIA,CAACA;KACtBA,CAACA;KAEDF,mCAAOA,GAAPA,UAAQA,IAAYA,EAAEA,IAAYA,EAAEA,IAAYA;SAC/CG,EAAEA,CAACA,CAACA,IAAIA,IAAIA,IAAIA,CAACA,QAAQA,CAACA;aAACA,MAAMA,CAACA;SAClCA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA;aAACA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;KACtDA,CAACA;KAEDH,mCAAOA,GAAPA,UAAQA,IAAYA,EAAEA,IAAYA;SACjCI,sBAAsBA;SACtBA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA;aAACA,MAAMA,CAACA;SAC1BA,IAAIA,CAACA,OAAOA,GAAGA,KAAKA,CAACA;SACrBA,IAAIA,CAACA,IAAIA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;SACrBA,kEAAkEA;SAClEA,8BAA8BA;SAC9BA,oBAAoBA;KACrBA,CAACA;KAEFJ,wBAACA;AAADA,EAACA,EAlC+B,eAAe,EAkC9C;AAGD;;IAEG;AACH;KAA8BK,mCAAeA;KAA7CA;SAA8BC,8BAAeA;SAE5CA,cAASA,GAAGA,IAAIA,CAACA;KA4ClBA,CAACA;KA1CAD,gCAAMA,GAANA,UAAOA,IAAYA,EAAEA,IAAYA,EAAEA,KAAaA,EAAEA,IAAYA;SAA9DE,iBAaCA;SAZAA,IAAIA,CAACA,kBAAkBA,EAAEA,CAACA;SAC1BA,IAAIA,CAACA,QAAQA,GAAGA,IAAIA,CAACA;SACrBA,IAAMA,IAAIA,GAAeA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA;SAC1CA,IAAIA,CAACA,UAAUA,CAACA,aAAGA;aAClBA,IAAMA,CAACA,GAAGA,KAAIA,CAACA,aAAaA,CAACA,GAAGA,CAACA,CAACA;aAClCA,GAAGA,CAACA,qBAAqBA,CAACA,IAAIA,CAACA,CAACA;aAChCA,IAAMA,OAAOA,GAAGA,CAACA,CAACA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA;aACrCA,GAAGA,CAACA,uBAAuBA,CAACA,OAAOA,EAAEA,IAAIA,CAACA,CAACA;aAC3CA,GAAGA,CAACA,uBAAuBA,CAACA,CAACA,EAAEA,IAAIA,GAAGA,IAAIA,CAACA,MAAMA,CAACA,CAACA;aACnDA,IAAMA,MAAMA,GAAGA,CAACA,GAAGA,IAAIA,CAACA,OAAOA,GAAGA,OAAOA,GAAGA,CAACA,CAACA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,CAACA;aAC/DA,GAAGA,CAACA,uBAAuBA,CAACA,MAAMA,EAAEA,IAAIA,GAAGA,IAAIA,CAACA,MAAMA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,CAACA;SACtEA,CAACA,CAACA,CAACA;KACJA,CAACA;KAEDF,iCAAOA,GAAPA,UAAQA,IAAYA,EAAEA,IAAYA,EAAEA,IAAYA;SAC/CG,EAAEA,CAACA,CAACA,IAAIA,IAAIA,IAAIA,CAACA,QAAQA,CAACA;aAACA,MAAMA,CAACA;SAClCA,IAAMA,IAAIA,GAAeA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA;SAC1CA,IAAIA,CAACA,UAAUA,CAACA,aAAGA;aAClBA,IAAMA,CAACA,GAAGA,GAAGA,CAACA,KAAKA,CAACA,CAACA,+BAA+BA;aACpDA,IAAMA,MAAMA,GAAGA,CAACA,CAACA,GAAGA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA;aACpCA,GAAGA,CAACA,qBAAqBA,CAACA,IAAIA,CAACA,CAACA;aAChCA,GAAGA,CAACA,uBAAuBA,CAACA,CAACA,EAAEA,IAAIA,CAACA,CAACA;aACrCA,GAAGA,CAACA,uBAAuBA,CAACA,MAAMA,EAAEA,IAAIA,GAAGA,IAAIA,CAACA,OAAOA,CAACA,CAACA;SAC1DA,CAACA,CAACA,CAACA;KACJA,CAACA;KAEDH,4CAAkBA,GAAlBA;SACCI,oDAAoDA;SACpDA,GAAGA,CAACA,CAAaA,UAAaA,EAAbA,SAAIA,CAACA,QAAQA,EAAzBA,cAAQA,EAARA,IAAyBA,CAACA;aAA1BA,IAAMA,EAAEA;aAAmBA,EAAEA,CAACA,gBAAgBA,GAAGA,IAAIA,CAACA;UAAAA;KAC5DA,CAACA;KAEDJ,oCAAUA,GAAVA,UAAWA,EAA6BA;SACvCK,GAAGA,CAACA,CAAcA,UAAuBA,EAAvBA,SAAIA,CAACA,UAAUA,CAACA,OAAOA,EAApCA,cAASA,EAATA,IAAoCA,CAACA;aAArCA,IAAMA,GAAGA;aACbA,EAAEA,CAACA,CAACA,GAAGA,YAAYA,UAAUA,CAACA;iBAC7BA,EAAEA,CAACA,GAAGA,CAACA,CAACA;UAAAA;KACXA,CAACA;KAEDL,uCAAaA,GAAbA,UAAcA,CAAaA;SAC1BM,EAAEA,CAACA,CAACA,CAACA,CAACA,QAAQA,CAACA,KAAKA,SAASA,CAACA;aAACA,CAACA,CAACA,QAAQA,CAACA,GAAGA,CAACA,CAACA,KAAKA,CAACA;SACrDA,MAAMA,CAACA,CAACA,CAACA,QAAQA,CAACA,CAACA;KACpBA,CAACA;KACFN,sBAACA;AAADA,EAACA,EA9C6B,eAAe,EA8C5C;AAED;;;IAGG;AACH;KAAqCO,0CAAeA;KAApDA;SAAqCC,8BAAeA;SAEnDA,YAAOA,GAAGA,KAAKA,CAACA;KAsBjBA,CAACA;KApBAD,uCAAMA,GAANA,UAAOA,IAAYA,EAAEA,IAAYA,EAAEA,KAAaA,EAAEA,IAAYA;SAC7DE,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA;aAACA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;SAC3CA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA;SACpBA,IAAMA,KAAKA,GAAQA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA;SACpCA,KAAKA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA;SAClBA,IAAIA,CAACA,QAAQA,GAAGA,IAAIA,CAACA;KACtBA,CAACA;KAEDF,wCAAOA,GAAPA,UAAQA,IAAYA,EAAEA,IAAYA,EAAEA,IAAYA;SAC/CG,EAAEA,CAACA,CAACA,IAAIA,IAAIA,IAAIA,CAACA,QAAQA,CAACA;aAACA,MAAMA,CAACA;SAClCA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA;aAACA,IAAIA,CAACA,OAAOA,CAACA,IAAIA,EAAEA,IAAIA,CAACA,CAACA;KACtDA,CAACA;KAEDH,wCAAOA,GAAPA,UAAQA,IAAYA,EAAEA,IAAYA;SACjCI,sBAAsBA;SACtBA,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA;aAACA,MAAMA,CAACA;SAC1BA,IAAIA,CAACA,OAAOA,GAAGA,KAAKA,CAACA;SACrBA,IAAMA,KAAKA,GAAQA,IAAIA,CAACA,KAAKA,CAACA,KAAKA,CAACA;SACpCA,KAAKA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;KAClBA,CAACA;KACFJ,6BAACA;AAADA,EAACA,EAxBoC,eAAe,EAwBnD;AAED;;;IAGG;AACU,qBAAY,GAAG;KAC3B,KAAK,EAAE,cAAc;KACrB,QAAQ,EAAE,iBAAiB;KAC3B,MAAM,EAAE,eAAe;KACvB,KAAK,EAAE,cAAc;KACrB,aAAa,EAAE,sBAAsB;EACrC,CAAC;AAGF;;;IAGG;AACH;KAGCK,uBAAYA,KAAgBA;SAF5BC,YAAOA,GAAgCA,EAAEA,CAACA;SAGzCA,IAAIA,CAACA,QAAQA,CAACA,KAAKA,EAAEA,SAASA,EAAEA,IAAIA,CAACA,OAAOA,EAAEA,UAACA,IAAIA,EAAEA,GAAGA,EAAEA,IAAIA;aAC7DA,EAAEA,CAACA,CAACA,IAAIA,CAACA,CAACA,CAACA,CAACA,MAAMA,IAAIA,IAAIA,CAACA,CAACA,CAACA,CAACA,KAAKA,CAACA;iBAACA,IAAIA,CAACA,CAACA,CAACA,GAAGA,IAAIA,CAACA,CAACA,CAACA,CAACA,KAAKA,CAACA;aAC7DA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,EAAEA,IAAIA,CAACA,CAACA;SACvBA,CAACA,CAACA,CAACA;SACHA,IAAIA,CAACA,QAAQA,CAACA,KAAKA,EAAEA,YAAYA,EAAEA,IAAIA,CAACA,UAAUA,CAACA,CAACA;KACrDA,CAACA;KAEDD,+BAAOA,GAAPA,UAAQA,EAAEA;SACTE,IAAIA,CAACA,OAAOA,CAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA;KACvBA,CAACA;KAEDF,kCAAUA,GAAVA,UAAWA,EAAEA;SACZG,2BAAkBA,CAACA,IAAIA,CAACA,OAAOA,EAAEA,EAAEA,CAACA,CAACA;KACtCA,CAACA;KAEDH,gCAAQA,GAARA,UAASA,GAAQA,EAAEA,KAAaA,EAAEA,UAAoBA,EAAEA,EAA8BA;SACrFI,IAAMA,IAAIA,GAAGA,GAAGA,CAACA,KAAKA,CAACA,CAACA;SACxBA,IAAMA,IAAIA,GAAGA,IAAIA,CAACA;SAClBA,GAAGA,CAACA,KAAKA,CAACA,GAAGA;aACZ,UAAU,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;aAClC,EAAE,CAAC,CAAC,EAAE,CAAC;iBAAC,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,SAAS,CAAC;aAChC,IAAI;iBAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;SACjC,CAAC,CAAAA;KACFA,CAACA;KACFJ,oBAACA;AAADA,EAACA,IAAA;;;;;;;ACzSD;;;;;;IAMG;AAiBH,6BAAmC,CAAQ,EAAE,CAAM;KAClDK,IAAMA,GAAGA,GAAGA,CAACA,CAACA,OAAOA,CAACA,CAACA,CAACA,CAACA;KACzBA,EAAEA,CAACA,CAACA,GAAGA,GAAGA,CAACA,CAACA;SAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,YAAYA;KACvCA,CAACA,CAACA,MAAMA,CAACA,GAAGA,EAAEA,CAACA,CAACA,CAACA;KACjBA,MAAMA,CAACA,IAAIA,CAACA;AACbA,EAACA;AALe,2BAAkB,qBAKjC;AAED,KAAM,QAAQ,GAAG,CAAC,CAAC;AAEnB,oBAAmB,IAAY,EAAE,CAAS;KACzCC,MAAMA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA,CAACA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,IAAIA,CAACA,CAACA;AACrCA,EAACA;AAED,qBAA2B,KAAa,EAAE,GAAW,EAAE,GAAW;KACjEC,IAAMA,QAAQA,GAAGA,SAASA,CAACA,QAAQA,EAAEA,GAAGA,GAAGA,CAACA,GAAGA,GAAGA,CAACA,CAACA;KACpDA,MAAMA,CAACA,SAASA,CAACA,QAAQA,EAAEA,KAAKA,GAAGA,CAACA,GAAGA,GAAGA,CAACA,GAAGA,QAAQA,CAACA;AACxDA,EAACA;AAHe,mBAAU,aAGzB;AAED,qBAA2B,KAAa,EAAE,GAAW,EAAE,GAAW;KACjEC,IAAMA,QAAQA,GAAGA,SAASA,CAACA,QAAQA,EAAEA,GAAGA,GAAGA,CAACA,GAAGA,GAAGA,CAACA,CAACA;KACpDA,MAAMA,CAACA,GAAGA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,KAAKA,GAAGA,QAAQA,CAACA,GAAGA,CAACA,CAACA;AACvDA,EAACA;AAHe,mBAAU,aAGzB;;;;;;;ACnBD,oEAAmE;AAEnE,KAAM,aAAa,GAAiB;KACnC,OAAO,EAAE,CAAC;KACV,GAAG,EAAE,CAAC,IAAI;KACV,GAAG,EAAE,IAAI;KACT,MAAM,EAAE,IAAI;EACZ,CAAC;AAEF;;;IAGG;AACQ,gBAAO,GAAgB;KACjC,UAAU;KACV,UAAU,EAAE;SACX,WAAW,EAAE,kBAAkB;SAC/B,WAAW,EAAE,KAAK;SAClB,MAAM,EAAE;aACP,SAAS,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE;aAChD,MAAM,EAAE,aAAa;aACrB,IAAI,EAAE;iBACL,OAAO,EAAE,UAAU;iBACnB,OAAO,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,UAAU,CAAC;cACnD;UACD;MACD;KACD,MAAM,EAAE;SACP,WAAW,EAAE,oBAAoB;SACjC,WAAW,EAAE,QAAQ;SACrB,MAAM,EAAE;aACP,YAAY,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;aAC5C,MAAM,EAAE,aAAa;aACrB,MAAM,EAAE;iBACP,OAAO,EAAE,IAAI;iBACb,OAAO,EAAE,WAAW;cACpB;aACD,IAAI,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE;aACxB,SAAS,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE;aAC1C,OAAO,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE;UACxC;MACD;KACD,KAAK,EAAE;SACN,WAAW,EAAE,aAAa;SAC1B,WAAW,EAAE,aAAa;SAC1B,MAAM,EAAE,IAAI;SACZ,MAAM,EAAE;aACP,IAAI,EAAG,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE;UACtC;MACD;KACD,MAAM,EAAE;SACP,WAAW,EAAE,cAAc;SAC3B,MAAM,EAAE,IAAI;SACZ,MAAM,EAAE,EAAE;MACV;KACD,UAAU;KACV,IAAI,EAAE;SACL,WAAW,EAAE,YAAY;SACzB,MAAM,EAAE;aACP,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;UACnD;MACD;KACD,MAAM,EAAE;SACP,WAAW,EAAE,oBAAoB;SACjC,MAAM,EAAE;aACP,SAAS,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,EAAE,GAAG,EAAE,KAAK,EAAE;aAChD,CAAC,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE;aACnC,MAAM,EAAE,aAAa;aACrB,IAAI,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;aACrD,IAAI,EAAE;iBACL,OAAO,EAAE,SAAS;iBAClB,OAAO,EAAE,CAAC,SAAS,EAAE,UAAU,EAAE,UAAU;qBAC1C,UAAU,EAAE,WAAW,EAAE,SAAS,EAAE,OAAO,EAAE,SAAS,CAAC;cACxD;UACD;MACD;KACD,KAAK,EAAE;SACN,WAAW,EAAE,aAAa;SAC1B,MAAM,EAAE;aACP,SAAS,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;UACzC;MACD;KACD,SAAS,EAAE;SACV,WAAW,EAAE,oBAAoB;SACjC,MAAM,EAAE;aACP,GAAG,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE;UAClD;MACD;KACD,UAAU,EAAE;SACX,WAAW,EAAE,0BAA0B;SACvC,MAAM,EAAE;aACP,SAAS,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE;aAC5D,IAAI,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;aACpD,KAAK,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE;aACrD,SAAS,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE;aACzD,MAAM,EAAE,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;aAC1C,OAAO,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;UAC1C;MACD;KACD,OAAO,EAAE;SACR,WAAW,EAAE,eAAe;SAC5B,MAAM,EAAE,IAAI;SACZ,MAAM,EAAE;aACP,MAAM,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE;UACrD;MACD;KACD,cAAc;KACd,GAAG,EAAE;SACJ,WAAW,EAAE,kBAAkB;SAC/B,WAAW,EAAE,KAAK;SAClB,OAAO,EAAE,IAAI;SACb,MAAM,EAAE;aACP,SAAS,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE;aAC9C,MAAM,EAAE,aAAa;aACrB,IAAI,EAAE;iBACL,OAAO,EAAE,MAAM;iBACf,OAAO,EAAE,CAAC,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,UAAU,CAAC;cACnD;UACD;MACD;KACD,QAAQ,EAAE;SACT,WAAW,EAAE,YAAY;SACzB,OAAO,EAAE,IAAI;SACb,MAAM,EAAE;aACP,IAAI,EAAE,EAAE,OAAO,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE;UACrD;MACD;KACD,IAAI,EAAE;SACL,WAAW,EAAE,YAAY;SACzB,WAAW,EAAE,MAAM;SACnB,OAAO,EAAE,IAAI;SACb,MAAM,EAAE,IAAI;SACZ,MAAM,EAAE;aACP,MAAM,EAAG,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE;aAC1C,KAAK,EAAI,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE;aAC1C,OAAO,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE;aACvD,OAAO,EAAE,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,EAAE,EAAE;aAC1C,KAAK,EAAI,EAAE,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE;UACzC;MACD;KACD,SAAS,EAAE;SACV,WAAW,EAAE,iBAAiB;SAC9B,OAAO,EAAE,IAAI;SACb,MAAM,EAAE,IAAI;SACZ,MAAM,EAAE;aACP,SAAS,EAAE,EAAE,OAAO,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE;aAC3C,KAAK,EAAG,EAAE,OAAO,EAAE,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE;UACzC;MACD;KACD,SAAS;KACT,OAAO,EAAE;SACR,WAAW,EAAE,IAAI;SACjB,MAAM,EAAE,EAAE;MACV;EACD,CAAC;;;;;;;;;;;;ACjLF;;IAEG;AACH;KAAAC;SACCC,WAAMA,GAAGA,IAAIA,CAACA;SACdA,iBAAYA,GAAGA,CAACA,CAACA;SACjBA,qBAAgBA,GAAGA,KAAKA,CAACA;SACzBA,0BAAqBA,GAAGA,UAAUA,CAACA;SAEnCA,mBAAcA,GAAGA,CAACA,CAACA;SACnBA,oBAAeA,GAAGA,CAACA,CAACA;KAOrBA,CAACA;KANAD,gCAAOA,GAAPA,UAAQA,KAA6BA,IAAGE,CAACA;KACzCF,mCAAUA,GAAVA,cAAcG,CAACA;KACfH,qCAAqCA;KACrCA,yCAAgBA,GAAhBA,cAAmBI,CAACA;KACpBJ,sCAAaA,GAAbA,UAAcA,GAAUA,IAAaK,MAAMA,CAACA,KAAKA,CAACA,CAACA,CAACA;KACpDL,4CAAmBA,GAAnBA,cAAsBM,CAACA;KACxBN,qBAACA;AAADA,EAACA,IAAA;AAGD;;;;IAIG;AACH;KAA0BO,wBAAcA;KAAxCA;SAA0BC,8BAAcA;SACvCA,WAAMA,GAAWA,GAAGA,CAACA;SACrBA,UAAKA,GAAWA,GAAGA,CAACA;SACpBA,YAAOA,GAAWA,GAAGA,CAACA;SACtBA,YAAOA,GAAWA,CAACA,CAACA;SACpBA,UAAKA,GAAWA,CAACA,CAACA;KAEnBA,CAACA;KAADD,WAACA;AAADA,EAACA,EAPyB,cAAc,EAOvC;AAPY,aAAI,OAOhB;AAGD;;IAEG;AACH;KAA8BE,mCAAcA;KAK3CA,yBAAYA,EAAgBA;SAL7BC,iBA4BCA;SAtBCA,iBAAOA,CAACA;SALTA,SAAIA,GAAWA,CAACA,CAACA;SAEjBA,YAAOA,GAAYA,KAAKA,CAACA;SAIxBA,IAAIA,CAACA,KAAKA,GAAGA,EAAEA,CAACA,qBAAqBA,CAACA,IAAIA,CAACA,CAACA;SAC5CA,IAAIA,CAACA,KAAKA,CAACA,cAAcA,GAAGA,aAAGA,IAAIA,YAAIA,CAACA,YAAYA,CAACA,GAAGA,CAACA,EAAtBA,CAAsBA,CAACA;KAC3DA,CAACA;KAEDD,iCAAOA,GAAPA,UAAQA,IAAeA;SACtBE,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,IAAIA,CAACA,CAACA;KAC1BA,CAACA;KAEDF,oCAAUA,GAAVA;SACCG,IAAIA,CAACA,KAAKA,CAACA,UAAUA,EAAEA,CAACA;KACzBA,CAACA;KAEDH,+BAAKA,GAALA;SACCI,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA;KACrBA,CAACA;KAEDJ,8BAAIA,GAAJA;SACCK,IAAIA,CAACA,OAAOA,GAAGA,KAAKA,CAACA;KACtBA,CAACA;KAEDL,sCAAYA,GAAZA,UAAaA,GAAyBA,IAAGM,CAACA;KAC3CN,sBAACA;AAADA,EAACA,EA5B6B,cAAc,EA4B3C;AAGD;;IAEG;AACH;KAAoCO,kCAAeA;KAAnDA;SAAoCC,8BAAeA;KAQnDA,CAACA;KAPAD,qCAAYA,GAAZA,UAAaA,GAAyBA;SACrCE,GAAGA,CAACA,CAACA,GAAGA,CAACA,OAAOA,GAAGA,CAACA,EAAEA,OAAOA,GAAGA,GAAGA,CAACA,YAAYA,CAACA,gBAAgBA,EAAEA,OAAOA,EAAEA,EAAEA,CAACA;aAC9EA,IAAIA,GAAGA,GAAGA,GAAGA,CAACA,YAAYA,CAACA,cAAcA,CAACA,OAAOA,CAACA,CAACA;aACnDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,MAAMA,GAAGA,CAACA,EAAEA,MAAMA,GAAGA,GAAGA,CAACA,MAAMA,EAAEA,MAAMA,EAAEA;iBACjDA,GAAGA,CAACA,MAAMA,CAACA,GAAGA,IAAIA,CAACA,OAAOA,GAAGA,IAAIA,CAACA,IAAIA,GAAGA,CAACA,IAAIA,CAACA,MAAMA,EAAEA,GAAGA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA;SACvEA,CAACA;KACFA,CAACA;KACFF,qBAACA;AAADA,EAACA,EARmC,eAAe,EAQlD;AARY,uBAAc,iBAQ1B;AAGD;;;IAGG;AACH;KAAwCG,sCAAeA;KAOtDA,4BAAYA,EAAsBA;SACjCC,kBAAMA,EAAEA,CAACA,CAACA;SACVA,IAAIA,CAACA,EAAEA,GAAGA,EAAEA,CAACA;SACbA,IAAIA,CAACA,SAASA,GAAGA,CAACA,CAACA;SACnBA,IAAIA,CAACA,KAAKA,GAAGA,EAAEA,CAACA;SAChBA,IAAIA,CAACA,GAAGA,GAAGA,CAACA,CAACA;SACbA,IAAIA,CAACA,CAACA,GAAGA,CAACA,CAACA;KACZA,CAACA;KAEDD,oCAAOA,GAAPA,UAAQA,KAAUA;SACjBE,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA;KAC3BA,CAACA;KAEDF,yCAAYA,GAAZA,UAAaA,GAAyBA;SACrCG,IAAMA,eAAeA,GAAGA,IAAIA,CAACA,EAAEA,CAACA,UAAUA,GAAGA,IAAIA,CAACA,SAASA,CAACA;SAC5DA,GAAGA,CAACA,CAACA,GAAGA,CAACA,OAAOA,GAAGA,CAACA,EAAEA,OAAOA,GAAGA,GAAGA,CAACA,YAAYA,CAACA,gBAAgBA,EAAEA,OAAOA,EAAEA,EAAEA,CAACA;aAC9EA,IAAIA,GAAGA,GAAGA,GAAGA,CAACA,YAAYA,CAACA,cAAcA,CAACA,OAAOA,CAACA,CAACA;aACnDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,MAAMA,GAAGA,CAACA,EAAEA,MAAMA,GAAGA,GAAGA,CAACA,MAAMA,EAAEA,MAAMA,EAAEA,EAAEA,CAACA;iBACpDA,IAAIA,CAACA,GAAGA,EAAEA,CAACA;iBACXA,EAAEA,CAACA,CAACA,IAAIA,CAACA,GAAGA,GAAGA,eAAeA,CAACA,CAACA,CAACA;qBAChCA,IAAIA,CAACA,CAACA,GAAGA,IAAIA,CAACA,KAAKA,GAAGA,CAACA,IAAIA,CAACA,MAAMA,EAAEA,GAAGA,CAACA,GAAGA,CAACA,CAACA,CAACA;qBAC9CA,IAAIA,CAACA,GAAGA,GAAGA,CAACA,CAACA,CAACA,kCAAkCA;iBACjDA,CAACA;iBACDA,GAAGA,CAACA,MAAMA,CAACA,GAAGA,IAAIA,CAACA,CAACA,CAACA;aACtBA,CAACA;SACFA,CAACA;KACFA,CAACA;KACFH,yBAACA;AAADA,EAACA,EAlCuC,eAAe,EAkCtD;AAlCY,2BAAkB,qBAkC9B;AAGD;;IAEG;AACH;KAA6BI,2BAAeA;KAA5CA;SAA6BC,8BAAeA;SAC3CA,WAAMA,GAAWA,CAACA,CAACA;SACnBA,mBAAcA,GAAGA,CAACA,CAACA;KAepBA,CAACA;KAbAD,8BAAYA,GAAZA,UAAaA,GAAyBA;SACrCE,IAAMA,EAAEA,GAAGA,IAAIA,CAACA,GAAGA,CAACA,CAACA,EAAEA,IAAIA,CAACA,MAAMA,CAACA,CAACA;SACpCA,GAAGA,CAACA,CAACA,GAAGA,CAACA,OAAOA,GAAGA,CAACA,EAAEA,OAAOA,GAAGA,GAAGA,CAACA,YAAYA,CAACA,gBAAgBA,EAAEA,OAAOA,EAAEA,EAAEA,CAACA;aAC9EA,IAAIA,GAAGA,GAAGA,GAAGA,CAACA,YAAYA,CAACA,cAAcA,CAACA,OAAOA,CAACA,CAACA;aACnDA,IAAIA,KAAKA,GAAGA,GAAGA,CAACA,WAAWA,CAACA,cAAcA,CAACA,OAAOA,CAACA,CAACA;aACpDA,IAAIA,GAAGA,GAAGA,CAACA,CAACA;aACZA,GAAGA,CAACA,CAACA,GAAGA,CAACA,MAAMA,GAAGA,CAACA,EAAEA,MAAMA,GAAGA,GAAGA,CAACA,MAAMA,EAAEA,MAAMA,EAAEA,EAAEA,CAACA;iBACpDA,GAAGA,CAACA,MAAMA,CAACA,GAAGA,KAAKA,CAACA,IAAIA,CAACA,KAAKA,CAACA,GAAGA,CAACA,CAACA,CAACA;iBACrCA,GAAGA,IAAIA,EAAEA,CAACA;iBACVA,EAAEA,CAACA,CAACA,GAAGA,IAAIA,KAAKA,CAACA,MAAMA,CAACA;qBAACA,GAAGA,GAAGA,CAACA,CAACA;aAClCA,CAACA;SACFA,CAACA;KACFA,CAACA;KACFF,cAACA;AAADA,EAACA,EAjB4B,eAAe,EAiB3C;AAjBY,gBAAO,UAiBnB;AAGD;;;IAGG;AACH;KAAgCG,8BAAcA;KAA9CA;SAAgCC,8BAAcA;KA8B9CA,CAACA;KAzBAD,4BAAOA,GAAPA,UAAQA,KAAgBA;SAAxBE,iBAoBCA;SAnBAA,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA;aAClBA,IAAIA,CAACA,OAAOA,CAACA,OAAOA,CAACA,KAAKA,CAACA,CAACA;aAC5BA,IAAIA,CAACA,OAAOA,GAAGA,KAAKA,CAACA;aACrBA,MAAMA,CAACA;SACRA,CAACA;SACDA,IAAMA,SAASA,GAAQA,MAAMA,CAACA,SAASA,CAACA;SACxCA,SAASA,CAACA,YAAYA,GAAGA,CAACA,SAASA,CAACA,YAAYA;aAC/CA,SAASA,CAACA,kBAAkBA;aAC5BA,SAASA,CAACA,eAAeA;aACzBA,SAASA,CAACA,cAAcA,CAACA,CAACA;SAC3BA,SAASA,CAACA,YAAYA,CAACA,EAAEA,KAAKA,EAAEA,IAAIA,EAAEA,EAAEA,gBAAMA;aAC7CA,IAAMA,EAAEA,GAAQA,KAAKA,CAACA,OAAOA,CAACA;aAC9BA,KAAIA,CAACA,OAAOA,GAAGA,EAAEA,CAACA,uBAAuBA,CAACA,MAAMA,CAACA,CAACA;aAClDA,IAAIA,EAAEA,GAAQA,KAAKA,CAACA;aACpBA,EAAEA,CAACA,CAACA,EAAEA,CAACA,MAAMA,IAAIA,EAAEA,CAACA,KAAKA,CAACA;iBAACA,EAAEA,GAAGA,EAAEA,CAACA,KAAKA,CAACA;aACzCA,KAAIA,CAACA,OAAOA,CAACA,OAAOA,CAACA,EAAEA,CAACA,CAACA;aACzBA,KAAIA,CAACA,OAAOA,GAAGA,KAAKA,CAACA;aACrBA,KAAIA,CAACA,MAAMA,GAAGA,MAAMA,CAACA;SACtBA,CAACA,EAAEA,eAAKA,IAAIA,cAAOA,CAACA,KAAKA,CAACA,KAAKA,CAACA,EAApBA,CAAoBA,CAACA,CAACA;KACnCA,CAACA;KAEDF,+BAAUA,GAAVA;SACCG,IAAIA,CAACA,OAAOA,CAACA,UAAUA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA;KACvCA,CAACA;KACFH,iBAACA;AAADA,EAACA,EA9B+B,cAAc,EA8B7C;AA9BY,mBAAU,aA8BtB;;;;;;;ACvLD,8CAA6C;AAClC,eAAM,GAAY,KAAK,CAAC;AAEnC,6DAA4D;AAC5D,gBAAsB,GAAW,EAAE,KAAc,EAAE,SAAmB,EAAE,OAAa;KACpFI,KAAKA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;KACvCA,KAAKA,CAACA,IAAIA,CAACA,cAAcA,CAACA,CAACA,IAAIA,CAACA,KAAKA,IAAIA,OAAOA,CAACA,CAACA;KAClDA,KAAKA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA,IAAIA,EAAEA,CAACA;KAC/BA,EAAEA,CAACA,CAACA,SAASA,CAACA;SACbA,KAAKA,CAACA,IAAIA,CAACA,cAAcA,CAACA,CAACA,IAAIA,EAAEA,CAACA;KACnCA,IAAIA;SACHA,KAAKA,CAACA,IAAIA,CAACA,cAAcA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA;KAC1CA,KAAKA,CAACA,IAAIA,CAACA,uBAAuBA,CAACA,CAACA,IAAIA,EAAEA,CAACA;KAC3CA,cAAMA,GAAGA,IAAIA,CAACA;KACdA,KAAKA,CAACA,GAAGA,CAACA,iBAAiBA,EAAEA,WAACA,IAAIA,qBAAMA,GAAGA,KAAKA,EAAdA,CAAcA,CAACA,CAACA;KAClDA,KAAKA,CAACA,KAAKA,CAACA,OAAOA,CAACA,CAACA;AACtBA,EAACA;AAZe,cAAK,QAYpB;AAED,iDAAgD;AAChD,mBAAyB,GAAW,EAAE,KAAc;KACnDC,KAAKA,CAACA,GAAGA,EAAEA,KAAKA,EAAEA,IAAIA,EAAEA,EAAEA,QAAQA,EAAEA,KAAKA,EAAEA,CAACA,CAACA;AAC9CA,EAACA;AAFe,iBAAQ,WAEvB;AAED,yCAAwC;AACxC;KACCC,EAAEA,CAACA,CAACA,CAACA,cAAMA,CAACA;SAACA,MAAMA,CAACA;KACpBA,KAAKA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA,KAAKA,EAAEA,CAACA;AACjCA,EAACA;AAHe,cAAK,QAGpB;AAED,+DAA8D;AAC9D,kBAAwB,GAAW,EAAE,KAAa,EACjD,OAA0B,EAAE,MAAmB;KAC/CC,IAAIA,MAAMA,GAAGA,KAAKA,CAACA;KACnBA,KAAKA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;KACvCA,KAAKA,CAACA,IAAIA,CAACA,cAAcA,CAACA,CAACA,IAAIA,CAACA,KAAKA,IAAIA,gBAAgBA,CAACA,CAACA;KAC3DA,IAAMA,QAAQA,GAAGA,KAAKA,CAACA,IAAIA,CAACA,WAAWA,CAACA,CAACA;KACzCA,QAAQA,CAACA,IAAIA,EAAEA,CAACA,KAAKA,CAACA,WAACA,IAAIA,aAAMA,GAAGA,IAAIA,EAAbA,CAAaA,CAACA,CAACA;KAC1CA,KAAKA,CAACA,IAAIA,CAACA,uBAAuBA,CAACA,CAACA,IAAIA,EAAEA,CAACA;KAC3CA,KAAKA,CAACA,IAAIA,CAACA,cAAcA,CAACA,CAACA,IAAIA,CAACA,QAAQA,CAACA,CAACA;KAC1CA,KAAKA,CAACA,GAAGA,CAACA,gBAAgBA,EAAEA,WAACA;SAC5BA,QAAQA,CAACA,KAAKA,EAAEA,CAACA;SACjBA,EAAEA,CAACA,CAACA,MAAMA,CAACA;aAACA,MAAMA,EAAEA,CAACA;KACtBA,CAACA,CAACA,CAACA;KACHA,KAAKA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA,GAAGA,CAACA,QAAQA,EAAEA,WAACA;SACjCA,MAAMA,GAAGA,IAAIA,CAACA;SACdA,QAAQA,CAACA,KAAKA,EAAEA,CAACA;SACjBA,MAAMA,CAACA,KAAKA,CAACA;KACdA,CAACA,CAACA,CAACA;KACHA,KAAKA,CAACA,GAAGA,CAACA,eAAeA,EAAEA,WAACA;SAC3BA,QAAQA,CAACA,GAAGA,CAACA,OAAOA,CAACA,CAACA;SACtBA,cAAMA,GAAGA,KAAKA,CAACA;SACfA,OAAOA,CAACA,MAAMA,CAACA,CAACA;KACjBA,CAACA,CAACA,CAACA;KACHA,cAAMA,GAAGA,IAAIA,CAACA;KACdA,KAAKA,CAACA,KAAKA,EAAEA,CAACA;AACfA,EAACA;AAzBe,gBAAO,UAyBtB;AAED,8DAA6D;AAC7D,iBAAuB,GAAW,EAAE,KAAa,EAChD,YAAoB,EAAE,EAAoB;KAC1CC,IAAMA,KAAKA,GAAGA,KAAKA,CAACA,IAAIA,CAACA,uBAAuBA,CAACA,CAACA;KAClDA,OAAOA,CAACA,GAAGA,EAAEA,KAAKA,EAAEA,mBAASA;SAC5BA,EAAEA,CAACA,CAACA,CAACA,EAAEA,CAACA;aAACA,MAAMA,CAACA;SAChBA,EAAEA,CAACA,CAACA,CAACA,SAASA,CAACA;aAACA,EAAEA,CAACA,IAAIA,CAACA,CAACA;SACzBA,IAAIA;aAACA,EAAEA,CAACA,KAAKA,CAACA,GAAGA,EAAEA,CAACA,CAACA;KACtBA,CAACA,EAAEA;SACFA,KAAKA,CAACA,IAAIA,EAAEA,CAACA;SACbA,KAAKA,CAACA,KAAKA,EAAEA,CAACA;SACdA,EAAEA,CAACA,CAACA,YAAYA,CAACA,CAACA,CAACA;aAClBA,KAAKA,CAACA,GAAGA,CAACA,YAAYA,CAACA,CAACA;aACxBA,IAAMA,MAAMA,GAAuCA,KAAKA,CAACA,CAACA,CAACA,CAACA;aAC5DA,MAAMA,CAACA,MAAMA,EAAEA,CAACA;SACjBA,CAACA;SACDA,IAAIA;aAACA,KAAKA,CAACA,GAAGA,CAACA,EAAEA,CAACA,CAACA;KACpBA,CAACA,CAACA,CAACA;AACJA,EAACA;AAjBe,eAAM,SAiBrB;AAGD,KAAM,KAAK,GAAG,CAAC,CAAC,m6BAqBf,CAAC,CAAC;AAEH,EAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;;;;;;;AClGxB,oCAAuC,CAAiB,CAAC;AAEzD;;IAEG;AACH,uBAA6B,KAAe,EAAE,KAAa;KAC1DC,KAAKA,CAACA,KAAKA,EAAEA,CAACA;KACdA,IAAMA,KAAKA,GAAaA,EAAEA,CAACA;KAC3BA,EAAEA,CAACA,CAACA,KAAKA,CAACA,OAAOA,CAACA,OAAOA,IAAIA,KAAKA,CAACA,aAAaA,CAACA;SAChDA,KAAKA,CAACA,IAAIA,CAACA,kBAAkBA,CAACA,KAAKA,EAAEA,KAAKA,CAACA,CAACA,CAACA;KAC9CA,IAAMA,MAAMA,GAAGA,MAAMA,CAACA,IAAIA,CAACA,KAAKA,CAACA,OAAOA,CAACA,MAAMA,IAAIA,EAAEA,CAACA,CAACA;KACvDA,EAAEA,CAACA,CAACA,MAAMA,CAACA,MAAMA,IAAIA,CAACA,CAACA;SAACA,MAAMA,CAACA;KAC/BA,GAAGA,CAACA,CAAgBA,UAAMA,EAArBA,kBAAWA,EAAXA,IAAqBA,CAACA;SAAtBA,IAAMA,KAAKA,GAAIA,MAAMA,IAAVA;SACfA,EAAEA,CAACA,CAACA,KAAKA,CAACA,KAAKA,CAACA,KAAKA,CAACA,YAAYA,UAAUA,CAACA;aAC5CA,KAAKA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA,KAAKA,CAACA,KAAKA,EAAEA,KAAKA,CAACA,OAAOA,EAAEA,KAAKA,EAAEA,KAAKA,CAACA,CAACA,CAACA;SACxEA,IAAIA;aACHA,KAAKA,CAACA,IAAIA,CAACA,gBAAgBA,CAACA,KAAKA,CAACA,KAAKA,EAAEA,KAAKA,CAACA,OAAOA,EAAEA,KAAKA,EAAEA,KAAKA,CAACA,CAACA,CAACA;MAAAA;KACzEA,aAAaA,CAACA,KAAKA,EAAEA,KAAKA,CAACA,CAACA;AAC7BA,EAACA;AAbe,qBAAY,eAa3B;AAGD,wBAAuB,KAAa,EAAE,KAAe;KACpDC,IAAMA,EAAEA,GAAGA,KAAKA,CAACA,KAAKA,EAAEA,CAACA;KACzBA,IAAMA,EAAEA,GAAGA,KAAKA,CAACA,CAACA,CAACA,CAACA,KAAKA,EAAEA,CAACA;KAC5BA,IAAMA,GAAGA,GAAGA,CAACA,EAAEA,GAAGA,KAAKA,CAACA,MAAMA,GAAGA,EAAEA,CAACA,GAAGA,CAACA,KAAKA,CAACA,MAAMA,GAAGA,CAACA,CAACA,CAACA;KAC1DA,IAAIA,CAACA,GAAGA,GAAGA,CAACA;KACZA,GAAGA,CAACA,CAAcA,UAAKA,EAAlBA,iBAASA,EAATA,IAAkBA,CAACA;SAAnBA,IAAMA,GAAGA,GAAIA,KAAKA,IAATA;SACbA,GAAGA,CAACA,GAAGA,CAACA;aACPA,QAAQA,EAAEA,UAAUA;aACpBA,IAAIA,EAAEA,CAACA;UACPA,CAACA,CAACA;SACHA,CAACA,IAAIA,GAAGA,CAACA;MACTA;AACFA,EAACA;AAED,2BAA0B,KAAgB,EAAE,IAAa,EAAE,KAAa,EAAE,KAAa;KACtFC,IAAMA,IAAIA,GAAiBA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA;KAC9CA,IAAMA,MAAMA,GAAeA,KAAKA,CAACA,KAAKA,CAACA,CAACA;KACxCA,EAAEA,CAACA,CAACA,MAAMA,CAACA,QAAQA,CAACA,CAACA;SAACA,MAAMA,CAACA,KAAKA,GAAGA,MAAMA,CAACA,QAAQA,CAACA,CAACA;KACtDA,MAAMA,CAACA,YAAYA,CAACA,KAAKA,EAAEA,IAAIA,EAAEA,KAAKA,EAAEA,MAAMA,CAACA,KAAKA,EAAEA,eAAKA;SAC1DA,MAAMA,CAACA,KAAKA,GAAGA,KAAKA,CAACA;SACrBA,MAAMA,CAACA,QAAQA,CAACA,GAAGA,KAAKA,CAACA;KAC1BA,CAACA,CAACA,CAACA;AACJA,EAACA;AAED,6BAA4B,KAAe,EAAE,KAAa;KACzDC,EAAEA,CAACA,CAACA,CAACA,KAAKA,CAACA,aAAaA,CAACA;SAACA,MAAMA,CAACA;KACjCA,IAAMA,KAAKA,GAAGA,WAAWA,CAACA,KAAKA,EAAEA,KAAKA,CAACA,aAAaA,EAAEA,KAAKA,CAACA,YAAYA,EAAEA,aAAaA,CAACA,CAACA;KACzFA,KAAKA,CAACA,MAAMA,CAACA,WAACA;SACbA,EAAEA,CAACA,CAACA,KAAKA,CAACA,YAAYA,CAACA;aACtBA,KAAKA,CAACA,KAAKA,CAACA,UAAUA,CAACA,KAAKA,CAACA,aAAaA,CAACA,KAAKA,CAACA,YAAYA,CAACA,CAACA,CAACA;SACjEA,KAAKA,CAACA,YAAYA,GAAGA,KAAKA,CAACA,GAAGA,EAAEA,CAACA;SACjCA,KAAKA,CAACA,KAAKA,CAACA,OAAOA,CAACA,KAAKA,CAACA,aAAaA,CAACA,KAAKA,CAACA,YAAYA,CAACA,CAACA,CAACA;KAC9DA,CAACA,CAACA,CAACA;KACHA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,CAACA;AACvBA,EAACA;AAED,2BAA0B,KAAgB,EAAE,IAAa,EAAE,KAAa,EAAE,KAAa;KACtFC,IAAMA,IAAIA,GAAiBA,IAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA;KAC9CA,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,CAACA,CAACA;SAClBA,IAAMA,KAAKA,GAAGA,WAAWA,CAACA,KAAKA,EAAEA,IAAIA,CAACA,OAAOA,EAAEA,KAAKA,CAACA,KAAKA,CAACA,EAAEA,OAAOA,CAACA,KAAKA,CAACA,CAACA,CAACA;SAC7EA,KAAKA,CAACA,MAAMA,CAACA,WAACA;aACbA,KAAKA,CAACA,KAAKA,CAACA,GAAGA,KAAKA,CAACA,GAAGA,EAAEA,CAACA;SAC5BA,CAACA,CAACA,CAACA;SACHA,MAAMA,CAACA,KAAKA,CAACA,MAAMA,EAAEA,CAACA;KACvBA,CAACA;KACDA,IAAIA,CAACA,EAAEA,CAACA,CAACA,IAAIA,CAACA,GAAGA,IAAIA,SAASA,CAACA;SAC9BA,MAAMA,CAACA,YAAYA,CAACA,KAAKA,EAAEA,IAAIA,EAAEA,KAAKA,EAAEA,KAAKA,CAACA,KAAKA,CAACA,EAAEA,eAAKA,IAAIA,YAAKA,CAACA,KAAKA,CAACA,GAAGA,KAAKA,EAApBA,CAAoBA,CAACA,CAACA;KACtFA,IAAIA,CAACA,EAAEA,CAACA,CAACA,OAAOA,IAAIA,CAACA,OAAOA,IAAIA,SAASA,CAACA;SACzCA,MAAMA,CAACA,aAAaA,CAACA,KAAKA,EAAEA,IAAIA,EAAEA,KAAKA,EAAEA,KAAKA,EAAEA,OAAOA,CAACA,KAAKA,CAACA,CAACA,CAACA;KACjEA,IAAIA,CAACA,EAAEA,CAACA,CAACA,IAAIA,CAACA,QAAQA,CAACA;SACtBA,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA,WAAWA,CAACA,KAAKA,EAAEA,IAAIA,EAAEA,KAAKA,EAAEA,KAAKA,EAAEA,OAAOA,CAACA,KAAKA,CAACA,CAACA,CAACA;AAC9EA,EAACA;AAGD,uBAAsB,KAAa,EAAE,IAAkB,EACtD,KAAa,EAAE,KAAa,EAAE,QAAiC;KAC/DC,IAAMA,SAASA,GAAGA,CAACA,CAACA,0BAA0BA,CAACA,CAACA;KAChDA,IAAMA,MAAMA,GAAGA,CAACA,CAACA,wCAAwCA,CAACA;UACxDA,IAAIA,CAACA,KAAKA,EAAEA,CAACA,CAACA;UACdA,IAAIA,CAACA,KAAKA,EAAEA,CAACA,CAACA;UACdA,IAAIA,CAACA,MAAMA,EAAEA,KAAKA,CAACA;UACnBA,IAAIA,CAACA,OAAOA,EAAEA,YAAYA,CAACA,KAAKA,EAAEA,IAAIA,CAACA,CAACA;KAC1CA,IAAMA,QAAQA,GAAGA,CAACA,CAACA,uBAAuBA,CAACA;UACzCA,IAAIA,CAACA,KAAKA,EAAEA,IAAIA,CAACA,GAAGA,CAACA;UACrBA,IAAIA,CAACA,KAAKA,EAAEA,IAAIA,CAACA,GAAGA,CAACA;UACrBA,IAAIA,CAACA,OAAOA,EAAEA,aAAaA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA,CAACA;KACzCA,SAASA,CAACA,MAAMA,CAACA,QAAQA,CAACA,CAACA;KAC3BA,SAASA,CAACA,MAAMA,CAACA,MAAMA,CAACA,CAACA;KACzBA,SAASA,CAACA,MAAMA,CAACA,CAACA,CAACA,aAAaA,GAAGA,OAAOA,CAACA,KAAKA,CAACA,GAAGA,SAASA,CAACA,CAACA,CAACA;KAChEA,KAAKA,CAACA,MAAMA,CAACA,SAASA,CAACA,CAACA;KACxBA,MAAMA,CAACA,EAAEA,CAACA,OAAOA,EAAEA,WAACA;SACnBA,IAAMA,KAAKA,GAAGA,YAAYA,CAACA,UAAUA,CAACA,MAAMA,CAACA,GAAGA,EAAEA,CAACA,EAAEA,IAAIA,CAACA,CAACA;SAC3DA,QAAQA,CAACA,GAAGA,CAACA,aAAaA,CAACA,KAAKA,EAAEA,CAACA,CAACA,CAACA,CAACA;SACtCA,QAAQA,CAACA,KAAKA,CAACA,CAACA;KACjBA,CAACA,CAACA,CAACA;KACHA,QAAQA,CAACA,EAAEA,CAACA,OAAOA,EAAEA,WAACA;SACrBA,IAAMA,KAAKA,GAAGA,UAAUA,CAACA,QAAQA,CAACA,GAAGA,EAAEA,CAACA,CAACA;SACzCA,EAAEA,CAACA,CAACA,KAAKA,CAACA,KAAKA,CAACA,CAACA;aAACA,MAAMA,CAACA;SACzBA,MAAMA,CAACA,GAAGA,CAACA,YAAYA,CAACA,KAAKA,EAAEA,IAAIA,CAACA,CAACA,CAACA;SACtCA,QAAQA,CAACA,KAAKA,CAACA,CAACA;KACjBA,CAACA,CAACA,CAACA;KACHA,MAAMA,CAACA,SAASA,CAACA;AAClBA,EAACA;AA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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e848eeab71c52bff47cb\n **/","/**\n * Main entry point: setup synth editor and keyboard listener.\n */\n\nimport { SynthUI } from './synthUI/synthUI';\nimport { NoteInputs } from './piano/noteInputs'\nimport { Presets } from './synthUI/presets';\nimport { ModernWindow, ModernAudioContext } from './synth/modern';\n\nconst graphCanvas = <HTMLCanvasElement>$('#graph-canvas')[0];\nconst synthUI = new SynthUI(createAudioContext(), graphCanvas,\n\t$('#node-params'), $('#audio-graph-fft'), $('#audio-graph-osc'));\nsetupPanels();\n\n\nfunction createAudioContext(): ModernAudioContext {\n\tconst CtxClass: any = window.AudioContext || window.webkitAudioContext;\n\treturn new CtxClass();\n}\n\nfunction setupPanels() {\n\tsetupPalette();\n\tconst inputs = new NoteInputs(synthUI);\n\tconst presets = new Presets(synthUI);\n\tpresets.beforeSave = (json) => $.extend(json, { keyboard: inputs.piano.toJSON() });\n\tpresets.afterLoad = (json) => inputs.piano.fromJSON(json.keyboard);\n}\n\n\nfunction setupPalette() {\n\t$(function() {\n\t\t$('.nano')['nanoScroller']();\n\t});\n}\n\n\ndeclare var window: ModernWindow;\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/main.ts\n **/","import { Graph, Node, GraphHandler } from './graph';\nimport { Synth, NodeData } from '../synth/synth';\nimport { ModernAudioContext, ModernAudioNode } from '../synth/modern';\nimport * as popups from '../popups';\n\n/**\n * Customizes the generic graph editor in order to manipulate and control a graph of\n * AudioNodes\n */\nexport class SynthUI {\n\tgr: Graph;\n\tsynth: Synth;\n\tnw: number;\n\tnh: number;\n\toutNode: ModernAudioNode;\n\n\tconstructor(ac: ModernAudioContext, graphCanvas: HTMLCanvasElement, jqParams: JQuery, jqFFT: JQuery, jqOsc: JQuery) {\n\t\tthis.gr = new Graph(graphCanvas);\n\t\tthis.gr.handler = new SynthGraphHandler(this, jqParams, jqFFT, jqOsc);\n\t\tthis.synth = new Synth(ac);\n\t\t(<any>this.synth.paramHandlers).BufferURL.popups = popups;\n\t\tthis.registerPaletteHandler();\n\t\tthis.addOutputNode();\n\t}\n\n\taddOutputNode() {\n\t\t//TODO avoid using hardcoded position\n\t\tconst out = new Node(500, 210, 'Out');\n\t\tout.data = new GraphNodeData(out);\n\t\tthis.synth.initOutputNodeData(out.data, this.synth.ac.destination);\n\t\tthis.outNode = out.data.anode;\n\t\tthis.gr.addNode(out, 'node-out');\n\t\tthis.initNodeDimensions(out);\n\t}\n\n\tregisterPaletteHandler() {\n\t\tvar self = this;\t// JQuery sets 'this' in event handlers\n\t\t$('.palette .node').click(function(evt) {\n\t\t\tconst elem = $(this);\n\t\t\tconst classes = elem.attr('class').split(/\\s+/).filter(c => c != 'node');\n\t\t\tself.addNode(elem.attr('data-type'),\n\t\t\t\telem.find('.node-text').html(), classes.join(' '));\n\t\t});\n\t}\n\n\taddNode(type: string, text: string, classes: string): void {\n\t\tlet { x, y } = this.findFreeSpot();\n\t\tconst n = new Node(x, y, text);\n\t\tthis.createNodeData(n, type);\n\t\tthis.gr.addNode(n, classes);\n\t\tthis.gr.selectNode(n);\n\t}\n\n\tremoveNode(n: Node): void {\n\t\tthis.gr.removeNode(n);\n\t}\n\n\tremoveNodeData(data: NodeData): void {\n\t\tthis.synth.removeNodeData(data);\n\t}\n\n\tcreateNodeData(n: Node, type: string): void {\n\t\tn.data = new GraphNodeData(n);\n\t\tif (type == 'out') {\n\t\t\tthis.synth.initOutputNodeData(n.data, this.synth.ac.destination);\n\t\t\tthis.outNode = n.data.anode;\n\t\t}\n\t\telse\n\t\t\tthis.synth.initNodeData(n.data, type);\n\t}\n\n\t//----- Rest of methods are used to find a free spot in the canvas -----\n\n\tfindFreeSpot() {\n\t\tlet maxDist = 0;\n\t\tconst canvasW = this.gr.canvas.width;\n\t\tconst canvasH = this.gr.canvas.height;\n\t\tlet x = canvasW / 2;\n\t\tlet y = canvasH / 2;\n\t\tfor (let xx = 10; xx < canvasW - this.nw; xx += 10) {\n\t\t\tfor (let yy = 10; yy < canvasH - this.nh; yy += 10) {\n\t\t\t\tconst dist = this.dist2nearestNode(xx, yy);\n\t\t\t\tif (dist > maxDist && dist < this.nw * 3) {\n\t\t\t\t\tx = xx;\n\t\t\t\t\ty = yy;\n\t\t\t\t\tmaxDist = dist;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn { x, y };\n\t}\n\n\tdist2nearestNode(x: number, y: number) {\n\t\tlet minDist = Number.MAX_VALUE;\n\t\tfor (const n of this.gr.nodes) {\n\t\t\tconst dx = x - n.x;\n\t\t\tconst dy = y - n.y;\n\t\t\tconst dist = Math.sqrt(dx*dx + dy*dy);\n\t\t\tif (dist < minDist) minDist = dist;\n\t\t}\n\t\treturn minDist;\n\t}\n\n\tinitNodeDimensions(n) {\n\t\tthis.nw = n.element.outerWidth();\n\t\tthis.nh = n.element.outerHeight();\n\t}\n\n}\n\n\n//-------------------- Privates --------------------\n\nimport { NodeDef } from '../synth/palette';\nimport { renderParams } from './paramsUI';\nimport { AudioAnalyzer } from './analyzer';\n\n\nclass GraphNodeData extends NodeData {\n\tnode: Node;\n\tconstructor(node: Node) {\n\t\tsuper();\n\t\tthis.node = node;\n\t}\n\tgetInputs(): NodeData[] {\n\t\tconst result: NodeData[] = [];\n\t\tfor (const nin of this.node.inputs)\n\t\t\tresult.push(nin.data);\n\t\treturn result;\n\t}\n}\n\nclass SynthGraphHandler implements GraphHandler {\n\n\tsynthUI: SynthUI;\n\tjqParams: JQuery;\n\tarrowColor: string;\n\tctrlArrowColor: string;\n\tanalyzer: AudioAnalyzer;\n\n\tconstructor(synthUI: SynthUI, jqParams: JQuery, jqFFT: JQuery, jqOsc: JQuery) {\n\t\tthis.synthUI = synthUI;\n\t\tthis.jqParams = jqParams;\n\t\tthis.arrowColor = getCssFromClass('arrow', 'color');\n\t\tthis.ctrlArrowColor = getCssFromClass('arrow-ctrl', 'color');\n\t\tthis.registerNodeDelete();\n\t\tthis.analyzer = new AudioAnalyzer(jqFFT, jqOsc);\n\t}\n\n\tregisterNodeDelete() {\n\t\t$('body').keydown(evt => {\n\t\t\tif (!(evt.keyCode == 46 || (evt.keyCode == 8 && evt.metaKey))) return;\n\t\t\tif (popups.isOpen) return;\n\t\t\tconst selectedNode = this.getSelectedNode();\n\t\t\tif (!selectedNode) return;\n\t\t\tif (selectedNode.data.isOut) return;\n\t\t\tpopups.confirm('Delete node?',\n\t\t\t\t'Please confirm node deletion', confirmed => {\n\t\t\t\tif (!confirmed) return;\n\t\t\t\tthis.synthUI.removeNode(selectedNode);\n\t\t\t\tthis.jqParams.empty();\n\t\t\t});\n\t\t});\n\t}\n\n\tgetSelectedNode(): Node {\n\t\tfor (const node of this.synthUI.gr.nodes)\n\t\t\tif (node.element.hasClass('selected')) return node;\n\t\treturn null;\n\t}\n\n\thasAudioParams(ndata: NodeData) {\n\t\tconst aparams = Object.keys(ndata.nodeDef.params)\n\t\t\t.filter(pname => ndata.anode[pname] instanceof AudioParam);\n\t\treturn aparams.length > 0;\n\t}\n\n\t//-------------------- Implementation of the GraphHandler interface -------------------- \n\tcanBeSource(n: Node): boolean {\n\t\tconst data: NodeData = n.data;\n\t\treturn data.anode != this.synthUI.outNode;\n\t}\n\n\tcanConnect(src: Node, dst: Node): boolean {\n\t\tconst srcData: NodeData = src.data;\n\t\tconst dstData: NodeData = dst.data;\n\t\tif (srcData.nodeDef.control)\n\t\t\treturn this.hasAudioParams(dstData);\n\t\treturn dstData.anode.numberOfInputs > 0;\n\t}\n\n\tconnected(src: Node, dst: Node): void {\n\t\tthis.synthUI.synth.connectNodes(src.data, dst.data);\n\t\t//TODO update paramsUI in case selected node is src\n\t}\n\n\tdisconnected(src: Node, dst: Node): void {\n\t\tthis.synthUI.synth.disconnectNodes(src.data, dst.data);\n\t}\n\n\tnodeSelected(n: Node): void {\n\t\tconst data: NodeData = n.data;\n\t\trenderParams(data, this.jqParams);\n\t}\n\n\tnodeRemoved(n: Node) {\n\t\tthis.synthUI.removeNodeData(n.data);\n\t}\n\n\tgetArrowColor(src: Node, dst: Node): string {\n\t\tconst srcData: NodeData = src.data;\n\t\treturn srcData.nodeDef.control ? this.ctrlArrowColor : this.arrowColor;\n\t}\n\n\tdata2json(n: Node): any {\n\t\treturn this.synthUI.synth.nodeData2json(n.data);\n\t}\n\n\tjson2data(n: Node, json: any): void {\n\t\tthis.synthUI.createNodeData(n, json.type);\n\t\tthis.synthUI.synth.json2NodeData(json, n.data);\n\t}\n\n\tgraphLoaded() {\n\t\tthis.analyzer.analyze(this.synthUI.outNode);\n\t}\n\n\tgraphSaved() {}\n}\n\n\nfunction getCssFromClass(className, propName) {\n\tconst tmp = $('<div>').addClass(className);\n\t$('body').append(tmp);\n\tconst propValue = tmp.css(propName);\n\ttmp.remove();\n\treturn propValue;\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synthUI/synthUI.ts\n **/","const SHIFT_KEY = 16;\nconst CAPS_LOCK = 20;\n\n/**\n * A generic directed graph editor.\n */\nexport class Graph {\n\n\tnodeCanvas: JQuery;\n\tcanvas: HTMLCanvasElement;\n\tnodes: Node[] = [];\n\tgraphDraw: GraphDraw;\n\tgraphInteract: GraphInteraction;\n\thandler: GraphHandler;\n\tlastId: number = 0;\n\n\tconstructor(canvas: HTMLCanvasElement) {\n\t\tthis.nodeCanvas = $(canvas.parentElement);\n\t\tthis.canvas = canvas;\n\t\tconst gc = canvas.getContext('2d');\n\t\tthis.graphDraw = new GraphDraw(this, gc, canvas);\n\t\tthis.graphInteract = new GraphInteraction(this, gc);\n\t\tthis.handler = new DefaultGraphHandler();\n\t}\n\n\taddNode(n: Node, classes?: string) {\n\t\tn.id = this.lastId++;\n\t\tn.element = $('<div>')\n\t\t\t.addClass('node')\n\t\t\t.html(`<div class=\"node-text\">${n.name}</div>`)\n\t\t\t.css({ left: n.x, top: n.y, cursor: 'default' });\n\t\tif (classes) n.element.addClass(classes);\n\t\tthis.nodeCanvas.append(n.element);\n\t\tthis.nodes.push(n);\n\t\tthis.graphInteract.registerNode(n);\n\t\tthis.draw();\n\t}\n\n\tremoveNode(n: Node): void {\n\t\tconst pos = this.nodes.indexOf(n);\n\t\tif (pos < 0)\n\t\t\treturn console.warn(`Node '${n.name}' is not a member of graph`);\n\t\tfor (const nn of this.nodes) {\n\t\t\tif (n == nn) continue;\n\t\t\tthis.disconnect(n, nn);\n\t\t\tthis.disconnect(nn, n);\n\t\t}\n\t\tthis.nodes.splice(pos, 1);\n\t\tn.element.remove();\n\t\tthis.handler.nodeRemoved(n);\n\t\tthis.draw();\n\t}\n\n\tselectNode(n: Node) {\n\t\tthis.graphInteract.selectNode(n);\n\t}\n\n\tconnect(srcn: Node, dstn: Node): boolean {\n\t\tif (!this.handler.canBeSource(srcn) || !this.handler.canConnect(srcn, dstn))\n\t\t\treturn false;\n\t\tdstn.addInput(srcn);\n\t\tthis.handler.connected(srcn, dstn);\n\t\treturn true;\n\t}\n\n\tdisconnect(srcn: Node, dstn: Node): boolean {\n\t\tif (!dstn.removeInput(srcn)) return false;\n\t\tthis.handler.disconnected(srcn, dstn);\n\t\treturn true;\n\t}\n\n\tdraw() {\n\t\tthis.graphDraw.draw();\n\t}\n\n\ttoJSON(): any {\n\t\tconst jsonNodes = [];\n\t\tconst jsonNodeData = [];\n\t\tfor (const node of this.nodes) {\n\t\t\tconst nodeInputs = [];\n\t\t\tfor (const nin of node.inputs)\n\t\t\t\tnodeInputs.push(nin.id);\n\t\t\tjsonNodes.push({\n\t\t\t\tid: node.id,\n\t\t\t\tx: node.x,\n\t\t\t\ty: node.y,\n\t\t\t\tname: node.name,\n\t\t\t\tinputs: nodeInputs,\n\t\t\t\tclasses: this.getAppClasses(node)\n\t\t\t});\n\t\t\tjsonNodeData.push(this.handler.data2json(node));\n\t\t}\n\t\tconst jsonGraph = {\n\t\t\tnodes: jsonNodes,\n\t\t\tnodeData: jsonNodeData\n\t\t}\n\t\tthis.handler.graphSaved();\n\t\treturn jsonGraph;\n\t}\n\n\tfromJSON(json: any) {\n\t\t// First, remove existing nodes\n\t\twhile (this.nodes.length > 0)\n\t\t\tthis.removeNode(this.nodes[0]);\n\t\tthis.lastId = 0;\n\t\t// Then add nodes\n\t\tfor (const jn of json.nodes) {\n\t\t\tconst node = new Node(jn.x, jn.y, jn.name);\n\t\t\tthis.addNode(node);\n\t\t\tnode.id = jn.id;\t// Override id after being initialized inside addNode\n\t\t\tnode.element.attr('class', jn.classes);\n\t\t}\n\t\t// Then connect them\n\t\tconst gh = this.handler;\n\t\tthis.handler = new DefaultGraphHandler();\t// Disable graph handler\n\t\tfor (let i = 0; i < json.nodes.length; i++) {\n\t\t\tfor (const inum of json.nodes[i].inputs) {\n\t\t\t\tconst src = this.nodeById(inum);\n\t\t\t\tthis.connect(src, this.nodes[i]);\n\t\t\t}\n\t\t}\n\t\tthis.handler = gh;\t// Restore graph handler\n\t\t// Then set their data\n\t\tfor (let i = 0; i < json.nodes.length; i++) {\n\t\t\tthis.handler.json2data(this.nodes[i], json.nodeData[i]);\n\t\t}\n\t\t// Then notify connections to handler\n\t\tfor (const dst of this.nodes)\n\t\t\tfor (const src of dst.inputs)\n\t\t\t\tthis.handler.connected(src, dst);\n\t\t// And finally, draw the new graph\n\t\tthis.draw();\n\t\tthis.handler.graphLoaded();\n\t}\n\n\tnodeById(id: number): Node {\n\t\tfor (const node of this.nodes)\n\t\t\tif (node.id === id) return node;\n\t\treturn null;\n\t}\n\n\tgetAppClasses(n: Node): string {\n\t\tconst classes = n.element[0].className.split(/\\s+/);\n\t\tconst result = [];\n\t\tfor (const cname of classes) {\n\t\t\tif (cname == 'selected') continue;\n\t\t\tif (cname.substr(0, 3) == 'ui-') continue;\n\t\t\tresult.push(cname);\n\t\t}\n\t\treturn result.join(' ');\n\t}\n}\n\n/**\n * A node in the graph. Application-specific data can be attached\n * to its data property.\n */\nexport class Node {\n\tid: number;\n\tx: number;\n\ty: number;\n\tname: string;\n\tinputs: Node[] = [];\n\telement: JQuery;\n\tw: number;\n\th: number;\n\tdata: any;\n\n\tconstructor(x: number, y: number, name: string) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.name = name.replace(/<[^<]*>/g, t => t == '<br>' ? t : '');\n\t}\n\n\taddInput(n: Node) {\n\t\tthis.inputs.push(n);\n\t}\n\n\tremoveInput(n: Node): boolean {\n\t\tconst pos: number = this.inputs.indexOf(n);\n\t\tif (pos < 0) return false;\n\t\tthis.inputs.splice(pos, 1);\n\t\treturn true;\n\t}\n\n}\n\n/**\n * A set of callbacks to be implemented by the application in order\n * to customize the graph editor and add application-specific behavior.\n */\nexport interface GraphHandler {\n\tcanBeSource(n: Node): boolean;\n\tcanConnect(src: Node, dst: Node): boolean;\n\tconnected(src: Node, dst: Node): void;\n\tdisconnected(src: Node, dst: Node): void;\n\tnodeSelected(n: Node): void;\n\tnodeRemoved(n: Node): void;\n\tgetArrowColor(src: Node, dst: Node): string;\n\tdata2json(n: Node): any;\n\tjson2data(n: Node, json: any): void;\n\tgraphLoaded(): void;\n\tgraphSaved(): void;\n}\n\n\n//------------------------- Privates -------------------------\n\n/** Default, do-nothing GraphHandler implementation */\nclass DefaultGraphHandler implements GraphHandler {\n\tcanBeSource(n: Node): boolean { return true; }\n\tcanConnect(src: Node, dst: Node): boolean { return true; }\n\tconnected(src: Node, dst: Node): void {}\n\tdisconnected(src: Node, dst: Node):void {}\n\tnodeSelected(n: Node): void {}\n\tnodeRemoved(n: Node): void {}\n\tgetArrowColor(src: Node, dst: Node): string { return \"black\"; }\n\tdata2json(n: Node): any { return {}; }\n\tjson2data(n: Node, json: any): void {}\n\tgraphLoaded(): void {}\n\tgraphSaved(): void {}\n}\n\n/**\n * Handles all UI interaction with graph in order to move, select, connect\n * and disconnect nodes.\n */\nclass GraphInteraction {\n\n\tgraph: Graph;\n\tgc: CanvasRenderingContext2D;\n\tdragging = false;\n\tselectedNode: Node;\n\n\tconstructor(graph: Graph, gc: CanvasRenderingContext2D) {\n\t\tthis.graph = graph;\n\t\tthis.gc = gc;\n\t\tthis.setupConnectHandler();\n\t}\n\n\tregisterNode(n: Node) {\n\t\tn.element.draggable({\n\t\t\tcontainment: 'parent',\n\t\t\tdistance: 5,\n\t\t\tstack: '.node',\n\t\t\tdrag: (event, ui) => {\n\t\t\t\tn.x = ui.position.left;\n\t\t\t\tn.y = ui.position.top;\n\t\t\t\tthis.graph.draw();\n\t\t\t},\n\t\t\tstart: (event, ui) => {\n\t\t\t\tthis.dragging = true;\n\t\t\t\tui.helper.css('cursor', 'move');\n\t\t\t},\n\t\t\tstop: (event, ui) => {\n\t\t\t\tui.helper.css('cursor', 'default');\n\t\t\t\tthis.dragging = false;\n\t\t\t}\n\t\t});\n\t\tn.element.click(_ => {\n\t\t\tif (this.dragging) return;\n\t\t\tif (this.selectedNode == n) return;\n\t\t\tthis.selectNode(n);\n\t\t});\n\t}\n\n\tselectNode(n: Node): void {\n\t\tif (this.selectedNode)\n\t\t\tthis.selectedNode.element.removeClass('selected');\n\t\tn.element.addClass('selected');\n\t\tthis.selectedNode = n;\n\t\tthis.graph.handler.nodeSelected(n);\n\t}\n\n\tsetupConnectHandler() {\n\t\tlet srcn: Node;\n\t\tlet connecting = false;\n\t\t$('body').keydown(evt => {\n\t\t\tif (evt.keyCode == CAPS_LOCK) return this.setGrid([20, 20]);\n\t\t\tif (evt.keyCode != SHIFT_KEY || connecting) return;\n\t\t\tsrcn = this.getNodeFromDOM(this.getElementUnderMouse());\n\t\t\tif (!srcn) return;\n\t\t\tif (!this.graph.handler.canBeSource(srcn)) {\n\t\t\t\tsrcn.element.css('cursor', 'not-allowed');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconnecting = true;\n\t\t\tthis.registerRubberBanding(srcn);\n\t\t})\n\t\t.keyup(evt => {\n\t\t\tif (evt.keyCode == CAPS_LOCK) return this.setGrid(null);\n\t\t\tif (evt.keyCode != SHIFT_KEY) return;\n\t\t\tconnecting = false;\n\t\t\tthis.deregisterRubberBanding();\n\t\t\tconst dstn = this.getNodeFromDOM(this.getElementUnderMouse());\n\t\t\tif (!dstn || srcn == dstn) return;\n\t\t\tthis.connectOrDisconnect(srcn, dstn);\n\t\t\tthis.graph.draw();\n\t\t});\n\t}\n\n\tsetGrid(grid: any): void {\n\t\t$(this.graph.nodeCanvas).find('.node').draggable( \"option\", \"grid\", grid);\n\t}\n\n\tconnectOrDisconnect(srcn: Node, dstn: Node) {\n\t\tif (this.graph.disconnect(srcn, dstn)) return;\n\t\telse this.graph.connect(srcn, dstn);\n\t}\n\n\tgetElementUnderMouse(): JQuery {\n\t\tconst hovered = $(':hover');\n\t\tif (hovered.length <= 0) return null;\n\t\tconst jqNode = $(hovered.get(hovered.length - 1));\n\t\tif (jqNode.hasClass('node')) return jqNode;\n\t\tif (jqNode.parent().hasClass('node')) return jqNode.parent();\n\t\treturn null;\n\t}\n\n\tregisterRubberBanding(srcn: Node) {\n\t\tconst ofs = this.graph.nodeCanvas.offset();\n\t\tconst dstn = new Node(0, 0, '');\n\t\tdstn.w = 0;\n\t\tdstn.h = 0;\n\t\t$(this.graph.nodeCanvas).on('mousemove', evt => {\n\t\t\tdstn.x = evt.clientX - ofs.left;\n\t\t\tdstn.y = evt.clientY - ofs.top + $('body').scrollTop();\n\t\t\tthis.graph.draw();\n\t\t\tthis.gc.save();\n\t\t\tthis.gc.setLineDash([10]);\n\t\t\tthis.graph.graphDraw.drawArrow(srcn, dstn);\n\t\t\tthis.gc.restore();\n\t\t});\n\t\t// Setup cursors\n\t\tthis.graph.nodeCanvas.css('cursor', 'crosshair');\n\t\tthis.graph.nodeCanvas.find('.node').css('cursor', 'crosshair');\n\t\tfor (const n of this.graph.nodes)\n\t\t\tif (n != srcn && !this.graph.handler.canConnect(srcn, n))\n\t\t\t\tn.element.css('cursor', 'not-allowed');\n\t}\n\n\tderegisterRubberBanding() {\n\t\tthis.graph.nodeCanvas.css('cursor', '');\n\t\tthis.graph.nodeCanvas.find('.node').css('cursor', 'default');\n\t\tthis.graph.nodeCanvas.off('mousemove');\n\t\tthis.graph.graphDraw.draw();\n\t}\n\n\tgetNodeFromDOM(jqNode: JQuery) {\n\t\tif (!jqNode) return null;\n\t\tfor (const n of this.graph.nodes)\n\t\t\tif (n.element[0] == jqNode[0]) return n;\n\t\treturn null;\n\t}\n}\n\n\ninterface Point {\n\tx: number,\n\ty: number\n}\n\n\n/**\n * Handles graph drawing by rendering arrows in a canvas.\n */\nclass GraphDraw {\n\n\tgraph: Graph;\n\tgc: CanvasRenderingContext2D;\n\tcanvas: HTMLCanvasElement;\n\tarrowHeadLen = 10;\n\tnodes: Node[];\n\n\tconstructor(graph: Graph, gc: CanvasRenderingContext2D, canvas: HTMLCanvasElement) {\n\t\tthis.graph = graph;\n\t\tthis.gc = gc;\n\t\tthis.canvas = canvas;\n\t\tthis.nodes = graph.nodes;\n\t}\n\n\tdraw() {\n\t\tthis.clearCanvas();\n\t\tthis.gc.lineWidth = 2;\n\t\tfor (const ndst of this.nodes)\n\t\t\tfor (const nsrc of ndst.inputs)\n\t\t\t\tthis.drawArrow(nsrc, ndst);\n\t}\n\n\tclearCanvas() {\n\t\tthis.gc.clearRect(0, 0, this.canvas.width, this.canvas.height);\n\t}\n\n\tdrawArrow(srcNode: Node, dstNode: Node) {\n\t\tconst srcPoint = this.getNodeCenter(srcNode);\n\t\tconst dstPoint = this.getNodeCenter(dstNode);\n\t\tthis.gc.strokeStyle = this.graph.handler.getArrowColor(srcNode, dstNode);\n\t\tthis.gc.beginPath();\n\t\tthis.gc.moveTo(srcPoint.x, srcPoint.y);\n\t\tthis.gc.lineTo(dstPoint.x, dstPoint.y);\n\t\tthis.drawArrowTip(srcPoint, dstPoint);\n\t\tthis.gc.closePath();\n\t\tthis.gc.stroke();\n\t}\n\n\tdrawArrowTip(src: Point, dst: Point) {\n\t\tconst posCoef = 0.6;\n\t\tconst mx = src.x + (dst.x - src.x) * posCoef;\n\t\tconst my = src.y + (dst.y - src.y) * posCoef;\n\t\tvar angle = Math.atan2(dst.y - src.y, dst.x - src.x);\n\t\tthis.gc.moveTo(mx, my);\n\t\tthis.gc.lineTo(\n\t\t\tmx - this.arrowHeadLen * Math.cos(angle - Math.PI/6),\n\t\t\tmy - this.arrowHeadLen * Math.sin(angle - Math.PI/6)\n\t\t);\n\t\tthis.gc.moveTo(mx, my);\n\t\tthis.gc.lineTo(\n\t\t\tmx - this.arrowHeadLen * Math.cos(angle + Math.PI/6),\n\t\t\tmy - this.arrowHeadLen * Math.sin(angle + Math.PI/6)\n\t\t);\n\t}\n\n\tgetNodeCenter(n: Node): Point {\n\t\tn.w = n.w !== undefined ? n.w : n.element.outerWidth();\n\t\tn.h = n.h !== undefined ? n.h : n.element.outerHeight();\n\t\treturn { x: n.x + n.w / 2, y: n.y + n.h / 2 };\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synthUI/graph.ts\n **/","import { NoteHandler, NoteHandlers } from './notes';\nimport { NodeDef, NodeParamDef, NodePalette, palette } from './palette';\nimport { ModernAudioContext, ModernAudioNode, removeArrayElement } from './modern';\nimport * as custom from './customNodes';\n\n\nconst SEMITONE = Math.pow(2, 1/12);\nconst A4 = 57;\n\n/**\n * Holds all data associated with an AudioNode\n */\nexport class NodeData {\n\t// Used by all nodes\n\ttype: string;\n\tanode: ModernAudioNode;\n\tnodeDef: NodeDef;\n\t// Used by control nodes\n\tcontrolParam: string;\n\tcontrolParams: string[];\n\tcontrolTarget: ModernAudioNode;\n\t// Used by source audio nodes\n\tnoteHandler: NoteHandler;\n\t// Flag to avoid deleting output node\n\tisOut: boolean = false;\n\t// Reference to owner synth\n\tsynth: Synth;\n\t// To be implemented by user code\n\tgetInputs(): NodeData[] {\n\t\tthrow 'Error: getInputs() function should be implemented by user';\n\t}\n}\n\n/**\n * Global paramters that apply to the whole monophonic synthesizer.\n */\nexport class Portamento {\n\ttime = 0;\n\tratio = 0;\n}\n\n//TODO *** refactor & decouple from UI\ninterface ParamHandler {\n\tinitialize(anode: AudioNode, def: NodeDef): void;\n\trenderParam(panel: JQuery, pdef: NodeParamDef,\n\t\tanode: AudioNode, param: string, label: string): JQuery;\n\tparam2json(anode: AudioNode): any;\n\tjson2param(anode: AudioNode, json: any);\n}\n\n/**\n * Performs global operations on all AudioNodes:\n * - Manages AudioNode creation, initialization and connection\n * - Distributes MIDI keyboard events to NoteHandlers\n */\nexport class Synth {\n\tac: ModernAudioContext;\n\tcustomNodes: { [key: string]: Function } = {};\n\tparamHandlers: { [key: string]: ParamHandler } = {};\n\tpalette: NodePalette;\n\tnoteHandlers: NoteHandler[] = [];\n\tportamento = new Portamento();\n\n\tconstructor(ac: ModernAudioContext) {\n\t\tthis.ac = ac;\n\t\tthis.palette = palette;\n\t\tthis.registerCustomNode('createADSR', custom.ADSR);\n\t\tthis.registerCustomNode('createNoise', custom.NoiseGenerator);\n\t\tthis.registerCustomNode('createNoiseCtrl', custom.NoiseCtrlGenerator);\n\t\tthis.registerCustomNode('createLineIn', custom.LineInNode);\n\t\tthis.registerCustomNode('createDetuner', custom.Detuner);\n\t\tthis.registerParamHandler('BufferURL', new BufferURL());\n\t}\n\n\tcreateAudioNode(type: string): AudioNode {\n\t\tconst def: NodeDef = palette[type];\n\t\tif (!def) return null;\n\t\tconst factory = def.custom ? this.customNodes : this.ac;\n\t\tif (!factory[def.constructor]) return null;\n\t\tconst anode = factory[def.constructor]();\n\t\tif (!anode.context) anode.context = this.ac;\n\t\tthis.initNodeParams(anode, def, type);\n\t\treturn anode;\n\t}\n\n\tinitNodeData(ndata: NodeData, type: string): void {\n\t\tndata.synth = this;\n\t\tndata.type = type;\n\t\tndata.anode = this.createAudioNode(type);\n\t\tif (!ndata.anode)\n\t\t\treturn console.error(`No AudioNode found for '${type}'`);\n\t\tndata.nodeDef = this.palette[type];\n\t\tconst nh = ndata.nodeDef.noteHandler;\n\t\tif (nh) {\n\t\t\tndata.noteHandler = new NoteHandlers[nh](ndata);\n\t\t\tthis.addNoteHandler(ndata.noteHandler);\n\t\t}\n\t}\n\n\tinitOutputNodeData(ndata: NodeData, dst: AudioNode): void {\n\t\tndata.synth = this;\n\t\tndata.type = 'out';\n\t\tndata.anode = this.ac.createGain();\n\t\tndata.anode.connect(dst);\n\t\tndata.nodeDef = this.palette['Speaker'];\n\t\tndata.isOut = true;\n\t}\n\n\tremoveNodeData(data: NodeData) {\n\t\tif (data.noteHandler)\n\t\t\tthis.removeNoteHandler(data.noteHandler);\n\t}\n\n\tconnectNodes(srcData: NodeData, dstData: NodeData): void {\n\t\tif (srcData.nodeDef.control && !dstData.nodeDef.control) {\n\t\t\tsrcData.controlParams = Object.keys(dstData.nodeDef.params)\n\t\t\t\t.filter(pname => dstData.anode[pname] instanceof AudioParam);\n\t\t\tsrcData.controlParam = srcData.controlParams[0];\n\t\t\tsrcData.controlTarget = dstData.anode;\n\t\t\tsrcData.anode.connect(dstData.anode[srcData.controlParam]);\n\t\t}\n\t\telse srcData.anode.connect(dstData.anode);\n\t}\n\n\tdisconnectNodes(srcData: NodeData, dstData: NodeData): void {\n\t\tif (srcData.nodeDef.control && !dstData.nodeDef.control) {\n\t\t\tsrcData.controlParams = null;\n\t\t\tsrcData.anode.disconnect(dstData.anode[srcData.controlParam]);\n\t\t}\n\t\telse\n\t\t\tsrcData.anode.disconnect(dstData.anode);\n\t}\n\n\tjson2NodeData(json: any, data: NodeData): void {\n\t\tfor (const pname of Object.keys(json.params)) {\n\t\t\tconst pvalue = data.anode[pname];\n\t\t\tconst jv = json.params[pname];\n\t\t\tif (data.nodeDef.params[pname].handler)\n\t\t\t\tthis.paramHandlers[data.nodeDef.params[pname].handler]\n\t\t\t\t\t.json2param(data.anode, jv);\n\t\t\telse if (pvalue instanceof AudioParam) {\n\t\t\t\tpvalue.value = jv;\n\t\t\t\tpvalue['_value'] = jv;\n\t\t\t}\n\t\t\telse data.anode[pname] = jv;\n\t\t}\n\t}\n\n\tnodeData2json(data: NodeData): any {\n\t\tconst params = {};\n\t\tfor (const pname of Object.keys(data.nodeDef.params)) {\n\t\t\tconst pvalue = data.anode[pname];\n\t\t\tif (data.nodeDef.params[pname].handler)\n\t\t\t\tparams[pname] = this.paramHandlers[data.nodeDef.params[pname].handler]\n\t\t\t\t\t.param2json(data.anode);\n\t\t\telse if (pvalue instanceof AudioParam)\n\t\t\t\tif (pvalue['_value'] === undefined) params[pname] = pvalue.value;\n\t\t\t\telse params[pname] = pvalue['_value'];\n\t\t\telse params[pname] = pvalue;\n\t\t}\n\t\treturn {\n\t\t\ttype: data.type,\n\t\t\tparams,\n\t\t\tcontrolParam: data.controlParam,\n\t\t\tcontrolParams: data.controlParams\n\t\t}\n\t}\n\n\tmidi2freqRatio(midi: number): number {\n\t\treturn Math.pow(SEMITONE, midi - A4);\n\t}\n\n\tnoteOn(midi: number, gain: number, when?: number): void {\n\t\tif (!when) when = this.ac.currentTime;\n\t\tconst ratio = this.midi2freqRatio(midi);\n\t\tfor (const nh of this.noteHandlers) {\n\t\t\tif (nh.kbTrigger) nh.handlers = this.noteHandlers;\n\t\t\tnh.noteOn(midi, gain, ratio, when);\n\t\t}\n\t\tthis.portamento.ratio = ratio;\n\t}\n\n\tnoteOff(midi: number, gain: number, when?: number): void {\n\t\tif (!when) when = this.ac.currentTime;\n\t\tfor (const nh of this.noteHandlers)\n\t\t\tnh.noteOff(midi, gain, when);\n\t}\n\n\taddNoteHandler(nh: NoteHandler): void {\n\t\tthis.noteHandlers.push(nh);\n\t}\n\n\tremoveNoteHandler(nh: NoteHandler): void {\n\t\tremoveArrayElement(this.noteHandlers, nh)\n\t}\n\n\tinitNodeParams(anode: AudioNode, def: NodeDef, type: string): void {\n\t\tfor (const param of Object.keys(def.params || {}))\n\t\t\tif (anode[param] === undefined)\n\t\t\t\tconsole.warn(`Parameter '${param}' not found for node '${type}'`)\n\t\t\telse if (anode[param] instanceof AudioParam)\n\t\t\t\tanode[param].value = def.params[param].initial;\n\t\t\telse if (def.params[param].handler) {\n\t\t\t\tdef.params[param].phandler = this.paramHandlers[def.params[param].handler];\n\t\t\t\tdef.params[param].phandler.initialize(anode, def);\n\t\t\t}\n\t\t\telse\n\t\t\t\tanode[param] = def.params[param].initial;\n\t}\n\n\tregisterCustomNode(constructorName: string, nodeClass: any): void {\n\t\tthis.customNodes[constructorName] = () => new nodeClass(this.ac);\n\t}\n\n\tregisterParamHandler(hname: string, handler: ParamHandler): void {\n\t\tthis.paramHandlers[hname] = handler;\n\t}\n\n}\n\n\n\n//-------------------- Parameter handlers --------------------\n\nclass BufferURL implements ParamHandler {\n\tpopups: any;\n\n\tinitialize(anode: AudioNode, def: NodeDef): void {\n\t\tconst absn: AudioBufferSourceNode = <AudioBufferSourceNode>anode;\n\t\tconst url: string = <string>def.params['buffer'].initial;\n\t\tif (!url) return;\n\t\tif (!this.popups) this.popups = {\n\t\t\tprompt: () => {},\n\t\t\tclose: () => {},\n\t\t\tprogress: () => {}\n\t\t};\n\t\tthis.loadBufferParam(absn, url);\n\t}\n\n\trenderParam(panel: JQuery, pdef: NodeParamDef,\n\t\tanode: AudioNode, param: string, label: string): JQuery {\n\t\tconst box = $('<div class=\"choice-box\">');\n\t\tconst button = $('<button class=\"btn btn-primary\">URL</button>');\n\t\tbox.append(button);\n\t\tbutton.after('<br/><br/>' + label);\n\t\tpanel.append(box);\n\t\tbutton.click(_ => {\n\t\t\tthis.popups.prompt('Audio buffer URL:', 'Please provide URL', null, url => {\n\t\t\t\tif (!url) return;\n\t\t\t\tconst absn: AudioBufferSourceNode = <AudioBufferSourceNode>anode;\n\t\t\t\tthis.loadBufferParam(absn, url);\n\t\t\t});\n\t\t});\n\t\treturn box;\n\t}\n\n\tparam2json(anode: AudioNode): any {\n\t\treturn anode['_url'];\n\t}\n\n\tjson2param(anode: AudioNode, json: any) {\n\t\tthis.loadBufferParam(<AudioBufferSourceNode>anode, json);\n\t}\n\n\tloadBufferParam(absn: AudioBufferSourceNode, url: string): void {\n\t\tthis.loadBuffer(absn.context, url, buffer => {\n\t\t\tabsn['_buffer'] = buffer;\n\t\t\tabsn['_url'] = url;\n\t\t});\n\t}\n\n\tloadBuffer(ac: AudioContext, url: string, cb: (buffer: AudioBuffer) => void): void {\n\t\tconst w: any = window;\n\t\tw.audioBufferCache = w.audioBufferCache || {};\n\t\tif (w.audioBufferCache[url])\n\t\t\treturn cb(w.audioBufferCache[url]);\n\t\tconst xhr = new XMLHttpRequest();\n\t\txhr.open('GET', url, true);\n\t\txhr.responseType = 'arraybuffer';\n\t\txhr.onload = _ => {\n\t\t\tthis.popups.close();\n\t\t\tac.decodeAudioData(xhr.response, buffer => {\n\t\t\t\tw.audioBufferCache[url] = buffer;\n\t\t\t\tcb(buffer);\n\t\t\t});\n\t\t};\n\t\txhr.send();\n\t\tsetTimeout(_ => {\n\t\t\tif (xhr.readyState != xhr.DONE)\n\t\t\t\tthis.popups.progress('Loading ' + url + '...');\n\t\t}, 300);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/synth.ts\n **/","import { NodeData } from './synth';\nimport { ADSR } from './customNodes';\nimport { ModernAudioNode, removeArrayElement } from './modern';\n\n\n/**\n * A note handler handles MIDI keyboard events on behalf of a synth node,\n * updating the node status accordingly.\n */\nexport interface NoteHandler {\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void;\n\tnoteOff(midi: number, gain: number, when: number): void;\n\tnoteEnd(midi: number, when: number): void;\n\tkbTrigger: boolean;\n\tplayAfterNoteOff: boolean;\n\thandlers: NoteHandler[];\n}\n\n/**\n * Handles common AudioNode cloning, used by oscillator and buffered data nodes.\n */\nclass BaseNoteHandler implements NoteHandler {\n\tndata: NodeData;\n\toutTracker: OutputTracker;\n\tkbTrigger = false;\n\tplayAfterNoteOff = false;\n\thandlers = null;\n\n\tconstructor(ndata: NodeData) {\n\t\tthis.ndata = ndata;\n\t\tthis.outTracker = new OutputTracker(ndata.anode);\n\t}\n\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void {}\n\tnoteOff(midi: number, gain: number, when: number): void {}\n\tnoteEnd(midi: number, when: number): void {}\n\n\tclone(): AudioNode {\n\t\t// Create clone\n\t\tconst anode = this.ndata.anode.context[this.ndata.nodeDef.constructor]();\n\t\t// Copy parameters\n\t\tfor (const pname of Object.keys(this.ndata.nodeDef.params)) {\n\t\t\tconst param = this.ndata.anode[pname];\n\t\t\tif (param instanceof AudioParam)\n\t\t\t\tanode[pname].value = param.value;\n\t\t\telse if (param !== null && param !== undefined)\n\t\t\t\tanode[pname] = param;\n\t\t}\n\t\t// Copy output connections\n\t\tfor (const out of this.outTracker.outputs) {\n\t\t\tlet o2: any = out;\n\t\t\tif (o2.custom && o2.anode) o2 = o2.anode;\n\t\t\tanode.connect(o2);\n\t\t}\n\t\t// Copy control input connections\n\t\tfor (const inData of this.ndata.getInputs()) {\n\t\t\tinData.anode.connect(anode[inData.controlParam]);\n\t\t}\n\t\t//TODO should copy snapshot of list of inputs and outputs\n\t\t//...in case user connects or disconnects during playback\n\t\treturn anode;\n\t}\n\n\tdisconnect(anode: ModernAudioNode): void {\n\t\t// Disconnect outputs\n\t\tfor (const out of this.outTracker.outputs)\n\t\t\tanode.disconnect(out);\n\t\t// Disconnect control inputs\n\t\tfor (const inData of this.ndata.getInputs()) {\n\t\t\tinData.anode.disconnect(anode[inData.controlParam]);\n\t\t}\n\t}\n\n\trampParam(param: AudioParam, ratio: number, when: number): void {\n\t\tconst portamento = this.ndata.synth.portamento;\n\t\tconst newv = param.value * ratio;\n\t\tparam['_value'] = newv;\t// Required for ADSR to capture the correct value\n\t\tif (portamento.time > 0 && portamento.ratio > 0) {\n\t\t\tconst oldv = param.value * portamento.ratio;\n\t\t\tparam.cancelScheduledValues(when);\n\t\t\tparam.linearRampToValueAtTime(oldv, when);\n\t\t\tparam.exponentialRampToValueAtTime(newv, when + portamento.time);\n\t\t}\n\t\telse param.setValueAtTime(newv, when);\n\t}\n}\n\n/**\n * Handles note events for an OscillatorNode\n */\nclass OscNoteHandler extends BaseNoteHandler {\n\toscClone: OscillatorNode;\n\tlastNote: number;\n\tplaying = false;\n\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void {\n\t\tif (this.playing) this.noteEnd(midi, when);\t// Because this is monophonic\n\t\tthis.playing = true;\n\t\tthis.oscClone = <OscillatorNode>this.clone();\n\t\tthis.rampParam(this.oscClone.frequency, ratio, when);\n\t\tthis.oscClone.start(when);\n\t\tthis.lastNote = midi;\n\t}\n\n\tnoteOff(midi: number, gain: number, when: number): void {\n\t\tif (midi != this.lastNote) return;\n\t\tif (!this.playAfterNoteOff) this.noteEnd(midi, when);\n\t}\n\n\tnoteEnd(midi: number, when: number): void {\n\t\t// Stop and disconnect\n\t\tif (!this.playing) return;\n\t\tthis.playing = false;\n\t\tthis.oscClone.stop(when);\n\t\t//TODO ensure that not disconnecting does not produce memory leaks\n\t\t// this.disconnect(this.oscClone);\n\t\t// this.oscClone = null;\n\t}\n}\n\n/**\n * Handles note events for an LFO node. This is identical to a regular\n * oscillator node, but the note does not affect the oscillator frequency\n */\nclass LFONoteHandler extends OscNoteHandler {\n\trampParam(param: AudioParam, ratio: number, when: number) {\n\t\t// Disable portamento for LFO\n\t\tparam.setValueAtTime(param.value, when);\n\t}\n}\n\n/**\n * Handles note events for an AudioBufferSourceNode\n */\nclass BufferNoteHandler extends BaseNoteHandler {\n\tabsn: AudioBufferSourceNode;\n\tlastNote: number;\n\tplaying = false;\n\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void {\n\t\tif (this.playing) this.noteEnd(midi, when);\n\t\tconst buf = this.ndata.anode['_buffer'];\n\t\tif (!buf) return;\t// Buffer still loading or failed\n\t\tthis.playing = true;\n\t\tthis.absn = <AudioBufferSourceNode>this.clone();\n\t\tthis.absn.buffer = buf;\n\t\tconst pbr = this.absn.playbackRate;\n\t\tconst newRate = pbr.value * ratio;\n\t\tthis.rampParam(pbr, pbr.value * ratio, when);\n\t\tthis.absn.start(when);\n\t\tthis.lastNote = midi;\n\t}\n\n\tnoteOff(midi: number, gain: number, when: number): void {\n\t\tif (midi != this.lastNote) return;\n\t\tif (!this.playAfterNoteOff) this.noteEnd(midi, when);\n\t}\n\n\tnoteEnd(midi: number, when: number): void {\n\t\t// Stop and disconnect\n\t\tif (!this.playing) return;\n\t\tthis.playing = false;\n\t\tthis.absn.stop(when);\n\t\t//TODO ensure that not disconnecting does not produce memory leaks\n\t\t// this.disconnect(this.absn);\n\t\t// this.absn = null;\n\t}\n\n}\n\n\n/**\n * Handles note events for a custom ADSR node\n */\nclass ADSRNoteHandler extends BaseNoteHandler {\n\tlastNote: number;\n\tkbTrigger = true;\n\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void {\n\t\tthis.setupOtherHandlers();\n\t\tthis.lastNote = midi;\n\t\tconst adsr: ADSR = <ADSR>this.ndata.anode;\n\t\tthis.loopParams(out => {\n\t\t\tconst v = this.getParamValue(out);\n\t\t\tout.cancelScheduledValues(when);\n\t\t\tconst initial = (1 - adsr.depth) * v;\n\t\t\tout.linearRampToValueAtTime(initial, when);\n\t\t\tout.linearRampToValueAtTime(v, when + adsr.attack);\n\t\t\tconst target = v * adsr.sustain + initial * (1 - adsr.sustain);\n\t\t\tout.linearRampToValueAtTime(target, when + adsr.attack + adsr.decay);\n\t\t});\n\t}\n\n\tnoteOff(midi: number, gain: number, when: number): void {\n\t\tif (midi != this.lastNote) return;\n\t\tconst adsr: ADSR = <ADSR>this.ndata.anode;\n\t\tthis.loopParams(out => {\n\t\t\tconst v = out.value;\t// Get the really current value\n\t\t\tconst finalv = (1 - adsr.depth) * v;\n\t\t\tout.cancelScheduledValues(when);\n\t\t\tout.linearRampToValueAtTime(v, when);\n\t\t\tout.linearRampToValueAtTime(finalv, when + adsr.release);\n\t\t});\n\t}\n\n\tsetupOtherHandlers() {\n\t\t//TODO should set to false when ADSR node is removed\n\t\tfor (const nh of this.handlers) nh.playAfterNoteOff = true;\n\t}\n\n\tloopParams(cb: (out: AudioParam) => void): void {\n\t\tfor (const out of this.outTracker.outputs)\n\t\t\tif (out instanceof AudioParam)\n\t\t\t\tcb(out);\n\t}\n\n\tgetParamValue(p: AudioParam): number {\n\t\tif (p['_value'] === undefined) p['_value'] = p.value;\n\t\treturn p['_value'];\n\t}\n}\n\n/**\n * Handles note events for any node that allows calling start() after stop(),\n * such as custom nodes.\n */\nclass RestartableNoteHandler extends BaseNoteHandler {\n\tlastNote: number;\n\tplaying = false;\n\n\tnoteOn(midi: number, gain: number, ratio: number, when: number):void {\n\t\tif (this.playing) this.noteEnd(midi, when);\n\t\tthis.playing = true;\n\t\tconst anode: any = this.ndata.anode;\n\t\tanode.start(when);\n\t\tthis.lastNote = midi;\n\t}\n\n\tnoteOff(midi: number, gain: number, when: number): void {\n\t\tif (midi != this.lastNote) return;\n\t\tif (!this.playAfterNoteOff) this.noteEnd(midi, when);\n\t}\n\n\tnoteEnd(midi: number, when: number): void {\n\t\t// Stop and disconnect\n\t\tif (!this.playing) return;\n\t\tthis.playing = false;\n\t\tconst anode: any = this.ndata.anode;\n\t\tanode.stop(when);\n\t}\n}\n\n/**\n * Exports available note handlers so they are used by their respective\n * nodes from the palette.\n */\nexport const NoteHandlers = {\n\t'osc': OscNoteHandler,\n\t'buffer': BufferNoteHandler,\n\t'ADSR': ADSRNoteHandler,\n\t'LFO': LFONoteHandler,\n\t'restartable': RestartableNoteHandler\n};\n\n\n/**\n * Tracks a node output connections and disconnections, to be used\n * when cloning, removing or controlling nodes.\n */\nclass OutputTracker {\n\toutputs: (AudioNode | AudioParam) [] = [];\n\n\tconstructor(anode: AudioNode) {\n\t\tthis.onBefore(anode, 'connect', this.connect, (oldf, obj, args) => {\n\t\t\tif (args[0].custom && args[0].anode) args[0] = args[0].anode;\n\t\t\toldf.apply(obj, args);\n\t\t});\n\t\tthis.onBefore(anode, 'disconnect', this.disconnect);\n\t}\n\n\tconnect(np) {\n\t\tthis.outputs.push(np);\n\t}\n\n\tdisconnect(np) {\n\t\tremoveArrayElement(this.outputs, np);\n\t}\n\n\tonBefore(obj: any, fname: string, funcToCall: Function, cb?: (oldf, obj, args) => void): void {\n\t\tconst oldf = obj[fname];\n\t\tconst self = this;\n\t\tobj[fname] = function() {\n\t\t\tfuncToCall.apply(self, arguments);\n\t\t\tif (cb) cb(oldf, obj, arguments)\n\t\t\telse oldf.apply(obj, arguments);\n\t\t}\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/notes.ts\n **/","/**\n * Modernize browser interfaces so that TypeScript does not complain\n * when using new features.\n *\n * Also provides some basic utility funcitons which should be part of\n * the standard JavaScript library.\n */\n\nexport interface ModernWindow extends Window {\n\tAudioContext: AudioContext;\n\twebkitAudioContext: AudioContext;\n}\n\nexport interface ModernAudioContext extends AudioContext {\n\tsuspend: () => void;\n\tresume: () => void;\n}\n\nexport interface ModernAudioNode extends AudioNode {\n\tdisconnect(output?: number | AudioNode | AudioParam): void\n}\n\n\nexport function removeArrayElement(a: any[], e: any): boolean {\n\tconst pos = a.indexOf(e);\n\tif (pos < 0) return false;\t// not found\n\ta.splice(pos, 1);\n\treturn true;\n}\n\nconst LOG_BASE = 2;\n\nfunction logarithm(base: number, x: number): number {\n\treturn Math.log(x) / Math.log(base);\n}\n\nexport function linear2log(value: number, min: number, max: number): number {\n\tconst logRange = logarithm(LOG_BASE, max + 1 - min);\n\treturn logarithm(LOG_BASE, value + 1 - min) / logRange;\n}\n\nexport function log2linear(value: number, min: number, max: number): number {\n\tconst logRange = logarithm(LOG_BASE, max + 1 - min);\n\treturn min + Math.pow(LOG_BASE, value * logRange) - 1;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/modern.ts\n **/","/** Configuration data for an AudioNode parameter */\nexport interface NodeParamDef {\n\tinitial: any;\n\tmin?: number;\n\tmax?: number;\n\tlinear?: boolean;\n\tchoices?: string[];\n\thandler?: string;\n\tphandler?: any;\n}\n\n/** Configuration data for an AudioNode */\nexport interface NodeDef {\n\tconstructor: string;\n\tcustom?: boolean;\n\tnoteHandler?: string;\n\tcontrol?: boolean;\n\tparams: { [key: string]: NodeParamDef };\n}\n\n/** A set of AudioNode configuration elements */\nexport interface NodePalette {\n\t[key: string]: NodeDef;\n}\n\n//-------------------- Node palette definition --------------------\n\nconst OCTAVE_DETUNE: NodeParamDef = {\n\tinitial: 0,\n\tmin: -1200,\n\tmax: 1200,\n\tlinear: true\n};\n\n/**\n * The set of AudioNodes available to the application, along with\n * their configuration.\n */\nexport var palette: NodePalette = {\n\t// Sources\n\tOscillator: {\n\t\tconstructor: 'createOscillator',\n\t\tnoteHandler: 'osc',\n\t\tparams: {\n\t\t\tfrequency: { initial: 220, min: 20, max: 20000 },\n\t\t\tdetune: OCTAVE_DETUNE,\n\t\t\ttype: {\n\t\t\t\tinitial: 'sawtooth',\n\t\t\t\tchoices: ['sine', 'square', 'sawtooth', 'triangle']\n\t\t\t}\n\t\t}\n\t},\n\tBuffer: {\n\t\tconstructor: 'createBufferSource',\n\t\tnoteHandler: 'buffer',\n\t\tparams: {\n\t\t\tplaybackRate: { initial: 1, min: 0, max: 8 },\n\t\t\tdetune: OCTAVE_DETUNE,\n\t\t\tbuffer: {\n\t\t\t\tinitial: null,\n\t\t\t\thandler: 'BufferURL'\n\t\t\t},\n\t\t\tloop: { initial: false },\n\t\t\tloopStart: { initial: 0, min: 0, max: 10 },\n\t\t\tloopEnd: { initial: 3, min: 0, max: 10 }\n\t\t}\n\t},\n\tNoise: {\n\t\tconstructor: 'createNoise',\n\t\tnoteHandler: 'restartable',\n\t\tcustom: true,\n\t\tparams: {\n\t\t\tgain:  { initial: 1, min: 0, max: 10 }\n\t\t}\n\t},\n\tLineIn: {\n\t\tconstructor: 'createLineIn',\n\t\tcustom: true,\n\t\tparams: {}\n\t},\n\t// Effects\n\tGain: {\n\t\tconstructor: 'createGain',\n\t\tparams: {\n\t\t\tgain: { initial: 1, min: 0, max: 10, linear: true }\n\t\t}\n\t},\n\tFilter: {\n\t\tconstructor: 'createBiquadFilter',\n\t\tparams: {\n\t\t\tfrequency: { initial: 440, min: 20, max: 20000 },\n\t\t\tQ: { initial: 0, min: 0, max: 100 },\n\t\t\tdetune: OCTAVE_DETUNE,\n\t\t\tgain: { initial: 0, min: -40, max: 40, linear: true },\n\t\t\ttype: {\n\t\t\t\tinitial: 'lowpass',\n\t\t\t\tchoices: ['lowpass', 'highpass', 'bandpass',\n\t\t\t\t\t'lowshelf', 'highshelf', 'peaking', 'notch', 'allpass']\n\t\t\t}\n\t\t},\n\t},\n\tDelay: {\n\t\tconstructor: 'createDelay',\n\t\tparams: {\n\t\t\tdelayTime: { initial: 1, min: 0, max: 5 }\n\t\t}\n\t},\n\tStereoPan: {\n\t\tconstructor: 'createStereoPanner',\n\t\tparams: {\n\t\t\tpan: { initial: 0, min: -1, max: 1, linear: true }\n\t\t}\n\t},\n\tCompressor: {\n\t\tconstructor: 'createDynamicsCompressor',\n\t\tparams: {\n\t\t\tthreshold: { initial: -24, min: -100, max: 0, linear: true },\n\t\t\tknee: { initial: 30, min: 0, max: 40, linear: true },\n\t\t\tratio: { initial: 12, min: 1, max: 20, linear: true },\n\t\t\treduction: { initial: 0, min: -20, max: 0, linear: true },\n\t\t\tattack: { initial: 0.003, min: 0, max: 1 },\n\t\t\trelease: { initial: 0.25, min: 0, max: 1 }\n\t\t}\n\t},\n\tDetuner: {\n\t\tconstructor: 'createDetuner',\n\t\tcustom: true,\n\t\tparams: {\n\t\t\toctave: { initial: 0, min: -2, max: 2, linear: true }\n\t\t}\n\t},\n\t// Controllers\n\tLFO: {\n\t\tconstructor: 'createOscillator',\n\t\tnoteHandler: 'LFO',\n\t\tcontrol: true,\n\t\tparams: {\n\t\t\tfrequency: { initial: 5, min: 0.01, max: 200 },\n\t\t\tdetune: OCTAVE_DETUNE,\n\t\t\ttype: {\n\t\t\t\tinitial: 'sine',\n\t\t\t\tchoices: ['sine', 'square', 'sawtooth', 'triangle']\n\t\t\t}\n\t\t}\n\t},\n\tGainCtrl: {\n\t\tconstructor: 'createGain',\n\t\tcontrol: true,\n\t\tparams: {\n\t\t\tgain: { initial: 10, min: 0, max: 100, linear: true }\n\t\t}\n\t},\n\tADSR: {\n\t\tconstructor: 'createADSR',\n\t\tnoteHandler: 'ADSR',\n\t\tcontrol: true,\n\t\tcustom: true,\n\t\tparams: {\n\t\t\tattack:  { initial: 0.2, min: 0, max: 10 },\n\t\t\tdecay:   { initial: 0.5, min: 0, max: 10 },\n\t\t\tsustain: { initial: 0.5, min: 0, max: 1, linear: true },\n\t\t\trelease: { initial: 1.0, min: 0, max: 10 },\n\t\t\tdepth:   { initial: 1.0, min: 0, max: 1 }\n\t\t}\n\t},\n\tNoiseCtrl: {\n\t\tconstructor: 'createNoiseCtrl',\n\t\tcontrol: true,\n\t\tcustom: true,\n\t\tparams: {\n\t\t\tfrequency: { initial: 4, min: 0, max: 200 },\n\t\t\tdepth:  { initial: 20, min: 0, max: 200 }\n\t\t}\n\t},\n\t// Output\n\tSpeaker: {\n\t\tconstructor: null,\n\t\tparams: {}\n\t}\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/palette.ts\n **/","import { ModernAudioContext, ModernAudioNode } from './modern';\n\n/**\n * Base class to derive all custom nodes from it\n */\nclass CustomNodeBase implements AudioNode {\n\tcustom = true;\n\tchannelCount = 2;\n\tchannelCountMode = 'max';\n\tchannelInterpretation = 'speakers';\n\tcontext: AudioContext;\n\tnumberOfInputs = 0;\n\tnumberOfOutputs = 1;\n\tconnect(param: AudioParam | AudioNode) {}\n\tdisconnect() {}\n\t// Required for extending EventTarget\n\taddEventListener(){}\n\tdispatchEvent(evt: Event): boolean { return false; }\n\tremoveEventListener(){}\n}\n\n\n/**\n * Envelope generator that controls the evolution over time of a destination\n * node's parameter. All parameter control is performed in the corresponding\n * ADSR note handler.\n */\nexport class ADSR extends CustomNodeBase {\n\tattack: number = 0.2;\n\tdecay: number = 0.5;\n\tsustain: number = 0.5;\n\trelease: number = 1;\n\tdepth: number = 1;\n\t//TODO linear / exponential\n}\n\n\n/**\n * Base ScriptProcessor, to derive all custom audio processing nodes from it.\n */\nclass ScriptProcessor extends CustomNodeBase {\n\tgain: number = 1;\n\tanode: ScriptProcessorNode;\n\tplaying: boolean = false;\n\n\tconstructor(ac: AudioContext) {\n\t\tsuper();\n\t\tthis.anode = ac.createScriptProcessor(1024);\n\t\tthis.anode.onaudioprocess = evt => this.processAudio(evt);\n\t}\n\n\tconnect(node: AudioNode) {\n\t\tthis.anode.connect(node);\n\t}\n\n\tdisconnect() {\n\t\tthis.anode.disconnect();\n\t}\n\n\tstart() {\n\t\tthis.playing = true;\n\t}\n\n\tstop() {\n\t\tthis.playing = false;\n\t}\n\n\tprocessAudio(evt: AudioProcessingEvent) {}\n}\n\n\n/**\n * Simple noise generator\n */\nexport class NoiseGenerator extends ScriptProcessor {\n\tprocessAudio(evt: AudioProcessingEvent) {\n\t\tfor (let channel = 0; channel < evt.outputBuffer.numberOfChannels; channel++) {\n\t\t\tlet out = evt.outputBuffer.getChannelData(channel);\n\t\t\tfor (let sample = 0; sample < out.length; sample++)\n\t\t\t\tout[sample] = this.playing ? this.gain * (Math.random() * 2 - 1) : 0;\n\t\t}\n\t}\n}\n\n\n/**\n * Noise generator to be used as control node.\n * It uses sample & hold in order to implement the 'frequency' parameter.\n */\nexport class NoiseCtrlGenerator extends ScriptProcessor {\n\tac: ModernAudioContext;\n\tfrequency: number;\n\tdepth: number;\n\tsct: number;\n\tv: number;\n\n\tconstructor(ac: ModernAudioContext) {\n\t\tsuper(ac);\n\t\tthis.ac = ac;\n\t\tthis.frequency = 4;\n\t\tthis.depth = 20;\n\t\tthis.sct = 0;\n\t\tthis.v = 0;\n\t}\n\n\tconnect(param: any) {\n\t\tthis.anode.connect(param);\n\t}\n\n\tprocessAudio(evt: AudioProcessingEvent) {\n\t\tconst samplesPerCycle = this.ac.sampleRate / this.frequency;\n\t\tfor (let channel = 0; channel < evt.outputBuffer.numberOfChannels; channel++) {\n\t\t\tlet out = evt.outputBuffer.getChannelData(channel);\n\t\t\tfor (let sample = 0; sample < out.length; sample++) {\n\t\t\t\tthis.sct++;\n\t\t\t\tif (this.sct > samplesPerCycle) {\n\t\t\t\t\tthis.v = this.depth * (Math.random() * 2 - 1);\n\t\t\t\t\tthis.sct = 0; //this.sct - Math.floor(this.sct);\n\t\t\t\t}\n\t\t\t\tout[sample] = this.v;\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n/**\n * Simple Pitch Shifter implemented in a quick & dirty way\n */\nexport class Detuner extends ScriptProcessor {\n\toctave: number = 0;\n\tnumberOfInputs = 1;\n\n\tprocessAudio(evt: AudioProcessingEvent) {\n\t\tconst dx = Math.pow(2, this.octave);\n\t\tfor (let channel = 0; channel < evt.outputBuffer.numberOfChannels; channel++) {\n\t\t\tlet out = evt.outputBuffer.getChannelData(channel);\n\t\t\tlet inbuf = evt.inputBuffer.getChannelData(channel);\n\t\t\tlet sct = 0;\n\t\t\tfor (let sample = 0; sample < out.length; sample++) {\n\t\t\t\tout[sample] = inbuf[Math.floor(sct)];\n\t\t\t\tsct += dx;\n\t\t\t\tif (sct >= inbuf.length) sct = 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n\n/**\n * Captures audio from the PC audio input.\n * Requires user's authorization to grab audio input.\n */\nexport class LineInNode extends CustomNodeBase {\n\tsrcNode: ModernAudioNode;\n\tdstNode: ModernAudioNode;\n\tstream: any;\n\n\tconnect(anode: AudioNode) {\n\t\tif (this.srcNode) {\n\t\t\tthis.srcNode.connect(anode);\n\t\t\tthis.dstNode = anode;\n\t\t\treturn;\n\t\t}\n\t\tconst navigator: any = window.navigator;\n\t\tnavigator.getUserMedia = (navigator.getUserMedia ||\n\t\t\tnavigator.webkitGetUserMedia ||\n\t\t\tnavigator.mozGetUserMedia ||\n\t\t\tnavigator.msGetUserMedia);\n\t\tnavigator.getUserMedia({ audio: true }, stream => {\n\t\t\tconst ac: any = anode.context;\n\t\t\tthis.srcNode = ac.createMediaStreamSource(stream);\n\t\t\tlet a2: any = anode;\n\t\t\tif (a2.custom && a2.anode) a2 = a2.anode;\n\t\t\tthis.srcNode.connect(a2);\n\t\t\tthis.dstNode = anode;\n\t\t\tthis.stream = stream;\n\t\t}, error => console.error(error));\n\t}\n\n\tdisconnect() {\n\t\tthis.srcNode.disconnect(this.dstNode);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/customNodes.ts\n **/","/** Informs whether a popup is open or not */\nexport let isOpen: boolean = false;\n\n/** Bootstrap-based equivalent of standard alert function */\nexport function alert(msg: string, title?: string, hideClose?: boolean, options?: any): void {\n\tpopup.find('.popup-message').html(msg);\n\tpopup.find('.modal-title').text(title || 'Alert');\n\tpopup.find('.popup-ok').hide();\n\tif (hideClose)\n\t\tpopup.find('.popup-close').hide();\n\telse\n\t\tpopup.find('.popup-close').html('Close');\n\tpopup.find('.popup-prompt > input').hide();\n\tisOpen = true;\n\tpopup.one('hidden.bs.modal', _ => isOpen = false);\n\tpopup.modal(options);\n}\n\n/** Like an alert, but without a close button */\nexport function progress(msg: string, title?: string): void {\n\talert(msg, title, true, { keyboard: false });\n}\n\n/** Closes a popup in case it is open */\nexport function close() {\n\tif (!isOpen) return;\n\tpopup.find('.popup-ok').click();\n}\n\n/** Bootstrap-based equivalent of standard confirm function */\nexport function confirm(msg: string, title: string,\n\tcbClose: (boolean) => void, cbOpen?: () => void) {\n\tlet result = false;\n\tpopup.find('.popup-message').html(msg);\n\tpopup.find('.modal-title').text(title || 'Please confirm');\n\tconst okButton = popup.find('.popup-ok');\n\tokButton.show().click(_ => result = true);\n\tpopup.find('.popup-prompt > input').hide();\n\tpopup.find('.popup-close').text('Cancel');\n\tpopup.one('shown.bs.modal', _ => {\n\t\tokButton.focus();\n\t\tif (cbOpen) cbOpen();\n\t});\n\tpopup.find('form').one('submit', _ => {\n\t\tresult = true;\n\t\tokButton.click();\n\t\treturn false;\n\t});\n\tpopup.one('hide.bs.modal', _ => {\n\t\tokButton.off('click');\n\t\tisOpen = false;\n\t\tcbClose(result);\n\t});\n\tisOpen = true;\n\tpopup.modal();\n}\n\n/** Bootstrap-based equivalent of standard prompt function */\nexport function prompt(msg: string, title: string,\n\tinitialValue: string, cb: (string) => void): void {\n\tconst input = popup.find('.popup-prompt > input');\n\tconfirm(msg, title, confirmed => {\n\t\tif (!cb) return;\n\t\tif (!confirmed) cb(null);\n\t\telse cb(input.val());\n\t}, () => {\n\t\tinput.show();\n\t\tinput.focus();\n\t\tif (initialValue) {\n\t\t\tinput.val(initialValue);\n\t\t\tconst hinput: HTMLInputElement = <HTMLInputElement>input[0];\n\t\t\thinput.select();\n\t\t}\n\t\telse input.val('');\n\t});\n}\n\n\nconst popup = $(`\n\t<div class=\"normal-font modal fade\" id=\"myModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"myModalLabel\">\n\t<div class=\"modal-dialog\" role=\"document\">\n\t\t<div class=\"modal-content\">\n\t\t<div class=\"modal-header\">\n\t\t\t<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>\n\t\t\t<h4 class=\"modal-title\" id=\"myModalLabel\"></h4>\n\t\t</div>\n\t\t<div class=\"modal-body\">\n\t\t\t<div class=\"popup-message\"></div>\n\t\t\t<form class=\"popup-prompt\">\n\t\t\t\t<input type=\"text\" style=\"width: 100%\">\n\t\t\t</form>\n\t\t</div>\n\t\t<div class=\"modal-footer\">\n\t\t\t<button type=\"button\" class=\"btn btn-default popup-close\" data-dismiss=\"modal\"></button>\n\t\t\t<button type=\"button\" class=\"btn btn-primary popup-ok\" data-dismiss=\"modal\">OK</button>\n\t\t</div>\n\t\t</div>\n\t</div>\n\t</div>\n`);\n\n$('body').append(popup);\n\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/popups.ts\n **/","import { Node } from './graph';\nimport { NodeData } from '../synth/synth';\nimport { NodeDef, NodeParamDef } from '../synth/palette';\nimport { log2linear, linear2log } from '../synth/modern';\n\n/**\n * Renders the UI controls associated with the parameters of a given node\n */\nexport function renderParams(ndata: NodeData, panel: JQuery): void {\n\tpanel.empty();\n\tconst boxes: JQuery[] = [];\n\tif (ndata.nodeDef.control && ndata.controlParams)\n\t\tboxes.push(renderParamControl(ndata, panel));\n\tconst params = Object.keys(ndata.nodeDef.params || {});\n\tif (params.length <= 0) return;\n\tfor (const param of params)\n\t\tif (ndata.anode[param] instanceof AudioParam)\n\t\t\tboxes.push(renderAudioParam(ndata.anode, ndata.nodeDef, param, panel));\n\t\telse\n\t\t\tboxes.push(renderOtherParam(ndata.anode, ndata.nodeDef, param, panel));\n\tpositionBoxes(panel, boxes);\n}\n\n\nfunction positionBoxes(panel: JQuery, boxes: JQuery[]) {\n\tconst pw = panel.width();\n\tconst bw = boxes[0].width();\n\tconst sep = (pw - boxes.length * bw) / (boxes.length + 1);\n\tlet x = sep;\n\tfor (const box of boxes) {\n\t\tbox.css({\n\t\t\tposition: 'relative',\n\t\t\tleft: x\n\t\t});\n\t\tx += sep;\n\t}\n}\n\nfunction renderAudioParam(anode: AudioNode, ndef: NodeDef, param: string, panel: JQuery): JQuery {\n\tconst pdef: NodeParamDef = ndef.params[param];\n\tconst aparam: AudioParam = anode[param];\n\tif (aparam['_value']) aparam.value = aparam['_value'];\n\treturn renderSlider(panel, pdef, param, aparam.value, value => {\n\t\taparam.value = value;\n\t\taparam['_value'] = value;\n\t});\n}\n\nfunction renderParamControl(ndata: NodeData, panel: JQuery): JQuery {\n\tif (!ndata.controlParams) return;\n\tconst combo = renderCombo(panel, ndata.controlParams, ndata.controlParam, 'Controlling');\n\tcombo.change(_ => {\n\t\tif (ndata.controlParam)\n\t\t\tndata.anode.disconnect(ndata.controlTarget[ndata.controlParam]);\n\t\tndata.controlParam = combo.val();\n\t\tndata.anode.connect(ndata.controlTarget[ndata.controlParam]);\n\t});\n\treturn combo.parent();\n}\n\nfunction renderOtherParam(anode: AudioNode, ndef: NodeDef, param: string, panel: JQuery): JQuery {\n\tconst pdef: NodeParamDef = ndef.params[param];\n\tif (pdef.choices) {\n\t\tconst combo = renderCombo(panel, pdef.choices, anode[param], ucfirst(param));\n\t\tcombo.change(_ => {\n\t\t\tanode[param] = combo.val();\n\t\t});\n\t\treturn combo.parent();\n\t}\n\telse if (pdef.min != undefined)\n\t\treturn renderSlider(panel, pdef, param, anode[param], value => anode[param] = value);\n\telse if (typeof pdef.initial == 'boolean')\n\t\treturn renderBoolean(panel, pdef, param, anode, ucfirst(param));\n\telse if (pdef.phandler)\n\t\treturn pdef.phandler.renderParam(panel, pdef, anode, param, ucfirst(param));\n}\n\n\nfunction renderSlider(panel: JQuery, pdef: NodeParamDef,\n\tparam: string, value: number, setValue: (value: number) => void): JQuery {\n\tconst sliderBox = $('<div class=\"slider-box\">');\n\tconst slider = $('<input type=\"range\" orient=\"vertical\">')\n\t\t.attr('min', 0)\n\t\t.attr('max', 1)\n\t\t.attr('step', 0.001)\n\t\t.attr('value', param2slider(value, pdef))\n\tconst numInput = $('<input type=\"number\">')\n\t\t.attr('min', pdef.min)\n\t\t.attr('max', pdef.max)\n\t\t.attr('value', truncateFloat(value, 5));\n\tsliderBox.append(numInput);\n\tsliderBox.append(slider);\n\tsliderBox.append($('<span><br/>' + ucfirst(param) + '</span>'));\n\tpanel.append(sliderBox);\n\tslider.on('input', _ => {\n\t\tconst value = slider2param(parseFloat(slider.val()), pdef);\n\t\tnumInput.val(truncateFloat(value, 5));\n\t\tsetValue(value);\n\t});\n\tnumInput.on('input', _ => {\n\t\tconst value = parseFloat(numInput.val());\n\t\tif (isNaN(value)) return;\n\t\tslider.val(param2slider(value, pdef));\n\t\tsetValue(value);\n\t});\n\treturn sliderBox;\n}\n\nfunction renderCombo(panel: JQuery, choices: string[], selected: string, label: string): JQuery {\n\tconst choiceBox = $('<div class=\"choice-box\">');\n\tconst combo = $('<select>').attr('size', choices.length);\n\tfor (const choice of choices) {\n\t\tconst option = $('<option>').text(choice);\n\t\tif (choice == selected) option.attr('selected', 'selected');\n\t\tcombo.append(option);\n\t}\n\tchoiceBox.append(combo);\n\tcombo.after('<br/><br/>' + label);\n\tpanel.append(choiceBox);\n\treturn combo;\n}\n\nfunction renderBoolean(panel: JQuery, pdef: NodeParamDef, param: string, anode: AudioNode, label: string): JQuery {\n\tconst box = $('<div class=\"choice-box\">');\n\tconst button = $('<button class=\"btn btn-info\" data-toggle=\"button\" aria-pressed=\"false\">');\n\tbox.append(button);\n\tbutton.after('<br/><br/>' + label);\n\tpanel.append(box);\n\tif (anode[param]) {\n\t\tbutton.text('Enabled');\n\t\tbutton.addClass('active');\n\t\tbutton.attr('aria-pressed', 'true');\n\t}\n\telse {\n\t\tbutton.text('Disabled');\n\t\tbutton.removeClass('active');\n\t\tbutton.attr('aria-pressed', 'false');\n\t}\n\tbutton.click(_ => {\n\t\tanode[param] = !anode[param];\n\t\tbutton.text(anode[param] ? 'Enabled' : 'Disabled');\n\t});\n\treturn box;\n}\n\n\nfunction param2slider(paramValue: number, pdef: NodeParamDef): number {\n\tif (pdef.linear)\n\t\treturn (paramValue - pdef.min) / (pdef.max - pdef.min);\n\telse\n\t\treturn linear2log(paramValue, pdef.min, pdef.max);\n}\n\nfunction slider2param(sliderValue: number, pdef: NodeParamDef): number {\n\tif (pdef.linear)\n\t\treturn pdef.min + sliderValue * (pdef.max - pdef.min);\n\telse\n\t\treturn log2linear(sliderValue, pdef.min, pdef.max);\n}\n\n\n//-------------------- Misc utilities --------------------\n\nfunction ucfirst(str: string) {\n\treturn str[0].toUpperCase() + str.substring(1);\n}\n\nfunction truncateFloat(f: number, len: number): string {\n\tlet s: string = '' + f;\n\ts = s.substr(0, len);\n\tif (s[s.length - 1] == '.') return s.substr(0, len - 1);\n\telse return s;\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synthUI/paramsUI.ts\n **/","import { ModernAudioNode } from '../synth/modern';\n\n/**\n * Displays FFT and Oscilloscope graphs from the output of a given AudioNode\n */\nexport class AudioAnalyzer {\n\tinput: ModernAudioNode;\n\tanode: AnalyserNode;\n\tcanvasFFT: HTMLCanvasElement;\n\tgcFFT: CanvasRenderingContext2D;\n\tcanvasOsc: HTMLCanvasElement;\n\tgcOsc: CanvasRenderingContext2D;\n\toscData: Uint8Array;\n\tfftData: Uint8Array;\n\n\tconstructor(jqfft: JQuery, jqosc: JQuery) {\n\t\tthis.canvasFFT = this.createCanvas(jqfft);\n\t\tthis.gcFFT = this.canvasFFT.getContext('2d');\n\t\tthis.canvasOsc = this.createCanvas(jqosc);\n\t\tthis.gcOsc = this.canvasOsc.getContext('2d');\n\t}\n\n\tcreateCanvas(panel: JQuery): HTMLCanvasElement {\n\t\tconst jqCanvas = $(`<canvas width=\"${panel.width()}\" height=\"${panel.height()}\">`);\n\t\tpanel.append(jqCanvas);\n\t\tconst canvas = <HTMLCanvasElement>jqCanvas[0];\n\t\treturn canvas;\n\t}\n\n\tcreateAnalyzerNode(ac: AudioContext) {\n\t\tif (this.anode) return;\n\t\tthis.anode = ac.createAnalyser();\n\t\tthis.fftData = new Uint8Array(this.anode.fftSize);\n\t\tthis.oscData = new Uint8Array(this.anode.fftSize);\n\t}\n\n\tanalyze(input: AudioNode) {\n\t\tthis.disconnect();\n\t\tthis.createAnalyzerNode(input.context);\n\t\tthis.input = input;\n\t\tthis.input.connect(this.anode);\n\t\tthis.requestAnimationFrame();\n\t}\n\n\tdisconnect() {\n\t\tif (!this.input) return;\n\t\tthis.input.disconnect(this.anode);\n\t\tthis.input = null;\n\t}\n\n\trequestAnimationFrame() {\n\t\twindow.requestAnimationFrame(_ => this.updateCanvas());\n\t}\n\tupdateCanvas() {\n\t\tif (!this.input) return;\n\t\tthis.drawFFT(this.gcFFT, this.canvasFFT, this.fftData, '#00FF00');\n\t\tthis.drawOsc(this.gcOsc, this.canvasOsc, this.oscData, '#FFFF00');\n\t\tthis.requestAnimationFrame();\n\t}\n\n\tdrawFFT(gc, canvas, data, color) {\n\t\tconst [w, h] = this.setupDraw(gc, canvas, data, color);\n\t\tthis.anode.getByteFrequencyData(data);\n\t\tconst dx = (data.length / 2) / canvas.width;\n\t\tlet x = 0;\n\t\t//TODO calculate average of all samples from x to x + dx - 1\n\t\tfor (let i = 0; i < w; i++) {\n\t\t\tlet y = data[Math.floor(x)];\n\t\t\tx += dx;\n\t\t\tgc.moveTo(i, h - 1);\n\t\t\tgc.lineTo(i, h - 1 - h * y/256);\n\t\t}\n\t\tgc.stroke();\n\t\tgc.closePath();\n\t}\n\n\tdrawOsc(gc, canvas, data, color) {\n\t\tconst [w, h] = this.setupDraw(gc, canvas, data, color);\n\t\tthis.anode.getByteTimeDomainData(data);\n\t\tgc.moveTo(0, h / 2);\n\t\tlet x = 0;\n\t\twhile (data[x] > 128 && x < data.length/4) x++;\n\t\twhile (data[x] < 128 && x < data.length/4) x++;\n\t\tconst dx = (data.length * 0.75) / canvas.width;\n\t\tfor (let i = 0; i < w; i++) {\n\t\t\tlet y = data[Math.floor(x)];\n\t\t\tx += dx;\n\t\t\tgc.lineTo(i, h * y/256);\n\t\t}\n\t\tgc.stroke();\n\t\tgc.closePath();\n\t}\n\n\tsetupDraw(gc, canvas, data, color) {\n\t\tconst w = canvas.width;\n\t\tconst h = canvas.height;\n\t\tgc.clearRect(0, 0, w, h);\n\t\tgc.beginPath();\n\t\tgc.strokeStyle = color;\n\t\treturn [w, h];\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synthUI/analyzer.ts\n **/","import { Keyboard } from './keyboard';\nimport { MidiKeyboard } from './midi';\nimport { PianoKeyboard } from './piano';\nimport { Arpeggiator } from './arpeggiator';\n\nimport { NodeData } from '../synth/synth';\nimport { SynthUI } from '../synthUI/synthUI';\nimport { Instrument } from '../synth/instrument';\n\nconst NUM_VOICES = 5;\n\n/**\n * Manages all note-generation inputs:\n * \t- PC Keyboard\n * \t- Virtual piano keyboard\n *\t- An external MIDI keyboard\n * Handles switching to polyphonic mode and back to mono\n */\nexport class NoteInputs {\n\tsynthUI: SynthUI;\n\tpoly: boolean;\n\tinstrument: Instrument;\n\tlastNote: number;\n\tpiano: PianoKeyboard;\n\tarpeggiator: Arpeggiator;\n\n\tconstructor(synthUI: SynthUI) {\n\t\tthis.synthUI = synthUI;\n\t\tthis.poly = false;\n\t\t// Setup piano panel\n\t\tvar piano = new PianoKeyboard($('#piano'));\n\t\tthis.piano = piano;\n\t\tpiano.noteOn = (midi) => this.arpeggiator.sendNoteOn(midi, 1);\n\t\tpiano.noteOff = (midi) => this.arpeggiator.sendNoteOff(midi, 1);\n\t\t// Register poly on/off handlers\n\t\tpiano.polyOn = () => this.polyOn();\n\t\tpiano.polyOff = () => this.polyOff();\n\t\t// Setup PC keyboard\n\t\tvar kb = this.setupPCKeyboard(piano);\n\t\t// Bind piano octave with PC keyboard\n\t\tkb.baseNote = piano.baseNote;\n\t\tpiano.octaveChanged = baseNote => kb.baseNote = baseNote;\n\t\tthis.setupEnvelopeAnimation(piano);\n\t\t// Setup arpeggiator\n\t\tthis.setupArpeggiator(piano, synthUI.synth.ac);\n\t\t// Setup MIDI keyboard\n\t\tthis.setupMidiKeyboard(piano);\n\t}\n\n\tsetupPCKeyboard(piano: PianoKeyboard): Keyboard {\n\t\tvar kb = new Keyboard();\n\t\tkb.noteOn = (midi) => {\n\t\t\tif (document.activeElement.nodeName == 'INPUT' &&\n\t\t\t\tdocument.activeElement.getAttribute('type') != 'range') return;\n\t\t\tthis.arpeggiator.sendNoteOn(midi, 1);\n\t\t\tpiano.displayKeyDown(midi);\n\t\t};\n\t\tkb.noteOff = (midi) => {\n\t\t\tthis.arpeggiator.sendNoteOff(midi, 1);\n\t\t\tpiano.displayKeyUp(midi);\n\t\t};\n\t\treturn kb;\n\t}\n\n\tsetupMidiKeyboard(piano: PianoKeyboard) {\n\t\tvar midi = new MidiKeyboard();\n\t\tmidi.noteOn = (midi: number, velocity: number, channel: number): void => {\n\t\t\tthis.arpeggiator.sendNoteOn(midi, 1);\n\t\t\tpiano.displayKeyDown(midi);\n\t\t};\n\t\tmidi.noteOff = (midi: number, velocity: number, channel: number): void => {\n\t\t\tthis.arpeggiator.sendNoteOff(midi, 1);\n\t\t\tpiano.displayKeyUp(midi);\n\t\t};\n\t}\n\n\tsetupEnvelopeAnimation(piano: PianoKeyboard) {\n\t\tconst loaded = this.synthUI.gr.handler.graphLoaded;\n\t\tthis.synthUI.gr.handler.graphLoaded = function() {\n\t\t\tloaded.bind(this.synthUI.gr.handler)();\n\t\t\tlet adsr = null;\n\t\t\tfor (const node of this.synthUI.gr.nodes) {\n\t\t\t\tconst data: NodeData = node.data;\n\t\t\t\tif (data.type == 'ADSR') {\n\t\t\t\t\tadsr = data.anode;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpiano.setEnvelope(adsr || { attack: 0, release: 0 });\n\t\t}\n\t}\n\n\tsetupArpeggiator(piano: PianoKeyboard, ac: AudioContext) {\n\t\tthis.arpeggiator = new Arpeggiator(ac);\n\t\tpiano.arpeggioChanged = (bpm, mode, octaves) => {\n\t\t\tthis.arpeggiator.mode = mode;\n\t\t\tthis.arpeggiator.octaves = octaves;\n\t\t\tthis.arpeggiator.bpm = bpm;\n\t\t}\n\t\tthis.arpeggiator.noteOn =\n\t\t\t(midi, velocity, time) => this.noteOn(midi, velocity, time);\n\t\tthis.arpeggiator.noteOff =\n\t\t\t(midi, velocity, time) => this.noteOff(midi, velocity, time);\n\t}\n\n\n\tnoteOn(midi: number, velocity: number, time?: number): void {\n\t\tthis.lastNote = midi;\n\t\tconst portamento = this.piano.getPortamento();\n\t\tif (this.poly) {\n\t\t\tthis.instrument.portamento.time = portamento;\n\t\t\tthis.instrument.noteOn(midi, velocity, time);\n\t\t}\n\t\telse {\n\t\t\tthis.synthUI.synth.portamento.time = portamento;\n\t\t\tthis.synthUI.synth.noteOn(midi, velocity, time);\n\t\t}\n\t}\n\n\tnoteOff(midi: number, velocity: number, time?: number): void {\n\t\tthis.lastNote = 0;\n\t\tif (this.poly)\n\t\t\tthis.instrument.noteOff(midi, velocity, time);\n\t\telse\n\t\t\tthis.synthUI.synth.noteOff(midi, velocity, time);\n\t}\n\n\tpolyOn() {\n\t\tif (this.lastNote) this.noteOff(this.lastNote, 1);\n\t\tthis.poly = true;\n\t\tconst json = this.synthUI.gr.toJSON();\n\t\tthis.instrument = new Instrument(this.synthUI.synth.ac, json, NUM_VOICES);\n\t}\n\n\tpolyOff() {\n\t\tthis.poly = false;\n\t\tthis.instrument.close();\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ts/piano/noteInputs.ts\n **/","const KB_NOTES = 'ZSXDCVGBHNJMQ2W3ER5T6Y7UI9O0P';\nconst BASE_NOTE = 36;\n\n/**\n * Provides a piano keyboard using the PC keyboard.\n * Listens to keyboard events and generates MIDI-style noteOn/noteOff events.\n */\nexport class Keyboard {\n\n\tbaseNote: number;\n\n\tconstructor() {\n\t\tthis.setupHandler();\n\t\tthis.baseNote = BASE_NOTE;\n\t}\n\n\tsetupHandler() {\n\t\tconst pressedKeys = {};\n\t\t$('body')\n\t\t.on('keydown', evt => {\n\t\t\tif (pressedKeys[evt.keyCode]) return;\t\t\t\t\t// Skip repetitions\n\t\t\tif (evt.metaKey || evt.altKey || evt.ctrlKey) return;\t// Skip browser shortcuts\n\t\t\tpressedKeys[evt.keyCode] = true;\n\t\t\tconst midi = this.key2midi(evt.keyCode);\n\t\t\tif (midi < 0) return;\n\t\t\tthis.noteOn(midi);\n\t\t})\n\t\t.on('keyup', evt => {\n\t\t\tpressedKeys[evt.keyCode] = false;\n\t\t\tconst midi = this.key2midi(evt.keyCode);\n\t\t\tif (midi < 0) return;\n\t\t\tthis.noteOff(midi);\n\t\t});\n\t}\n\n\tkey2midi(keyCode: number): number {\n\t\tconst pos = KB_NOTES.indexOf(String.fromCharCode(keyCode));\n\t\tif (pos < 0) return -1;\n\t\treturn this.baseNote + pos;\n\t}\n\n\tnoteOn(midi: number):void {}\n\tnoteOff(midi: number): void {}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/piano/keyboard.ts\n **/","import * as popups from '../popups';\nimport { log2linear, linear2log } from '../synth/modern';\n\nconst NUM_WHITES = 17;\nconst BASE_NOTE = 36;\n\nconst ARPEGGIO_MODES = ['', 'u', 'd', 'ud'];\nconst ARPEGGIO_LABELS = ['-', '&uarr;', '&darr;', '&uarr;&darr;'];\nconst MAX_ARPEGGIO_OCT = 3;\nconst ARPEGGIO_MIN = 15;\nconst ARPEGGIO_MAX = 480;\n\nconst PORTAMENTO_MIN = 0;\nconst PORTAMENTO_MAX = 1;\n\n/**\n * A virtual piano keyboard that:\n * \t- Captures mouse input and generates corresponding note events\n * \t- Displays note events as CSS-animated colors in the pressed keys\n * \t- Supports octave switching\n * \t- Provides a poly/mono button\n */\nexport class PianoKeyboard {\n\tkeys: JQuery[];\n\tk1note: number;\n\tbaseNote: number;\n\toctave: number;\n\tpoly: boolean;\n\tlastKey: JQuery;\n\tenvelope: { attack: number; release: number };\n\tportaSlider: JQuery;\n\tcontrols: JQuery;\n\tarpeggio = {\n\t\tmode: 0,\n\t\toctave: 1,\n\t\tbpm: 60\n\t};\n\n\tconstructor(panel: JQuery) {\n\t\tthis.baseNote = BASE_NOTE;\n\t\tthis.octave = 3;\n\t\tthis.poly = false;\n\t\tthis.envelope = { attack: 0, release: 0 };\n\t\tthis.createKeys(panel);\n\t\tfor (let i = 0; i < this.keys.length; i++)\n\t\t\tthis.registerKey(this.keys[i], i);\n\t\tthis.controls = panel.parent();\n\t\tthis.registerButtons(this.controls);\n\t\tthis.portaSlider = this.controls.find('.portamento-box input');\n\t}\n\n\tcreateKeys(panel: JQuery) {\n\t\tthis.keys = [];\n\t\tvar pw = panel.width();\n\t\tvar ph = panel.height();\n\t\tvar kw = pw / NUM_WHITES + 1;\n\t\tvar bw = kw * 2 / 3;\n\t\tvar bh = ph * 2 / 3;\n\t\t// Create white keys\n\t\tvar knum = 0;\n\t\tfor (let i = 0; i < NUM_WHITES; i++) {\n\t\t\tconst key = $('<div class=\"piano-key\">').css({\n\t\t\t\twidth: '' + kw + 'px',\n\t\t\t\theight: '' + ph + 'px'\n\t\t\t});\n\t\t\tpanel.append(key);\n\t\t\tthis.keys[knum++] = key;\n\t\t\tif (this.hasBlack(i)) knum++;\n\t\t}\n\t\t// Create black keys\n\t\tvar knum = 0;\n\t\tlet x = 10 - bw / 2;\n\t\tfor (let i = 0; i < NUM_WHITES - 1; i++) {\n\t\t\tx += kw - 1;\n\t\t\tknum++;\n\t\t\tif (!this.hasBlack(i)) continue;\n\t\t\tconst key = $('<div class=\"piano-key piano-black\">').css({\n\t\t\t\twidth: '' + bw + 'px',\n\t\t\t\theight: '' + bh + 'px',\n\t\t\t\tleft: '' + x + 'px',\n\t\t\t\ttop: '10px'\n\t\t\t});\n\t\t\tpanel.append(key);\n\t\t\tthis.keys[knum++] = key;\n\t\t}\n\t}\n\n\thasBlack(num: number): boolean {\n\t\tconst mod7 = num % 7;\n\t\treturn mod7 != 2 && mod7 != 6;\n\t}\n\n\tregisterKey(key: JQuery, knum: number): void {\n\t\tkey.mousedown(_ => {\n\t\t\tconst midi = knum + this.baseNote;\n\t\t\tthis.displayKeyDown(key);\n\t\t\tthis.noteOn(midi);\n\t\t});\n\t\tkey.mouseup(_ => {\n\t\t\tconst midi = knum + this.baseNote;\n\t\t\tthis.displayKeyUp(key);\n\t\t\tthis.noteOff(midi);\n\t\t});\n\t}\n\n\tregisterButtons(panel: JQuery): void {\n\t\t// Octave navigation\n\t\t$('#prev-octave-but').click(_ => {\n\t\t\tthis.octave--;\n\t\t\tthis.updateOctave();\n\t\t});\n\t\t$('#next-octave-but').click(_ => {\n\t\t\tthis.octave++;\n\t\t\tthis.updateOctave();\n\t\t});\n\t\t// Arpeggio\n\t\tconst arpeggioSlider = panel.find('.arpeggio-box input');\n\t\tarpeggioSlider.on('input',_ => {\n\t\t\tthis.arpeggio.bpm =\n\t\t\t\tlog2linear(parseFloat(arpeggioSlider.val()), ARPEGGIO_MIN, ARPEGGIO_MAX);\n\t\t\t\t// ARPEGGIO_MIN + parseFloat(arpeggioSlider.val()) * (ARPEGGIO_MAX - ARPEGGIO_MIN);\n\t\t\tthis.triggerArpeggioChange();\n\t\t});\n\t\tconst butArpMode = panel.find('.btn-arpeggio-ud');\n\t\tbutArpMode.click(_ => this.changeArpeggioMode(butArpMode));\n\t\tconst butArpOct = panel.find('.btn-arpeggio-oct');\n\t\tbutArpOct.click(_ => this.changeArpeggioOctave(butArpOct));\n\t\t// Monophonic / polyphonic mode\n\t\t$('#poly-but').click(_ => this.togglePoly());\n\t}\n\n\tupdateOctave() {\n\t\t$('#prev-octave-but').prop('disabled', this.octave <= 1);\n\t\t$('#next-octave-but').prop('disabled', this.octave >= 8);\n\t\t$('#octave-label').text('C' + this.octave);\n\t\tthis.baseNote = BASE_NOTE + 12 * (this.octave - 3);\n\t\tthis.octaveChanged(this.baseNote);\n\t}\n\n\tdisplayKeyDown(key): void {\n\t\tif (typeof key == 'number') key = this.midi2key(key);\n\t\tif (!key) return;\n\t\tif (!this.poly && this.arpeggio.mode == 0 && this.lastKey)\n\t\t\tthis.displayKeyUp(this.lastKey, true);\n\t\tkey.css('transition', `background-color ${this.envelope.attack}s linear`);\n\t\tkey.addClass('piano-key-pressed');\n\t\tthis.lastKey = key;\n\t}\n\n\tdisplayKeyUp(key, immediate?) {\n\t\tif (typeof key == 'number') key = this.midi2key(key);\n\t\tif (!key) return;\n\t\tconst release = immediate ? 0 : this.envelope.release;\n\t\tkey.css('transition', `background-color ${release}s linear`);\n\t\tkey.removeClass('piano-key-pressed');\n\t}\n\n\tmidi2key(midi: number) {\n\t\treturn this.keys[midi - this.baseNote];\n\t}\n\n\tsetEnvelope(adsr) {\n\t\tthis.envelope = adsr;\n\t}\n\n\ttogglePoly() {\n\t\tthis.poly = !this.poly;\n\t\tif (this.poly) {\n\t\t\tconst cover = $('<div>').addClass('editor-cover');\n\t\t\tcover.append('<p>You can use the PC keyboard to play notes<br><br>' +\n\t\t\t\t'Synth editing is disabled in polyphonic mode</p>');\n\t\t\t$('body').append(cover);\n\t\t\t$('#poly-but').text('Poly');\n\t\t\tpopups.isOpen = true;\n\t\t\tthis.polyOn();\n\t\t}\n\t\telse {\n\t\t\t$('.editor-cover').remove();\n\t\t\t$('#poly-but').text('Mono');\n\t\t\tpopups.isOpen = false;\n\t\t\tthis.polyOff();\n\t\t}\n\t}\n\n\tgetPortamento(): number {\n\t\tconst sv = parseFloat(this.portaSlider.val());;\n\t\treturn log2linear(sv, PORTAMENTO_MIN, PORTAMENTO_MAX);\n\t}\n\n\tchangeArpeggioMode(button: JQuery) {\n\t\tthis.arpeggio.mode++;\n\t\tif (this.arpeggio.mode >= ARPEGGIO_MODES.length)\n\t\t\tthis.arpeggio.mode = 0;\n\t\tbutton.html(ARPEGGIO_LABELS[this.arpeggio.mode]);\n\t\tthis.triggerArpeggioChange();\n\t}\n\n\tchangeArpeggioOctave(button: JQuery) {\n\t\tthis.arpeggio.octave++;\n\t\tif (this.arpeggio.octave > MAX_ARPEGGIO_OCT)\n\t\t\tthis.arpeggio.octave = 1;\n\t\tbutton.text(this.arpeggio.octave);\n\t\tthis.triggerArpeggioChange();\n\t}\n\n\ttriggerArpeggioChange() {\n\t\tthis.arpeggioChanged(this.arpeggio.bpm,\n\t\t\tARPEGGIO_MODES[this.arpeggio.mode], this.arpeggio.octave);\n\t}\n\n\ttoJSON(): any {\n\t\treturn {\n\t\t\tportamento: this.getPortamento(),\n\t\t\toctave: this.octave,\n\t\t\tarpeggio: {\n\t\t\t\tbpm: this.arpeggio.bpm,\n\t\t\t\tmode: this.arpeggio.mode,\n\t\t\t\toctave: this.arpeggio.octave\n\t\t\t}\n\t\t}\n\t}\n\n\tfromJSON(json): void {\n\t\tif (!json) return;\n\t\tif (json.portamento) {\n\t\t\tthis.portaSlider.val(\n\t\t\t\tlinear2log(json.portamento, PORTAMENTO_MIN, PORTAMENTO_MAX));\n\t\t}\n\t\tif (json.octave) {\n\t\t\tthis.octave = json.octave;\n\t\t\tthis.updateOctave();\n\t\t}\n\t\tif (json.arpeggio) {\n\t\t\tthis.arpeggio.bpm = json.arpeggio.bpm;\n\t\t\tthis.arpeggio.mode = json.arpeggio.mode;\n\t\t\tthis.arpeggio.octave = json.arpeggio.octave;\n\t\t\tthis.controls.find('.arpeggio-box input').val(\n\t\t\t\tlinear2log(this.arpeggio.bpm, ARPEGGIO_MIN, ARPEGGIO_MAX));\n\t\t\tthis.controls.find('.btn-arpeggio-ud').html(ARPEGGIO_LABELS[this.arpeggio.mode]);\n\t\t\tthis.controls.find('.btn-arpeggio-oct').text(this.arpeggio.octave);\n\t\t\tthis.triggerArpeggioChange();\n\t\t}\n\t}\n\n\t// Simple event handlers\n\tnoteOn(midi: number): void {}\n\tnoteOff(midi: number): void {}\n\tpolyOn() {}\n\tpolyOff() {}\n\toctaveChanged(baseNote) {}\n\tarpeggioChanged(bpm: number, mode: string, octaves: number) {}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ts/piano/piano.ts\n **/","import { Timer } from '../synth/timer';\n\nexport class Arpeggiator {\n\tmode: string;\n\toctaves: number;\n\t_bpm: number;\n\tnotes: NoteTable;\n\tnotect: number;\n\tlastNote: NoteData;\n\tbackward = false;\n\ttimer: Timer;\n\n\tconstructor(ac: AudioContext) {\n\t\tthis.mode = '';\n\t\tthis.octaves = 1;\n\t\tthis.bpm = 60;\n\t\tthis.notect = 0;\n\t\tthis.notes = new NoteTable();\n\t\tthis.timer = new Timer(ac, this.bpm);\n\t\tthis.timer.start(time => this.timerCB(time));\n\t}\n\n\tget bpm() { return this._bpm }\n\n\tset bpm(v) {\n\t\tthis._bpm = v;\n\t\tif (this.timer) this.timer.bpm = v;\n\t}\n\n\ttimerCB(time: number): void {\n\t\t// Release previous note\n\t\tif (this.lastNote) {\n\t\t\tthis.noteOff(this.lastNote.noteToPlay, this.lastNote.velocity, time);\n\t\t\tthis.lastNote = null;\n\t\t}\n\t\t// Return if disabled or no notes\n\t\tif (this.mode.length == 0) return;\n\t\tconst len = this.notes.length();\n\t\tif (len == 0) return;\n\t\t// Check note counter\n\t\tthis.wrapCounter(len);\n\t\t// Get current note and play it\n\t\tconst ndata = this.notes.get(this.notect);\n\t\tthis.noteOn(ndata.noteToPlay, ndata.velocity, time);\n\t\tthis.lastNote = ndata;\n\t\t// Update note counter\n\t\tif (this.mode == 'u')\n\t\t\tthis.notect++;\n\t\telse if (this.mode == 'd')\n\t\t\tthis.notect--;\n\t\telse if (this.mode == 'ud') {\n\t\t\tif (this.backward) this.notect--;\n\t\t\telse this.notect++;\n\t\t}\n\t}\n\n\twrapCounter(len: number) {\n\t\tif (this.notect >= len) {\n\t\t\tif (this.mode != 'ud')\n\t\t\t\tthis.notect = 0;\n\t\t\telse {\n\t\t\t\tthis.backward = true;\n\t\t\t\tthis.notect = len < 2 ? 0 : len - 2;\n\t\t\t}\n\t\t}\n\t\telse if (this.notect < 0) {\n\t\t\tif (this.mode != 'ud')\n\t\t\t\tthis.notect = len - 1;\n\t\t\telse {\n\t\t\t\tthis.backward = false;\n\t\t\t\tthis.notect = len < 2 ? 0 : 1;\n\t\t\t}\n\t\t}\n\t}\n\n\tsendNoteOn(midi: number, velocity: number): void {\n\t\tif (this.mode.length == 0)\n\t\t\treturn this.noteOn(midi, velocity);\n\t\tthis.notes.add(midi, midi, velocity);\n\t\tif (this.octaves > 1)\n\t\t\tthis.notes.add(midi, midi + 12, velocity);\n\t\tif (this.octaves > 2)\n\t\t\tthis.notes.add(midi, midi + 24, velocity);\n\t\tif (this.notes.length() == 1)\n\t\t\tthis.timer.start();\n\t}\n\n\tsendNoteOff(midi: number, velocity: number): void {\n\t\tif (this.mode.length == 0)\n\t\t\tthis.noteOff(midi, velocity);\n\t\tthis.notes.remove(midi);\n\t\tif (this.notes.length() == 0) {\n\t\t\tthis.timerCB(0);\n\t\t\tthis.timer.stop();\n\t\t}\n\t}\n\n\t// Event handlers\n\tnoteOn(midi: number, velocity: number, time?: number): void {}\n\tnoteOff(midi: number, velocity: number, time?: number): void {}\n}\n\n\nclass NoteData {\n\tconstructor(public note, public noteToPlay, public velocity) {}\n}\n\nclass NoteTable {\n\tprivate notes: NoteData[] = [];\n\n\tlength(): number { return this.notes.length; }\n\n\tget(i: number): NoteData { return this.notes[i]; }\n\n\tadd(note: number, noteToPlay: number, velocity: number): void {\n\t\tconst ndata = new NoteData(note, noteToPlay, velocity);\n\t\tfor (let i = 0; i < this.notes.length; i++) {\n\t\t\tif (noteToPlay < this.notes[i].noteToPlay) {\n\t\t\t\tthis.notes.splice(i, 0, ndata);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis.notes.push(ndata);\n\t}\n\n\tremove(note: number): void {\n\t\tthis.notes = this.notes.filter(ndata => ndata.note != note);\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ts/piano/arpeggiator.ts\n **/","import { ModernAudioContext } from './modern';\nimport { Synth, NodeData, Portamento } from './synth';\n\n\n/**\n * A polyphonic synth controlling an array of voices\n */\nexport class Instrument {\n\tvoices: Voice[];\n\tpressed: number[];\n\treleased: number[];\n\tportamento: Portamento;\n\n\tconstructor(ac: ModernAudioContext, json: any, numVoices: number, dest?: AudioNode) {\n\t\t// Setup voices\n\t\tthis.pressed = [];\n\t\tthis.released = [];\n\t\tthis.voices = [];\n\t\tfor (let i = 0; i < numVoices; i++) {\n\t\t\tthis.voices.push(new Voice(ac, json, dest));\n\t\t\tthis.released.push(i);\n\t\t}\n\t\t// Setup synth params by having a common instance for all voices\n\t\tthis.portamento = this.voices[0].synth.portamento;\n\t\tif (json.keyboard && json.keyboard.portamento)\n\t\t\tthis.portamento.time = json.keyboard.portamento;\n\t\tfor (let i = 1; i < numVoices; i++)\n\t\t\tthis.voices[i].synth.portamento = this.portamento;\n\t}\n\n\tnoteOn(midi: number, velocity: number = 1, when?: number): void {\n\t\tconst vnum = this.findVoice();\n\t\tconst voice = this.voices[vnum];\n\t\tthis.pressed.push(vnum);\n\t\tvoice.noteOn(midi, velocity, when);\n\t}\n\n\tnoteOff(midi: number, velocity: number = 1, when?: number): void {\n\t\tfor (let i = 0; i < this.voices.length; i++) {\n\t\t\tconst voice = this.voices[i];\n\t\t\tif (voice.lastNote == midi) {\n\t\t\t\tvoice.noteOff(midi, velocity, when);\n\t\t\t\tthis.released.push(i);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tfindVoice(): number {\n\t\tlet voices: number[];\n\t\tif (this.released.length > 0) voices = this.released;\n\t\telse if (this.pressed.length > 0) voices = this.pressed;\n\t\telse throw \"This should never happen\";\n\t\treturn voices.splice(0, 1)[0];\n\t}\n\n\tclose() {\n\t\tfor (const voice of this.voices) voice.close();\n\t}\n}\n\n\n/**\n * An independent monophonic synth\n */\nexport class Voice {\n\tsynth: Synth;\n\tlastNote: number;\n\tloader: SynthLoader;\n\n\tconstructor(ac: ModernAudioContext, json: any, dest?: AudioNode) {\n\t\tthis.loader = new SynthLoader();\n\t\tthis.synth = this.loader.load(ac, json, dest || ac.destination);\n\t\tthis.lastNote = 0;\n\t}\n\n\tnoteOn(midi: number, velocity: number = 1, when?: number): void {\n\t\tthis.synth.noteOn(midi, velocity, when);\n\t\tthis.lastNote = midi;\n\t}\n\n\tnoteOff(midi: number, velocity: number = 1, when?: number): void {\n\t\tthis.synth.noteOff(midi, velocity, when);\n\t\tthis.lastNote = 0;\n\t}\n\n\tclose(): void {\n\t\t// This method must be called to avoid memory leaks at the Web Audio level\n\t\tif (this.lastNote) this.noteOff(this.lastNote, 1);\n\t\tthis.loader.close();\n\t}\n}\n\n\n//-------------------- Private --------------------\n\nclass VoiceNodeData extends NodeData {\n\tinputs: NodeData[] = [];\n\tconstructor(public id: number) {\n\t\tsuper();\n\t}\n\tgetInputs(): NodeData[] {\n\t\treturn this.inputs;\n\t}\n}\n\nclass SynthLoader {\n\tnodes: VoiceNodeData[] = [];\n\tsynth: Synth;\n\n\tload(ac: ModernAudioContext, json: any, dest: AudioNode): Synth {\n\t\tconst synth = new Synth(ac);\n\t\t// Add nodes into id-based table\n\t\tlet i = 0;\n\t\tfor (const jn of json.nodes)\n\t\t\tthis.nodes[i++] = new VoiceNodeData(jn.id);\n\t\t// Then set their list of inputs\n\t\tfor (let i = 0; i < json.nodes.length; i++)\n\t\t\tfor (const inum of json.nodes[i].inputs)\n\t\t\t\tthis.nodes[i].inputs.push(this.nodeById(inum));\n\t\t// Then set their data\n\t\tfor (let i = 0; i < json.nodes.length; i++) {\n\t\t\tconst type = json.nodeData[i].type;\n\t\t\tif (type == 'out')\n\t\t\t\tsynth.initOutputNodeData(this.nodes[i], dest);\n\t\t\telse\n\t\t\t\tsynth.initNodeData(this.nodes[i], type);\n\t\t\tsynth.json2NodeData(json.nodeData[i], this.nodes[i]);\n\t\t}\n\t\t// Then notify connections to handler\n\t\tfor (const dst of this.nodes)\n\t\t\tfor (const src of dst.inputs)\n\t\t\t\tsynth.connectNodes(src, dst);\n\t\t// Finally, return the newly created synth\n\t\tthis.synth = synth;\n\t\treturn synth;\n\t}\n\n\tnodeById(id: number): VoiceNodeData {\n\t\tfor (const node of this.nodes)\n\t\t\tif (node.id === id) return node;\n\t\treturn null;\n\t}\n\n\tclose() {\n\t\tfor (const node of this.nodes)\n\t\t\tfor (const input of node.inputs)\n\t\t\t\tthis.synth.disconnectNodes(input, node);\n\t}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/instrument.ts\n **/","import { SynthUI } from './synthUI';\nimport * as popups from '../popups';\n\nconst MAX_PRESETS = 20;\n\n/**\n * Manages the presets box:\n * - Handles navigation through presets\n * - Handles preset loading & saving\n */\nexport class Presets {\n\n\tsynthUI: SynthUI;\n\tpresets: any[];\n\tpresetNum: number = 0;\n\n\tconstructor(synthUI: SynthUI) {\n\t\tthis.synthUI = synthUI;\n\t\tthis.registerListeners();\n\t\tthis.loadPresets();\n\t}\n\n\tloadPresets() {\n\t\tthis.presets = new Array(MAX_PRESETS);\n\t\tfor (let i = 0; i < MAX_PRESETS; i++)\n\t\t\tthis.presets[i] = this.getEmptyPreset();\n\t\t$.get('js/presets.json', data => {\n\t\t\tif (!(data instanceof Array)) return;\n\t\t\tfor (let i = 0; i < MAX_PRESETS; i++)\n\t\t\t\tif (data[i]) this.presets[i] = data[i];\n\t\t\tthis.preset2synth();\n\t\t});\n\t}\n\n\tgetEmptyPreset(): any {\n\t\treturn {\n\t\t\tname: '',\n\t\t\tnodes: [\n\t\t\t\t{ id: 0, x: 500, y: 180, name: 'Out', inputs: [], classes: 'node node-out' }\n\t\t\t],\n\t\t\tnodeData: [\n\t\t\t\t{ type: 'out', params: {} }\n\t\t\t]\n\t\t};\n\t}\n\n\tregisterListeners() {\n\t\t$('#save-but').click(_ => this.savePreset());\n\t\t$('#load-file').on('change', evt  => this.loadPreset(evt));\n\t\t$('#prev-preset-but').click(_ => this.changePreset(-1));\n\t\t$('#next-preset-but').click(_ => this.changePreset(+1));\n\t\t$('body').keydown(evt => {\n\t\t\tif (evt.target.nodeName == 'INPUT' || popups.isOpen) return;\n\t\t\tif (evt.keyCode == 37) this.changePreset(-1);\n\t\t\tif (evt.keyCode == 39) this.changePreset(+1);\n\t\t});\n\t}\n\n\tchangePreset(increment: number) {\n\t\tlet newNum = this.presetNum + increment;\n\t\tif (newNum < 0) newNum = MAX_PRESETS - 1;\n\t\telse if (newNum >= MAX_PRESETS) newNum = 0;\n\t\tthis.synth2preset();\n\t\tthis.presetNum = newNum;\n\t\tthis.preset2synth();\n\t}\n\n\tsynth2preset() {\n\t\tthis.presets[this.presetNum] = this.synthUI.gr.toJSON();\n\t\tthis.presets[this.presetNum].name = $('#preset-name').val();\n\t}\n\n\tpreset2synth() {\n\t\tconst preset = this.presets[this.presetNum];\n\t\tthis.afterLoad(preset);\n\t\t$('#preset-num').text(this.presetNum + 1);\n\t\t$('#preset-name').val(preset.name);\n\t\t$('#node-params').empty();\n\t\tthis.synthUI.gr.fromJSON(preset);\n\t\tthis.selectBestNode();\n\t}\n\n\tselectBestNode() {\n\t\tconst getFirstNode = (isGood) => this.synthUI.gr.nodes.filter(isGood)[0];\n\t\tlet n = getFirstNode(n => n.data.type == 'Filter');\n\t\tif (!n) n = getFirstNode(n => n.data.type == 'ADSR');\n\t\tif (!n) n = getFirstNode(n => n.data.anode.numberOfInputs == 0);\n\t\tif (n) this.synthUI.gr.selectNode(n);\n\t}\n\n\tloadPreset(evt) {\n\t\tif (!evt.target.files || evt.target.files.length <= 0) return;\n\t\tconst file = evt.target.files[0];\n\t\tconst reader = new FileReader();\n\t\treader.onload = (loadEvt: any)  => {\n\t\t\tconst json = JSON.parse(loadEvt.target.result);\n\t\t\tthis.presets[this.presetNum] = json;\n\t\t\tthis.preset2synth();\n\t\t};\n\t\treader.readAsText(file);\n\t}\n\n\tsavePreset() {\n\t\tconst json = this.synthUI.gr.toJSON();\n\t\tthis.beforeSave(json);\n\t\tjson.name = $('#preset-name').val().trim();\n\t\tconst jsonData = JSON.stringify(json);\n\t\tif (this.browserSupportsDownload()) {\n\t\t\t//TODO: open popup to ask for file name before saving\n\t\t\tif (json.name.length == 0) json.name = '' + this.presetNum;\n\t\t\tconst a = $('<a>');\n\t\t\ta.attr('download', json.name + '.json');\n\t\t\ta.attr('href',\n\t\t\t\t'data:application/octet-stream;base64,' + btoa(jsonData));\n\t\t\tvar clickEvent = new MouseEvent('click',\n\t\t\t\t{ view: window, bubbles: true, cancelable: false });\n\t\t\ta[0].dispatchEvent(clickEvent);\n\t\t}\n\t\telse {\n\t\t\tpopups.prompt(\n\t\t\t\t'Copy the text below to the clipboard and save it to a local text file',\n\t\t\t\t'Save preset', jsonData, null);\n\t\t}\n\t}\n\n\tbrowserSupportsDownload(): boolean {\n\t\treturn !(<any>window).externalHost && 'download' in $('<a>')[0];\n\t}\n\n\t// Extension point to specify additional data to save, e.g. keyboard settings\n\tbeforeSave(json: any): void {}\n\t// Extension point to handle previously saved additional data\n\tafterLoad(json: any): void {}\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synthUI/presets.ts\n **/","interface TimerCallback {\n\t(time: number): void;\n}\n\nexport class Timer {\n\trunning: boolean;\n\tac: AudioContext;\n\tcb: TimerCallback;\n\t_bpm: number;\n\tinterval: number;\n\tahead: number;\n\tnextNoteTime: number;\n\tdt: number;\n\n\tconstructor(ac: AudioContext, bpm = 60, interval = 0.025, ahead = 0.1) {\n\t\tthis.running = false;\n\t\tthis.ac = ac;\n\t\tthis.dt = 0;\n\t\tthis.nextNoteTime = 0;\n\t\tthis.bpm = bpm;\n\t\tthis.interval = interval;\n\t\tthis.ahead = ahead;\n\t}\n\n\tget bpm() { return this._bpm; }\n\n\tset bpm(v) {\n\t\tthis._bpm = v;\n\t\tthis.nextNoteTime -= this.dt;\n\t\tthis.dt = (1/4) * 60 / this._bpm;\n\t\tthis.nextNoteTime += this.dt;\n\t}\n\n\tstart(cb?: TimerCallback): void {\n\t\tif (this.running) return;\n\t\tthis.running = true;\n\t\tif (cb) this.cb = cb;\n\t\tthis.nextNoteTime = this.ac.currentTime;\n\t\tthis.tick();\n\t}\n\n\tstop(): void {\n\t\tthis.running = false;\n\t}\n\n\ttick(): void {\n\t\tif (!this.running) return;\n\t\tsetTimeout(this.tick.bind(this), this.interval * 1000);\n\t\twhile (this.nextNoteTime < this.ac.currentTime + this.ahead) {\n\t\t\tif (this.cb) this.cb(this.nextNoteTime);\n\t\t\tthis.nextNoteTime += this.dt;\n\t\t}\n\t}\n}\n\n\n/** WEBPACK FOOTER **\n ** ./ts/synth/timer.ts\n **/","export class MidiKeyboard {\n\tconnected = false;\n\n\tconstructor() {\n\t\tif (!navigator.requestMIDIAccess) return;\n\t    navigator.requestMIDIAccess({ sysex: false }).then(midiAccess => {\n\t\t\tif (midiAccess.inputs.size <= 0) return;\n\t\t\tconst input = midiAccess.inputs.values().next().value;\n\t\t\tif (!input) return;\n\t\t\tinput.onmidimessage = msg => this.midiMessage(msg);\n\t\t\tthis.connected = true;\n\t\t});\n\t}\n\n\tmidiMessage(msg) {\n\t\tconst data = msg.data;\n\t\tconst cmd = data[0] >> 4;\n\t\tconst channel = data[0] & 0xf;\n\t\tconst note = data[1];\n\t\tconst velocity = data[2];\n\t\tswitch (cmd) {\n\t\t\tcase 9:\n\t\t\t\tthis.noteOn(note, velocity, channel);\n\t\t\t\tbreak;\n\t\t\tcase 8:\n\t\t\t\tthis.noteOff(note, velocity, channel);\n\t\t\t\tbreak;\n\t\t}\n\t}\n\n\tnoteOn(midi: number, velocity: number, channel: number): void {}\n\tnoteOff(midi: number, velocity: number, channel: number): void {}\n}\n\ndeclare var navigator: any;\n\n\n\n/** WEBPACK FOOTER **\n ** ./ts/piano/midi.ts\n **/"],"sourceRoot":""}