!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=18)}([function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){(function(e){t.exports=e}).call(e,{})},function(t,e,n){"use strict";function i(t,e){let n=[];for(let i=0;i<e;i++)n[i]=t instanceof Function?t():t;return n}function r(t){return Math.floor(Math.random()*t)}var o=n(4);const s=n(5);class a{constructor(t){this.numCities=t,this.cityX=[],this.cityY=[],this.initCities(this.cityX,this.cityY),this.distances=i(()=>new Array,t);for(let e=0;e<t;e++)for(let n=0;n<t;n++)this.distances[e][n]=this.calcDistance(this.cityX[e],this.cityY[e],this.cityX[n],this.cityY[n])}getDistance(t,e){return this.distances[t][e]}initCities(t,e){if(this.numCities<100){let n,i=[];for(let o=0;o<this.numCities;o++){do{n=r(149)+1}while(i[n]);i[n]=!0,t[o]=20+n%15*40+r(10),e[o]=30+n/15*40+r(10)}}else for(let n=0;n<this.numCities;n++)t[n]=620*Math.random(),e[n]=460*Math.random()}calcDistance(t,e,n,i){let r=n-t,o=i-e;return Math.sqrt(r*r+o*o)}}class c extends o.b{constructor(t,e=!0){super(),this.map=t,this.eval=Number.NEGATIVE_INFINITY,this.flags=i(!1,t.numCities),e&&(this.cities=i(-1,t.numCities),this.permuteCities(),this.eval=this.calcTrip())}setCities(t){this.cities=t,this.eval=this.calcTrip()}evaluate(){return this.eval}combine(t){let e=r(this.cities.length),n=t,i=this.combineLeft(e,this,n);i.eval=i.calcTrip();let o=[];return o.push(i),i=this.combineRight(e,this,n),i.eval=i.calcTrip(),o.push(i),o}equals(t){return this.eval==t.eval&&function(t,e){return t.length==e.length&&t.every((t,n)=>t===e[n])}(this.cities,t.cities)}invert(){let t=new c(this.map,!1);return t.cities=this.cities.slice(),t.cities.reverse(),t.eval=this.eval,t}permuteCities(){let t=[];for(let e=0;e<this.cities.length;e++)t[e]=e;for(let e=0;e<this.cities.length;e++){let n=this.cities.length-e,i=r(n);this.cities[e]=t[i],t[i]=t[n-1]}}combineLeft(t,e,n){let i=new c(this.map,!1);i.cities=e.cities.slice(),i.initFlags(e.cities,0,t);let r=t,o=0;for(;t<i.cities.length;){let e=n.cities[r];if(i.found(e,0,t)||(i.cities[t++]=e),++r>=n.cities.length&&(r=0),++o>n.cities.length)throw new Error("Could not combine")}return i}combineRight(t,e,n){let i=new c(this.map,!1);i.cities=e.cities.slice(),i.initFlags(e.cities,t,e.cities.length);let r=0,o=0;for(;o<t;){let e=n.cities[r];if(i.found(e,t,i.cities.length)||(i.cities[o++]=e),++r>n.cities.length)throw new Error("Could not combine")}return i}initFlags(t,e,n){for(let i=e;i<n;i++)this.flags[t[i]]=!0}found(t,e,n){return this.flags[t]}calcTrip(){let t=0;for(let e=0;e<this.cities.length-1;e++)t+=this.map.getDistance(this.cities[e],this.cities[e+1]);return t+=this.map.getDistance(this.cities[this.cities.length-1],this.cities[0])}}class u extends o.a{constructor(t){super(t);let e=t.mapSeed&&t.mapSeed.trim().length>0;e&&s(t.mapSeed,{global:!0}),this.map=new a(t.numCities),e&&s(t.engineSeed,{global:!0})}newSolution(){return new c(this.map)}}e.a=u},function(t,e,n){"use strict";class i{static compareTo(t,e){let n=t.evaluate(),i=e.evaluate();return n<i?-1:n>i?1:0}}e.b=i;class r{constructor(t){this.numSolutions=t.population,this.solutions=[],this.weights=[],this.weightExponent=t.weightExponent}add(t){this.solutions.push(t)}prepareForSelection(){this.solutions.sort(i.compareTo);let t=this.solutions[this.solutions.length-1].evaluate();this.totalWeight=0;for(let e=0;e<this.numSolutions;e++){let n=t-this.solutions[e].evaluate();1!=this.weightExponent&&(n=Math.pow(n,this.weightExponent)),this.totalWeight+=n,this.weights[e]=this.totalWeight}}select(){let t=Math.random()*this.totalWeight;for(let e=0;e<this.weights.length;e++)if(t<this.weights[e])return this.solutions[e];throw new Error("Invalid population state")}getIncumbent(){return this.solutions[0]}size(){return this.solutions.length}hasClone(t){for(let e=0;e<this.solutions.length;e++)if(t.equals(this.solutions[e]))return!0;return!1}copySolutions(t,e){t.solutions=this.solutions.slice(0,e)}}class o{constructor(t){this.stop=!1,this.params=t}start(){this.generationCount=0,this.generation=this.randomize(),this.generation.prepareForSelection()}run(){for(this.start();!this.stop;)this.step()}steps(t){for(;!this.stop&&t>0;)this.step(),t--}setListener(t){this.listener=t}step(){let t=new r(this.params);for(this.copyElite(this.generation,t),this.generation=this.combine(this.generation,t);this.generation.size()<this.params.population;)this.generation.add(this.newSolution());this.generation.prepareForSelection(),this.generationCount++,this.fireStepEvent(this.generation,this.generationCount)}copyElite(t,e){t.copySolutions(e,this.params.elite)}combine(t,e){let n=this.params.elite,i=0;for(;n<this.params.population&&i<2*this.params.population;){i++;let t=this.generation.select(),r=this.generation.select();if(t.equals(r))continue;Math.random()<this.params.invertRatio&&(t=t.invert());let o=t.combine(r);for(let t of o)e.hasClone(t)||(n<this.params.population&&e.add(t),n++)}return e}fireStepEvent(t,e){null!=this.listener&&this.listener.engineStep(t,e)}randomize(){let t=new r(this.params);for(let e=0;e<this.params.population;e++)t.add(this.newSolution());return t}}e.a=o},function(t,e,n){var i=n(6),r=n(7),o=n(8),s=n(9),a=n(10),c=n(11),u=n(12);u.alea=i,u.xor128=r,u.xorwow=o,u.xorshift7=s,u.xor4096=a,u.tychei=c,t.exports=u},function(t,e,n){(function(t){var i;!function(t,r,o){function s(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function a(t,e){var n=new function(t){var e=this,n=function(){var t=4022871197;return function(e){e=e.toString();for(var n=0;n<e.length;n++){var i=.02519603282416938*(t+=e.charCodeAt(n));i-=t=i>>>0,t=(i*=t)>>>0,t+=4294967296*(i-=t)}return 2.3283064365386963e-10*(t>>>0)}}();e.next=function(){var t=2091639*e.s0+2.3283064365386963e-10*e.c;return e.s0=e.s1,e.s1=e.s2,e.s2=t-(e.c=0|t)},e.c=1,e.s0=n(" "),e.s1=n(" "),e.s2=n(" "),e.s0-=n(t),e.s0<0&&(e.s0+=1),e.s1-=n(t),e.s1<0&&(e.s1+=1),e.s2-=n(t),e.s2<0&&(e.s2+=1),n=null}(t),i=e&&e.state,r=n.next;return r.int32=function(){return 4294967296*n.next()|0},r.double=function(){return r()+1.1102230246251565e-16*(2097152*r()|0)},r.quick=r,i&&("object"==typeof i&&s(i,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n(0)&&n(2)?void 0!==(i=function(){return a}.call(e,n,e,r))&&(r.exports=i):this.alea=a}(0,"object"==typeof t&&t,n(0))}).call(e,n(1)(t))},function(t,e,n){(function(t){var i;!function(t,r,o){function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function a(t,e){var n=new function(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var i=0;i<n.length+64;i++)e.x^=0|n.charCodeAt(i),e.next()}(t),i=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&s(i,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n(0)&&n(2)?void 0!==(i=function(){return a}.call(e,n,e,r))&&(r.exports=i):this.xor128=a}(0,"object"==typeof t&&t,n(0))}).call(e,n(1)(t))},function(t,e,n){(function(t){var i;!function(t,r,o){function s(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function a(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var i=0;i<n.length+64;i++)e.x^=0|n.charCodeAt(i),i==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}(t),i=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&s(i,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n(0)&&n(2)?void 0!==(i=function(){return a}.call(e,n,e,r))&&(r.exports=i):this.xorwow=a}(0,"object"==typeof t&&t,n(0))}).call(e,n(1)(t))},function(t,e,n){(function(t){var i;!function(t,r,o){function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function a(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,i=e.x,r=e.i;return t=i[r],t^=t>>>7,n=t^t<<24,t=i[r+1&7],n^=t^t>>>10,t=i[r+3&7],n^=t^t>>>3,t=i[r+4&7],n^=t^t<<7,t=i[r+7&7],t^=t<<13,n^=t^t<<9,i[r]=n,e.i=r+1&7,n},function(t,e){var n,i=[];if(e===(0|e))i[0]=e;else for(e=""+e,n=0;n<e.length;++n)i[7&n]=i[7&n]<<15^e.charCodeAt(n)+i[n+1&7]<<13;for(;i.length<8;)i.push(0);for(n=0;n<8&&0===i[n];++n);for(8==n?i[7]=-1:i[n],t.x=i,t.i=0,n=256;n>0;--n)t.next()}(e,t)}(t),i=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=n.next,r.quick=r,i&&(i.x&&s(i,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n(0)&&n(2)?void 0!==(i=function(){return a}.call(e,n,e,r))&&(r.exports=i):this.xorshift7=a}(0,"object"==typeof t&&t,n(0))}).call(e,n(1)(t))},function(t,e,n){(function(t){var i;!function(t,r,o){function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function a(t,e){null==t&&(t=+new Date);var n=new function(t){var e=this;e.next=function(){var t,n,i=e.w,r=e.X,o=e.i;return e.w=i=i+1640531527|0,n=r[o+34&127],t=r[o=o+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=r[o]=n^t,e.i=o,n+(i^i>>>16)|0},function(t,e){var n,i,r,o,s,a=[],c=128;for(e===(0|e)?(i=e,e=null):(e+="\0",i=0,c=Math.max(c,e.length)),r=0,o=-32;o<c;++o)e&&(i^=e.charCodeAt((o+32)%e.length)),0===o&&(s=i),i^=i<<10,i^=i>>>15,i^=i<<4,i^=i>>>13,o>=0&&(s=s+1640531527|0,r=0==(n=a[127&o]^=i+s)?r+1:0);for(r>=128&&(a[127&(e&&e.length||0)]=-1),r=127,o=512;o>0;--o)i=a[r+34&127],n=a[r=r+1&127],i^=i<<13,n^=n<<17,i^=i>>>15,n^=n>>>12,a[r]=i^n;t.w=s,t.X=a,t.i=r}(e,t)}(t),i=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=n.next,r.quick=r,i&&(i.X&&s(i,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n(0)&&n(2)?void 0!==(i=function(){return a}.call(e,n,e,r))&&(r.exports=i):this.xor4096=a}(0,"object"==typeof t&&t,n(0))}).call(e,n(1)(t))},function(t,e,n){(function(t){var i;!function(t,r,o){function s(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function a(t,e){var n=new function(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,i=e.d,r=e.a;return t=t<<25^t>>>7^n,n=n-i|0,i=i<<24^i>>>8^r,r=r-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-i|0,e.d=i<<16^n>>>16^r,e.a=r-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var i=0;i<n.length+20;i++)e.b^=0|n.charCodeAt(i),e.next()}(t),i=e&&e.state,r=function(){return(n.next()>>>0)/4294967296};return r.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},r.int32=n.next,r.quick=r,i&&("object"==typeof i&&s(i,n),r.state=function(){return s(n,{})}),r}r&&r.exports?r.exports=a:n(0)&&n(2)?void 0!==(i=function(){return a}.call(e,n,e,r))&&(r.exports=i):this.tychei=a}(0,"object"==typeof t&&t,n(0))}).call(e,n(1)(t))},function(t,e,n){var i;!function(r,o){function s(t,e,n){var i=[],s=u(c((e=1==e?{entropy:!0}:e||{}).entropy?[t,l(r)]:null==t?function(){try{var t;return h&&(t=h.randomBytes)?t=t(p):(t=new Uint8Array(p),(f.crypto||f.msCrypto).getRandomValues(t)),l(t)}catch(t){var e=f.navigator,n=e&&e.plugins;return[+new Date,f,n,f.screen,l(r)]}}():t,3),i),b=new function(t){var e,n=t.length,i=this,r=0,o=i.i=i.j=0,s=i.S=[];n||(t=[n++]);for(;r<p;)s[r]=r++;for(r=0;r<p;r++)s[r]=s[o=w&o+t[r%n]+(e=s[r])],s[o]=e;(i.g=function(t){for(var e,n=0,r=i.i,o=i.j,s=i.S;t--;)e=s[r=w&r+1],n=n*p+s[w&(s[r]=s[o=w&o+e])+(s[o]=e)];return i.i=r,i.j=o,n})(p)}(i),y=function(){for(var t=b.g(d),e=x,n=0;t<v;)t=(t+n)*p,e*=p,n=b.g(1);for(;t>=m;)t/=2,e/=2,n>>>=1;return(t+n)/e};return y.int32=function(){return 0|b.g(4)},y.quick=function(){return b.g(4)/4294967296},y.double=y,u(l(b.S),r),(e.pass||n||function(t,e,n,i){return i&&(i.S&&a(i,b),t.state=function(){return a(b,{})}),n?(o[g]=t,e):t})(y,s,"global"in e?e.global:this==o,e.state)}function a(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function c(t,e){var n,i=[],r=typeof t;if(e&&"object"==r)for(n in t)try{i.push(c(t[n],e-1))}catch(t){}return i.length?i:"string"==r?t:t+"\0"}function u(t,e){for(var n,i=t+"",r=0;r<i.length;)e[w&r]=w&(n^=19*e[w&r])+i.charCodeAt(r++);return l(e)}function l(t){return String.fromCharCode.apply(0,t)}var h,f=this,p=256,d=6,g="random",x=o.pow(p,d),v=o.pow(2,52),m=2*v,w=p-1;if(o["seed"+g]=s,u(o.random(),r),"object"==typeof t&&t.exports){t.exports=s;try{h=n(13)}catch(t){}}else void 0!==(i=function(){return s}.call(e,n,e,t))&&(t.exports=i)}([],Math)},function(t,e){},,,,,function(t,e,n){t.exports=n(19)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(3);let r=self.postMessage,o=0,s=0,a=Date.now(),c=0,u=0,l=0,h=0;let f;self.onmessage=(t=>{switch(t.data.command){case"start":return function(t){(f=new i.a(t)).setListener(p),o=Date.now(),f.start()}(t.data.params);case"steps":return function(t){f.steps(t),r({command:"steps",incumbent:f.generation.getIncumbent()})}(t.data.steps);case"migrate":return function(t){let e=f.newSolution();e.setCities(t.cities),f.generation.hasClone(e)||(f.generation.add(e),f.generation.prepareForSelection())}(t.data.solution);default:throw Error("Unknown command: "+t.data.command)}});const p={engineStep(t,e){if(!function(t){let e=Date.now();return!(e-s<t||(s=e,0))}(250))return;let n=Date.now();r({command:"status",status:function(t,e,n){let i=t.getIncumbent(),r=i.evaluate();return r!=h&&(h=r,u=e,l=n-o),{generation:e,gps:(e-c)/(n-a)*1e3,eval:r,lastIncumbentGen:u,elapsed:n-o,lastIncumbentWhen:l,incumbent:i}}(t,e,n)}),c=e,a=n}}}]);